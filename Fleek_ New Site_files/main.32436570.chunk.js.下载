(this["webpackJsonpfe-terminal-sites"]=this["webpackJsonpfe-terminal-sites"]||[]).push([[0],{100:function(e,t,a){"use strict";var n,r,i,o,l,s,c,u,d,m=a(23),p=a(22),b=a(68),f=Object(p.a)(n||(n=Object(m.a)(["\n  mutation addCustomDomain($input: AddCustomDomainInput!) {\n    addCustomDomain(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"])),b.c),g=Object(p.a)(r||(r=Object(m.a)(["\n  mutation addHnsDomain($input: AddSiteHnsDomainInput!) {\n    addHnsDomain(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"])),b.c),y=Object(p.a)(i||(i=Object(m.a)(["\n  mutation EditBuildSettings($input: EditBuildSettings!) {\n    editBuildSettings(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"])),b.c),h=Object(p.a)(o||(o=Object(m.a)(["\n  mutation editDeploySettings($input: EditDeploySettings!) {\n    editDeploySettings(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"])),b.c),v=Object(p.a)(l||(l=Object(m.a)(["\n  mutation retryDeploy(\n    $siteId: ID!,\n    $deployId: ID!\n  ) {\n    retryDeploy(\n      siteId: $siteId,\n      deployId: $deployId\n    ) {\n      ...DeployDetail\n    }\n  }\n  ","\n"])),b.a),E=Object(p.a)(s||(s=Object(m.a)(["\n  mutation triggerDeploy($siteId: ID!) {\n    triggerDeploy(siteId: $siteId) {\n      ...DeployDetail\n    }\n  }\n  ","\n"])),b.a),O=Object(p.a)(c||(c=Object(m.a)(["\n  mutation cancelDeploy($deployId: ID!, $siteId: ID!) {\n    cancelDeploy(deployId: $deployId, siteId: $siteId) {\n      ...DeployDetail\n    }\n  }\n  ","\n"])),b.a),S=(Object(p.a)(u||(u=Object(m.a)(["\n  mutation createStripeSession($input: CreateStripeSessionInput!) {\n    createStripeSession(input: $input) {\n      sessionId\n    }\n  }\n"]))),Object(p.a)(d||(d=Object(m.a)(["\n  mutation upgradeCustomDomain($input: UpgradeCustomDomainInput!) {\n    upgradeCustomDomain(input: $input)\n  }\n"]))));a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return g})),a.d(t,"d",(function(){return y})),a.d(t,"e",(function(){return h})),a.d(t,"f",(function(){return v})),a.d(t,"g",(function(){return E})),a.d(t,"c",(function(){return O})),a.d(t,"h",(function(){return S}))},105:function(e,t,a){"use strict";var n,r,i,o,l,s,c,u,d=a(23),m=a(22),p=Object(m.a)(n||(n=Object(d.a)(["\n  fragment PlanInfo on Plan {\n    id\n    name\n    description\n    priceMonthly\n    priceYearly\n    limitBuildTimeInMins\n    limitBandwidthInMB\n    limitNumberOfSites\n    limitTeams\n    limitTeamMembers\n    extraTeamMemberPrice\n  }\n"]))),b=Object(m.a)(r||(r=Object(d.a)(["\n  fragment PaymentInfo on PaymentMethod {\n    type\n    issuer\n    card {\n      lastCardNumbers\n    }\n  }\n"]))),f=Object(m.a)(i||(i=Object(d.a)(["\n  fragment SitesLimitBillingInfo on TeamBillingInfo {\n    activePlan {\n      selectedPlan {\n        id\n        name\n        limitNumberOfSites\n      }\n    }\n  }\n"]))),g=Object(m.a)(o||(o=Object(d.a)(["\n  fragment BillingInfo on TeamBillingInfo {\n    activePlan {\n      currentBuildMinutesInMonth\n      currentBandwidthInMonth\n      # currentMemberAmount ### waiting on BE\n      activatedAt\n      expiresAt\n      selectedPlan {\n        ...PlanInfo\n      }\n    }\n    paymentMethod {\n      ...PaymentInfo\n    }\n    stripeCustomerId\n    billingInformation {\n      name\n      email\n    }\n  }\n  ","\n  ","\n"])),p,b),y=Object(m.a)(l||(l=Object(d.a)(["\n  fragment TeamInfo on Team {\n    id\n    name\n    creatorId\n    seatCount\n    membersCount\n    stripeCustomerId\n    pendingInviteCount\n    status\n  }\n"]))),h=Object(m.a)(s||(s=Object(d.a)(["\n  fragment MembershipInfo on Membership {\n    teamId\n    teamName\n    createdAt\n    accessLevel\n  }\n"]))),v=(a(432),Object(m.a)(c||(c=Object(d.a)(["\n  fragment ApiKeyInfo on ApiKey {\n    key\n    secret\n  }\n"])))),E=Object(m.a)(u||(u=Object(d.a)(["\n  fragment InvitationInfo on Invitation {\n    id\n    email\n    teamId\n    status\n    senderId\n    createdAt\n  }\n"])));a.d(t,"e",(function(){return p})),a.d(t,"f",(function(){return f})),a.d(t,"b",(function(){return g})),a.d(t,"g",(function(){return y})),a.d(t,"d",(function(){return h})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return E}))},1099:function(e,t){e.exports=Stripe},1101:function(e){e.exports=JSON.parse('[{"label":"Afghanistan","value":"AF"},{"label":"\xc5land Islands","value":"AX"},{"label":"Albania","value":"AL"},{"label":"Algeria","value":"DZ"},{"label":"American Samoa","value":"AS"},{"label":"Andorra","value":"AD"},{"label":"Angola","value":"AO"},{"label":"Anguilla","value":"AI"},{"label":"Antarctica","value":"AQ"},{"label":"Antigua and Barbuda","value":"AG"},{"label":"Argentina","value":"AR"},{"label":"Armenia","value":"AM"},{"label":"Aruba","value":"AW"},{"label":"Australia","value":"AU"},{"label":"Austria","value":"AT"},{"label":"Azerbaijan","value":"AZ"},{"label":"Bahamas","value":"BS"},{"label":"Bahrain","value":"BH"},{"label":"Bangladesh","value":"BD"},{"label":"Barbados","value":"BB"},{"label":"Belarus","value":"BY"},{"label":"Belgium","value":"BE"},{"label":"Belize","value":"BZ"},{"label":"Benin","value":"BJ"},{"label":"Bermuda","value":"BM"},{"label":"Bhutan","value":"BT"},{"label":"Bolivia","value":"BO"},{"label":"Bosnia and Herzegovina","value":"BA"},{"label":"Botswana","value":"BW"},{"label":"Bouvet Island","value":"BV"},{"label":"Brazil","value":"BR"},{"label":"British Indian Ocean Territory","value":"IO"},{"label":"Brunei Darussalam","value":"BN"},{"label":"Bulgaria","value":"BG"},{"label":"Burkina Faso","value":"BF"},{"label":"Burundi","value":"BI"},{"label":"Cambodia","value":"KH"},{"label":"Cameroon","value":"CM"},{"label":"Canada","value":"CA"},{"label":"Cape Verde","value":"CV"},{"label":"Cayman Islands","value":"KY"},{"label":"Central African Republic","value":"CF"},{"label":"Chad","value":"TD"},{"label":"Chile","value":"CL"},{"label":"China","value":"CN"},{"label":"Christmas Island","value":"CX"},{"label":"Cocos (Keeling) Islands","value":"CC"},{"label":"Colombia","value":"CO"},{"label":"Comoros","value":"KM"},{"label":"Congo","value":"CG"},{"label":"Congo, The Democratic Republic of the","value":"CD"},{"label":"Cook Islands","value":"CK"},{"label":"Costa Rica","value":"CR"},{"label":"Cote D\'Ivoire","value":"CI"},{"label":"Croatia","value":"HR"},{"label":"Cuba","value":"CU"},{"label":"Cyprus","value":"CY"},{"label":"Czech Republic","value":"CZ"},{"label":"Denmark","value":"DK"},{"label":"Djibouti","value":"DJ"},{"label":"Dominica","value":"DM"},{"label":"Dominican Republic","value":"DO"},{"label":"Ecuador","value":"EC"},{"label":"Egypt","value":"EG"},{"label":"El Salvador","value":"SV"},{"label":"Equatorial Guinea","value":"GQ"},{"label":"Eritrea","value":"ER"},{"label":"Estonia","value":"EE"},{"label":"Ethiopia","value":"ET"},{"label":"Falkland Islands (Malvinas)","value":"FK"},{"label":"Faroe Islands","value":"FO"},{"label":"Fiji","value":"FJ"},{"label":"Finland","value":"FI"},{"label":"France","value":"FR"},{"label":"French Guiana","value":"GF"},{"label":"French Polynesia","value":"PF"},{"label":"French Southern Territories","value":"TF"},{"label":"Gabon","value":"GA"},{"label":"Gambia","value":"GM"},{"label":"Georgia","value":"GE"},{"label":"Germany","value":"DE"},{"label":"Ghana","value":"GH"},{"label":"Gibraltar","value":"GI"},{"label":"Greece","value":"GR"},{"label":"Greenland","value":"GL"},{"label":"Grenada","value":"GD"},{"label":"Guadeloupe","value":"GP"},{"label":"Guam","value":"GU"},{"label":"Guatemala","value":"GT"},{"label":"Guernsey","value":"GG"},{"label":"Guinea","value":"GN"},{"label":"Guinea-Bissau","value":"GW"},{"label":"Guyana","value":"GY"},{"label":"Haiti","value":"HT"},{"label":"Heard Island and Mcdonald Islands","value":"HM"},{"label":"Holy See (Vatican City State)","value":"VA"},{"label":"Honduras","value":"HN"},{"label":"Hong Kong","value":"HK"},{"label":"Hungary","value":"HU"},{"label":"Iceland","value":"IS"},{"label":"India","value":"IN"},{"label":"Indonesia","value":"ID"},{"label":"Iran, Islamic Republic Of","value":"IR"},{"label":"Iraq","value":"IQ"},{"label":"Ireland","value":"IE"},{"label":"Isle of Man","value":"IM"},{"label":"Israel","value":"IL"},{"label":"Italy","value":"IT"},{"label":"Jamaica","value":"JM"},{"label":"Japan","value":"JP"},{"label":"Jersey","value":"JE"},{"label":"Jordan","value":"JO"},{"label":"Kazakhstan","value":"KZ"},{"label":"Kenya","value":"KE"},{"label":"Kiribati","value":"KI"},{"label":"Democratic People\'s Republic of Korea","value":"KP"},{"label":"Korea, Republic of","value":"KR"},{"label":"Kosovo","value":"XK"},{"label":"Kuwait","value":"KW"},{"label":"Kyrgyzstan","value":"KG"},{"label":"Lao People\'s Democratic Republic","value":"LA"},{"label":"Latvia","value":"LV"},{"label":"Lebanon","value":"LB"},{"label":"Lesotho","value":"LS"},{"label":"Liberia","value":"LR"},{"label":"Libyan Arab Jamahiriya","value":"LY"},{"label":"Liechtenstein","value":"LI"},{"label":"Lithuania","value":"LT"},{"label":"Luxembourg","value":"LU"},{"label":"Macao","value":"MO"},{"label":"Macedonia, The Former Yugoslav Republic of","value":"MK"},{"label":"Madagascar","value":"MG"},{"label":"Malawi","value":"MW"},{"label":"Malaysia","value":"MY"},{"label":"Maldives","value":"MV"},{"label":"Mali","value":"ML"},{"label":"Malta","value":"MT"},{"label":"Marshall Islands","value":"MH"},{"label":"Martinique","value":"MQ"},{"label":"Mauritania","value":"MR"},{"label":"Mauritius","value":"MU"},{"label":"Mayotte","value":"YT"},{"label":"Mexico","value":"MX"},{"label":"Micronesia, Federated States of","value":"FM"},{"label":"Moldova, Republic of","value":"MD"},{"label":"Monaco","value":"MC"},{"label":"Mongolia","value":"MN"},{"label":"Montenegro","value":"ME"},{"label":"Montserrat","value":"MS"},{"label":"Morocco","value":"MA"},{"label":"Mozambique","value":"MZ"},{"label":"Myanmar","value":"MM"},{"label":"Namibia","value":"NA"},{"label":"Nauru","value":"NR"},{"label":"Nepal","value":"NP"},{"label":"Netherlands","value":"NL"},{"label":"Netherlands Antilles","value":"AN"},{"label":"New Caledonia","value":"NC"},{"label":"New Zealand","value":"NZ"},{"label":"Nicaragua","value":"NI"},{"label":"Niger","value":"NE"},{"label":"Nigeria","value":"NG"},{"label":"Niue","value":"NU"},{"label":"Norfolk Island","value":"NF"},{"label":"Northern Mariana Islands","value":"MP"},{"label":"Norway","value":"NO"},{"label":"Oman","value":"OM"},{"label":"Pakistan","value":"PK"},{"label":"Palau","value":"PW"},{"label":"Palestinian Territory, Occupied","value":"PS"},{"label":"Panama","value":"PA"},{"label":"Papua New Guinea","value":"PG"},{"label":"Paraguay","value":"PY"},{"label":"Peru","value":"PE"},{"label":"Philippines","value":"PH"},{"label":"Pitcairn","value":"PN"},{"label":"Poland","value":"PL"},{"label":"Portugal","value":"PT"},{"label":"Puerto Rico","value":"PR"},{"label":"Qatar","value":"QA"},{"label":"Reunion","value":"RE"},{"label":"Romania","value":"RO"},{"label":"Russian Federation","value":"RU"},{"label":"Rwanda","value":"RW"},{"label":"Saint Helena","value":"SH"},{"label":"Saint Kitts and Nevis","value":"KN"},{"label":"Saint Lucia","value":"LC"},{"label":"Saint Pierre and Miquelon","value":"PM"},{"label":"Saint Vincent and the Grenadines","value":"VC"},{"label":"Samoa","value":"WS"},{"label":"San Marino","value":"SM"},{"label":"Sao Tome and Principe","value":"ST"},{"label":"Saudi Arabia","value":"SA"},{"label":"Senegal","value":"SN"},{"label":"Serbia","value":"RS"},{"label":"Seychelles","value":"SC"},{"label":"Sierra Leone","value":"SL"},{"label":"Singapore","value":"SG"},{"label":"Slovakia","value":"SK"},{"label":"Slovenia","value":"SI"},{"label":"Solomon Islands","value":"SB"},{"label":"Somalia","value":"SO"},{"label":"South Africa","value":"ZA"},{"label":"South Georgia and the South Sandwich Islands","value":"GS"},{"label":"Spain","value":"ES"},{"label":"Sri Lanka","value":"LK"},{"label":"Sudan","value":"SD"},{"label":"Suriname","value":"SR"},{"label":"Svalbard and Jan Mayen","value":"SJ"},{"label":"Swaziland","value":"SZ"},{"label":"Sweden","value":"SE"},{"label":"Switzerland","value":"CH"},{"label":"Syrian Arab Republic","value":"SY"},{"label":"Taiwan","value":"TW"},{"label":"Tajikistan","value":"TJ"},{"label":"Tanzania, United Republic of","value":"TZ"},{"label":"Thailand","value":"TH"},{"label":"Timor-Leste","value":"TL"},{"label":"Togo","value":"TG"},{"label":"Tokelau","value":"TK"},{"label":"Tonga","value":"TO"},{"label":"Trinidad and Tobago","value":"TT"},{"label":"Tunisia","value":"TN"},{"label":"Turkey","value":"TR"},{"label":"Turkmenistan","value":"TM"},{"label":"Turks and Caicos Islands","value":"TC"},{"label":"Tuvalu","value":"TV"},{"label":"Uganda","value":"UG"},{"label":"Ukraine","value":"UA"},{"label":"United Arab Emirates","value":"AE"},{"label":"United Kingdom","value":"GB"},{"label":"United States","value":"US"},{"label":"United States Minor Outlying Islands","value":"UM"},{"label":"Uruguay","value":"UY"},{"label":"Uzbekistan","value":"UZ"},{"label":"Vanuatu","value":"VU"},{"label":"Venezuela","value":"VE"},{"label":"Viet Nam","value":"VN"},{"label":"Virgin Islands, British","value":"VG"},{"label":"Virgin Islands, U.S.","value":"VI"},{"label":"Wallis and Futuna","value":"WF"},{"label":"Western Sahara","value":"EH"},{"label":"Yemen","value":"YE"},{"label":"Zambia","value":"ZM"},{"label":"Zimbabwe","value":"ZW"}]')},1115:function(e,t,a){"use strict";(function(e){var n=a(4),r=a(12),i=a(8),o=a.n(i),l=a(25),s=a(0),c=a(5),u=a.n(c),d=a(13),m=a(47),p=a(1138),b=a(1116),f=function(){var t=Object(l.a)(o.a.mark((function t(a,n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({path:"netlify.toml"}).then((function(t){return e.from(t.data.content,"base64").toString()}));case 3:r=t.sent,n({toml:Object(p.a)(r)}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({toml:{}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}(),g=function(){var t=Object(l.a)(o.a.mark((function t(a,n){var r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({path:"package.json"}).then((function(t){var a=e.from(t.data.content,"base64").toString();return JSON.parse(a)}));case 3:r=t.sent,i=null,u()(r,"dependencies.gatsby")?i=m.b:u()(r,"dependencies.react-scripts")?i=m.a:u()(r,"dependencies.next")?i=m.g:u()(r,"dependencies.nuxt")?i=m.h:u()(r,"dependencies.gridsome")?i=m.c:u()(r,"devDependencies.sapper")||u()(r,"dependencies.sapper")?i=m.j:u()(r,"devDependencies.svelte")||u()(r,"dependencies.svelte")?i=m.k:(u()(r,"devDependencies.@wasm-tool/wasm-pack-plugin")||u()(r,"dependencies.@wasm-tool/wasm-pack-plugin"))&&(i=m.l),n({packageJson:{hasBuildCommand:!!u()(r,"scripts.build"),framework:i}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({packageJson:{}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}(),y=function(){var t=Object(l.a)(o.a.mark((function t(a,n){var i,l,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({path:".fleek.json"}).then((function(t){var a=e.from(t.data.content,"base64").toString();return JSON.parse(a)}));case 3:i=t.sent,l=u()(i,"build.environment",{}),s=Object.entries(l).map((function(e){var t=Object(r.a)(e,2);return{name:t[0],value:t[1]}})),n({fleekJson:{dockerImage:u()(i,"build.image",""),publishDirectory:u()(i,"build.publicDir",""),buildCommand:u()(i,"build.command",""),envVars:s,detected:!0}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({fleekJson:{detected:!1}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,r,i,l,s,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:n=e.sent,r=n.data,i=!!r.find((function(e){return"yarn.lock"===e.name})),l=!!r.find((function(e){return"package-lock.json"===e.name})),s=!!r.find((function(e){return"wp-content"===e.name})),c=!!r.find((function(e){return"Gemfile"===e.name})),u=!!r.find((function(e){return"mkdocs.yml"===e.name})),a({rootDirectory:{hasYarnLock:i,hasPackageLock:l,hasWpContent:s,hasGemfile:c,hasMkDocsYml:u}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a({rootDirectory:{}});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,t({path:"archetypes/default.md"});case 4:n=m.d,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("No hugo configuration found");case 10:a({hugoFiles:{framework:n}});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}();t.a=function(e){var t=Object(d.u)().repos,a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getContents(Object(n.a)(Object(n.a)({},e),a))},i=Object(s.useReducer)((function(e,t){return Object(n.a)(Object(n.a)({},e),t)}),{}),o=Object(r.a)(i,2),l=o[0],c=o[1],u=l.rootDirectory,m=l.packageJson,p=l.toml,E=l.hugoFiles,O=l.fleekJson,S=u&&m&&p&&E&&O;return Object(s.useEffect)((function(){e.ref&&!S&&(h(a,c),g(a,c),f(a,c),v(a,c),y(a,c))}),[e.ref]),S?Object(b.a)(l):null}}).call(this,a(35).Buffer)},1116:function(e,t,a){"use strict";var n=a(4),r=a(201),i=a(47);t.a=function(e){var t=e.rootDirectory,a=e.packageJson,o=e.toml,l=e.hugoFiles,s=e.fleekJson,c=t.hasYarnLock,u=t.hasPackageLock,d=t.hasWpContent,m=t.hasGemfile,p=t.hasMkDocsYml,b=a.hasBuildCommand,f=a.framework,g=o.tomlCommand,y=o.tomlDirectory,h=l.framework,v=u&&!c,E=v?"npm install":"yarn",O=v?"npm run":"yarn",S=g&&"".concat(E," && ").concat(g)||b&&"".concat(E," && ").concat(O," build")||"",j=y||"",x=s.detected,k=Object(r.a)(s,["detected"]),w=Object(n.a)({buildCommand:S,baseDirectory:"",publishDirectory:j,dockerImage:"",installCommand:E,runScriptCommand:O},k);return{framework:x&&i.i||f||h||d&&i.m||m&&i.e||p&&i.f||i.i,defaultValues:w}}},1125:function(e,t,a){e.exports=a.p+"static/media/man-on-browser-background.8f3efbc6.svg"},1127:function(e){e.exports=JSON.parse('{"common":{"done":"Done","save":"Save","delete":"Delete","cancel":"Cancel","confirm":"Confirm","created":"Created","continue":"Continue","createdAt":"Created at {{date}}","lastPublished":"Last published on {{date}}","back":"Back","comingSoon":"Coming soon!","copiedToClipboard":"Successfully copied to clipboard","today":"Today","change":"Change","edit":"Edit","name":"Name","email":"Email","details":"Details","addPM":"Add Payment Method","at":"at","on":"on","size":"Size","verify":"Verify","start":"Start","stop":"Stop","preview":"Preview","copyToClipboard":"Copy to Clipboard","pending":"Pending","ipfs":"IPFS","dfinity":"Internet Computer","experimental":"Experimental"},"canisters":{"title":"Canisters","noCanisters":"No canisters yet","notCanistersFound":"No canisters found","overview":{"name":"Name","canisterId":"Canister ID","canisterKey":"Key","created":"Created","updated":"Updated","type":"Type","status":"Status","started":"Active","stopped":"Inactive"},"deployments":{"title":"Deploy Log"},"interface":{"title":"Methods"},"settings":{"sections":{"general":"General","canisterDetails":"Canister Details"},"general":{"title":"Canister Details","subTitle":"General information about your canister","canisterInfo":"Canister Information","changeCanisterName":"Change Canister Name","infoList":{"name":"Name","canisterId":"Canister ID","canisterKey":"Key","created":"Created","updated":"Updated","type":"Type","status":"Status","started":"Active","stopped":"Inactive"}}},"table":{"name":"Name","status":"Status","id":"Canister ID","created":"Created","updated":"Updated","type":"Type"},"tabs":{"overview":"Overview","deployments":"Deployment Logs","interface":"Interface","settings":"Settings"}},"auth":{"page_title":"Fleek: Verifying User","success":"User was verifying correctly.","verifying":"Verifying user...","error":"Sorry, we got an error when trying verifying user."},"modals":{"record":"Record","host":"Host","pointsTo":"Points to","dnsConfiguration":{"title":"DNS Configuration","pointText":"Step 1: Point app CNAME record to {{domain}}","description":"Log in to the account you have with your DNS provider, and add a CNAME record for app pointing to {{domain}}","command":"CNAME {{domain}} {{terminalRecord}}","footerText":"If you\u2019ve already done this, allow up to 24 hours for the changes to propgate.","error":"Sorry we were unable to verify your DNS settings. Please make sure your DNS records as indicated below are correctly applied with your DNS provider. If you\u2019ve already done so, please wait a few minutes and click Verify again.","buttons":{"cancel":"Cancel","verifyDns":"Verify DNS configuration"}},"hnsConfiguration":{"title":"HNS Configuration","pointText":"Point app {{record}} record to {{domain}}","descriptionOption1":"If you own your HNS domain through Namebase, click the button below \\"Use Namebase\\" to be redirected to Namebase and automatically update your records.","descriptionOption2":"Log in to the account you have your handshake nameserver with, and add a record for your app pointing to your domain","footerText":"After successfully completing option 1 or option 2 please click \\"Verify HNS Configuration\\", please allow a few minutes for propagation.","error":"Sorry we were unable to verify your HNS settings. Please make sure your HNS records as indicated below are correctly applied with your HNS provider. If you\u2019ve already done so, please wait a few minutes and click Verify again.","buttons":{"cancel":"Cancel","verifyDns":"Verify HNS Configuration"},"option1":"Option 1 :","useNamebase":"Use Namebase","option2":"Option 2 : Use your own Nameserver"},"nameServer":{"title":"DNS Configuration","step1":{"title":"Step 1: Point {{record}} record to {{pointsTo}}","description":"Create an {{record}} record for {{domain}} pointing to our load balancer\u2019s IP address {{pointsTo}}.","bunnyDescription":"Create an {{record}} record for {{domain}} pointing to our CDN endpoint {{pointsTo}}.","command":"{{domain}} A {{ip}}","anameText":"In some DNS providers, ANAME records are set as ALIAS instead. Others, like Cloudflare, might ask you to set them as CNAME."},"step2":{"title":"Step 2: Create an NS record for _dnslink","description":"Create a NS record for _dnslink pointing to our name server.","command":"_dnslink NS {{server}}","footer":"Please make sure DNS records as indicated above are correctly applied with your DNS provider. It can take up to a few minutes to apply; click \u201cVerify DNS Configuration\u201d below to check if the changes have propagated."},"footer":"An SSL certificate will automatically be applied to the domain and an additional www.subdomain, that will be created to redirect to the root domain."},"paymentMethod":{"title":"Add Payment Method","success":"Your payment info has been saved successfully","error":"An error has occurred while adding your payment information","form":{"inputs":{"name":{"label":"Name","placeholder":"Jane Doe"},"country":{"label":"Country","placeholder":"Choose Country"},"cta":"Save"},"errors":{"title":"Error","name":"Name field can\'t be blank","country":"Country field can\'t be blank","card":"Invalid Credit Card","internal":"Internal error, please try again"}}},"deleteSite":{"title":"Delete Site","siteNameInput":"Type in name of site to confirm","error":"Error when trying to delete the site, please try again later.","message":{"part1":"Are you sure you want to delete","part2":"If so, please type the name of the site to confirm."}},"uploadFiles":{"title":"Upload","addFiles":"Add Files","dragFiles":"Drag files here or ","uploadLink":"click to upload","files":"Files:","folders":"Folders:","totalSize":"Total Size:","targetPath":"Target Path:","filesUploaded":"files uploaded","uploadingProgress":"<0>{{uploadedItems}}</0> out of <0>{{totalItemsNumber}}</0>","uploadingError":"Error when trying to upload the files, please try again later.","uploaded":"Uploaded","partiallyUploaded":"Partially Uploaded"},"changeCanisterName":{"title":"Change Canister name","siteNameInput":"Canister Name","error":"Error when trying to change the canister name, please try again later.","message":"This name determines the default URL for your canister. Only alphanumeric characters and hyphens are allowed."},"changeSiteName":{"title":"Change site name","siteNameInput":"Site Name","error":"Error when trying to change the site name, please try again later.","message":"The site name determines the default URL for your site. Only alphanumeric characters and hyphens are allowed."},"dnsLink":{"title":"Optional: Set up DNS link for your domain","subTitle":"Step 1: Add CNAME record to set up DNS link","subtitle2":"Add this CNAME record to your DNS provider to set up DNS link","cancel":"Cancel","verifyDns":"Verify DNS configuration","command":"CNAME from _dnslink.{{currentDomain}} to _dnslink.{{domain}}"},"createFolder":{"title":"Create Folder","inputLabel":"Folder Name","error":"Error when trying to create a new folder, please try again later.","invalidName":"Folder name cannot contain any of the following characters: ?%*:|\\"<>"},"deleteStoredItems":{"title":"Delete File","messageOneFile":"Are you sure you want to delete {{fileName}} file?","messageManyFiles":"Are you sure you want to delete {{filesNumber}} files?","error":"Error when trying to remove the files, please try again later."},"apiDetails":{"title":"API Details","copy":"Your api {{type}} was successfully copied to your clipboard.","warning":"API Secret is only visible upon generation","error":"We\'re sorry, there was an error when trying to generate a new api key.","inputs":{"apiKey":"Api Key","apiSecret":"Api Secret"}},"editProfile":{"title":"Change personal information","description":"You can edit your first and last name.","firstName":"First name","lastName":"Last name","continue":"Continue","cancel":"Cancel","error":"There has been an error when trying to update your personal information"},"confirmDnsUpgrade":{"title":"Please Be Aware","subtitle":"This upgrade requires <bold>ALIAS</bold> or <bold>ANAME</bold> support (CNAME for apex records)","description":"Please ensure your DNS provider supports one of those options or switch your domain to another DNS provider that does before upgrading your custom domain.","submit":"Upgrade Domain","cancel":"Cancel","error":"There has been an error when trying to confirm the DNS upgrade, please try again later"}},"layout":{"sidebar":{"team":"Team","sites":"Hosting","builds":"Builds","domains":"Domains","members":"Members","billing":"Billing","teamSettings":"Team Settings","storage":"Storage","new":"New","beta":"Beta","getCLI":"Get the SDK","canisters":"Canisters"},"teamSelector":{"createTeam":"Create New Team"},"userMenu":{"settings":"Settings","logout":"Log Out","signedAs":"Signed in as","loading":"...loading"}},"sites":{"title":"Hosting","page_title":"Fleek: Hosting","page_title_new_site":"Fleek: New Site","addNewSite":"Add New Site","deployFrom":"Deploys from","deployLocally":"Deploys locally","deployedLocally":"Deployed locally","ownedBy":"Owned by","lastPublished":"Last published","deployInProgress":"Deploy in Progress...","failedDeploy":"Failed Deploy","at":"at","github":"Github","ipfs":"IPFS","dfinity":"Internet Computer","andSymbol":"&","definityTag":"IC Hosting - Testnet","tabs":{"overview":"Overview","deploys":{"title":"Deploys","sections":{"deployInfo":{"title":"Deploy Info","subtitle":"Auto publishing is {{isAuto}}.","subtitleLocal":"Site is deployed locally","descriptionLocal":"Use the Fleek CLI to update the site.","descriptionAuto":"Deploys from {{branch}} are published automatically.","descriptionNotAuto":"Deploys from {{branch}} are not published automatically.","on":"on","off":"off","button":"Deploy settings","listOfDeploys":{"triggerDeploy":"Trigger deploy","deployItem":{"localDeploy":"Local deployment","timeCancelledDeploy":"Deploy Cancelled","timeoutDeploy":"Timed Out Deploy","goToCommitDetails":"Open GitHub with commit details","goToDeployDetails":"Go to deploy details","branchLabel":"Production:","deployPreview":"Deploy Preview:","deployMessagePlaceholder":"No deploy message","deployTime":"Deployed in {{time}}","startDeployTime":"{{dayAndMonth}} at {{hourAndMinute}}","deployTimePlaceholder":"Deploy Time Pending","timeFailedDeploy":"Deploy Failed","goToPR":"Open GitHub with PR details","prTitle":"Pull request <0>{{prNumber}}</0> to {{branch}}"}}},"deployStatus":{"title":"Deploy Status","description":"Fleek\'s robots are busy building and deploying your site to {{platform}} and our CDN","retryDeploy":"Retry deploy","cancelDeploy":"Cancel deploy","publishDeploy":"Publish deploy","previewDeploy":"Preview deploy","deployInProgress":"Deploy in progress","publishedDeploy":"Published deploy","deploySuccessful":"Deploy successful","deployCancelled":"Cancelled","deployFailed":"Deploy failed","deployTimeout":"Timed out","localDeploy":"Locally Deployed","cancelDeployError":"Failed to cancel the deployment"}}},"settings":{"title":"Settings","http":{"title":"HTTPS","paragraph":"Enable automatic TLS certificates with Cloudflare, or use your own certificate"},"ssl":{"title":"SSL/TLS certificate","errorParagraph":"To provision a certificate automatically, Fleek needs to go through a domain validation process on your behalf. This step cannot be completed unless the DNS records for your custom domain are already pointing at our servers.","buttonText":"VERIFY DNS CONFIGURATION","errorLink":"Learn more about HTTPS on custom domains","error":"We could not provision a Cloudflare certificate for your custom domain.","waiting":"Waiting on DNS propagation","waitingParagraph":"We\u2019ll provision your Let\u2019s Encrypt certificate automatically once the DNS configuration for your custom domain is pointing to our servers and the changes have propagated.","httpEnabled":"Your site has HTTPS enabled","certificate":"Certificate:","domains":"Domains:","expires":"Expires:","created":"Created:","notDeployed":"Waiting on Successful Deployment","notDeployedParagraph":"We\u2019ll provision your SSL certificate automatically once you successfully deploy a site or add a custom domain to your site pointing to our servers."},"ens":{"title":"ENS","comingSoon":"Coming Soon!","paragraph":"Add your ENS to your Fleek site","setControllerModal":{"title":"Set up Fleek ENS controller","migrateEnsStep":"Step {{stepNumber}}: Migrate your ENS","setControllerStep":"Step {{stepNumber}}: Set Fleek as ENS controller","verifyOwnershipStep":"Step {{stepNumber}}: Verify domain ownership","verifyOwnershipParagraph":"Verify that you are the owner of this domain by signing a message. This step does not create a transaction or cost gas.","migrateEnsParagraph":"Click Migrate below to go to app.ens.domains to update your ENS domain to the most recent resolver.","migrate":"Migrate","migrated":"Migrated","setControllerParagraph":"Set Fleek as a controller to your ENS domain to set your site to point to your ENS domain and automatically update for all future site deployments.","setControllerButton":"Set Fleek as controller","verifyOwnershipButton":"Verify ownership","errors":{"generic":"An error occurred","failedToConnect":"Failed to connect, please try again","wrongNetId":"Please switch to {{network}}","notOwnerOfDomain":"Connected account is not the owner of the domain","failedTransaction":"The Ethereum transaction did not go through","rejectedTransaction":"The Ethereum transaction was rejected","failedToSignMessage":"Failed to sign message"}},"ensBox":{"title":"ENS Info","description":"Add an ENS domain to point to your deployed site. Fleek will automatically update future deployments to point to your ENS domain."},"domainRow":{"ensDomain":"ENS domain","remove":"Remove domain","fleekController":"Fleek Controller","setFleek":"Set Fleek as controller","pending":"Pending transaction"},"noDomain":{"addEns":"Add ENS","learnMore":"Learn more about ENS in our docs"},"addEns":{"title":"Add a ENS domain to your site","description":"Use an existing ENS domain to deploy your site on. Fleek will update the IPFS hash the ENS name is pointing to for auto deploys.","learnMore":"Learn more about ENS in our docs","ensDomain":"ENS Domain","connectedTo":"Connected to {{ethAddress}}","alreadyOwner":"<0>{{owner}}</0> is the owner of {{domain}}. Is that you?","yesAdd":"Yes, Add ENS","noAnother":"No, Try Another","isAvailable":"{{domain}} is available!","wouldYouLike":"Would you like to make this purchase?","byClicking":"By clicking buy, we will redirect you to purchase your ENS domain","buyDomain":"Buy {{domain}}","addYourselfAsOwnerOfSubdomain":"Add yourself as owner of the subdomain","addYourselfAsOwnerOfSubdomainDescription":"By clicking the link below, we will redirect you to register and/or make youself owner of the subdomain.","setUpFleek":"Set up Fleek ENS controller","weRecommend":"We recommend you set Fleek as a controller on your ENS domain to automate updating the content of your site for future deployments.","setFleekAs":"Set Fleek as controller","domainRegistered":"This ENS domain is already associated with another Fleek site which could cause conflicts upon site updates.","notRegistrant":"You are not the registrant of this domain"}},"domains":{"title":"Domains","paragraph":"Add your own custom domain to your Fleek site for free"},"hns":{"title":"HNS","paragraph":"Add your Handshake domain to your Fleek site","description":"Use an existing HNS domain to deploy your site on.","buttonText":"Add HNS","hnsDomain":"HNS Domain","checkHNS":"Check HNS configuration","success":"Handshake domain was deleted correctly.","error":"Error when trying to delete the domain, please try again.","remove":"Remove domain","learnAboutHNSDomains":"Learn more about HNS in our docs"},"customDomains":{"title":"Custom Domains","remove":"Remove domain","dnsLink":"Set Up DNS Link","upgradeDnsLink":"Upgrade DNS","dnsLinkVerified":"DNS Link Verified","success":"Custom domain was deleted correctly.","error":"Error when trying to delete the domain, please try again.","paragraph":"By default, your site is always accessible via a Fleek subdomain based on the site name. Custom domains allow you to access your site via one or more non-Fleek domain names.","buttonText":"Add Custom Domain","learnAboutCustomDomains":"Learn more about custom domains in our docs","learnAboutRedirect":"Learn more about redirect rules in our docs","defaultSubdomain":"Default subdomain","primaryDomain":"Primary domain","redirectsAutomatically":"Redirects automatically to primary domain","waitingOnDNS":"Waiting on DNS propagation","checkDNS":"Check DNS configuration","upgradeDNS":"Upgrade DNS configuration","terminalDNS":"Fleek DNS","linkDNS":"DNS Link","successPayment":"Payment successfully processed","errorPayment":"Error processing the payment","pollingMessage":"You\u2019ve successfully purchased a domain, please wait a couple of minutes for it to propagate.","types":{"PRIMARY":"Primary domain","DEFAULT_SUBDOMAIN":"Default subdomain","REDIRECT_TO_PRIMARY":"Redirects automatically to primary domain"}}}},"errors":{"404":{"title":"Page not found","description":"Sorry, we couldnt find the page you are looking for"}},"start":{"connectWithGithub":{"step":"1. Connect to Github","title":"Continuous Deployment","subtitle":"When you push to Git we run your build tool on our services and deploy the result.","buttonMsg":"Connect with Github"},"deployLocation":{"step":"3. Deploy location","title":"Continuous Deployment: Hosting Platform","subtitle":"Choose the platform you want to host your site on. You can choose between Internet Computer & IPFS. To learn more about each option","hostingServices":"Hosting Services","clickHere":"click here","info":"The network/protocol where your site will be deployed. Canisters on Dfinity\'s Internet Computer, or distributed nodes on the IPFS protocol.","icWarning":"Hosting on the IC is "},"buildOptions":{"cardTitle":"Deploy settings for {{repository}}","cardSubtitle":"Get more control over how Fleek builds and deploys your site with these settings.","step":"4. Build options, and deploy!","title":"Basic build settings","subtitle":"If you\'re using a static site generator or build tool, we\'ll need these settings to build your site.","docs":"Learn more in our docs","deploySiteMsg":"Deploy site","pickPlan":"Pick a plan","pickPlanInfo":"The {{planName}} team plan includes up to {{sitesLimit}} sites, please upgrade your plan to deploy.","repository":"Repository","branchToDeploy":"Branch to deploy","buildCommand":"Build command","framework":"Framework","publishDirectory":"Publish directory","baseDirectory":"Base Directory","branchesPlaceholder":"No branches found","buildCommandTooltip":"The build command to run before deploying. Examples: build, gulp build, make all.","publishDirectoryTooltip":"The directory to deploy after running the build command. Examples: _site, dist, public.","baseDirectoryTooltip":"The directory which contains the site\'s source code. Other parameters, such as the build commands, are performed in relation with base directory.","dockerImageTooltip":"The docker image and tag from the Docker Hub to use as a base when building your site.","frameworkToolip":"The framework used by the site","gatsbyPlugin":"Make sure you have the Gatsby IPFS plugin installed in your app.","showAdvanced":"Show advanced","envVars":{"title":"Environment Variables","subtitle":"Define environment variables for more control and flexibility over your build.","newVar":"New variable","keyPlaceholder":"VARIABLE_NAME","variablePlaceholder":"somevalue","keyLabel":"Key","variableLabel":"Value","errors":{"onlyAlphaNumericAndUnderscore":"Variable names can only consist of alphanumeric characters and underscores.","startWithLetter":" Variable names must start with a letter."}},"useProxy":{"title":"Canister Proxying","subtitle":"Use Fleek as a proxy to the canister for faster site loading or use a service worker to bypass Fleek\'s server.","useProxyOption":"Use Proxy to connect users to your site, relies on Fleek servers","useServiceWorkerOption":"Use Service Workers to connect users directly to your site on Internet Computer","useProxySmallText":"Shows no loading screen, but has Fleek as an intermediary to Internet Computer","useServiceWorkerSmallText":"Shows loading screen once to user, doesn\'t rely on Fleek servers"},"frameworkOptions":{"other":"Other","nextJs":"NextJS","createReactApp":"Create React App","hugo":"Hugo","gatsby":"Gatsby","jekyll":"Jekyll","wordpress":"Wordpress","nuxtjs":"NuxtJS","gridsome":"Gridsome","svelte":"Svelte","mkdocs":"MkDocs","sapper":"Svelte + Sapper","wasmPack":"Wasm Pack"}},"stepper":{"title":"Create a new site","description":"From zero to hero, three easy steps to get your site live."},"pickRepository":{"step":"2. Pick a repository","title":"Continuous Deployment: GitHub App","subtitle":"Choose the repository you want to link to your site on Fleek. When you push to Git we run your build tool on our services and deploy the result.","searchPlaceholder":"Search repos","editPermissionsLink":{"question":"Can\u2019t see your repo here?","link":"Configure the Fleek app on GitHub."}}},"siteHeader":{"deploy":{"DEPLOYED":"{{domain}}","IN_PROGRESS":"Site deploy in progress","FAILED":"Site has not yet been deployed","CANCELLED":"Site has not yet been deployed","TIMEOUT":"Site has not yet been deployed"},"ipfs":{"pending":"IPFS Hash Pending","verify":"Verify on IPFS"},"dfinity":{"pending":"Canister ID Pending","verify":"Canister ID: {{id}}"}},"overview":{"name":"Name","owner":"Owner","repository":"GitHub Repo/Branch","ipfsHash":"Current IPFS Hash","canisterId":"Canister ID","filecoinID":"Filecoin Deal ID","proposalCid":"Deal Proposal CID","numberOfDomains":"Number of Domains","certificate":"SSL Certificate","created":"Created","lastPublished":"Last Published","ssl":{"CLOUDFLARE":"Cloudflare","LETS_ENCRYPT":"Let\'s Encrypt"}},"deploys":{"title":"Deploy Log","preview":"Preview","copyToClipboard":"Copy to Clipboard","summaryList":{"title":"Deploy Summary","filesUploaded":{"title":"All files already uploaded","subtitle":"All files already uploaded by a previous deploy with the same commits."},"redirectRulesProcessed":{"title":"No redirect rules processed","subtitle":"This deploy did not include any redirect rules."},"headerRulesProcessed":{"title":"No header rules processed","subtitle":"This deploy did not include any header rules."},"linkedResources":{"title":"All linked resources are secure","subtitle":"Congratulations! No insecure mixed content found in your files."},"buildTime":{"title":"Build time: {{buildTime}}. Total deploy time: {{totalDeployTime}}","subtitle":"Build started at {{startedAt}} and ended at {{endedAt}}."}},"backToDeploys":"Back to All Deploys"}},"members":{"title":"Members","addMember":{"title":"Add team members","subtitle":"We automatically update your billing as you add and remove team members.","emails":{"title":"Emails of the new members","subtitle":"Use commas to add multiple emails.","fieldLabel":"Send invites to","invalidEmail":"One or more emails addresses are invalid","noEmailAddress":"Please add at least one email address","duplicate":"{{emails}} is already invited or on the team","duplicate_plural":"{{emails}} are already invited or on the team"},"error":{"errorSendingInvitations":"An error occured while sending the invitations"},"extraSeats":{"title":"Add extra Seats","description":"Inviting {{totalNewMembers}} new members will add <1>{{extraSeats}} extra seats at {{monthlyCost}}/month</1> to your monthly bill."},"buttonText":"INVITE MEMBERS"},"add":"Add members","invited":"Invited","tryAgain":"Try again","allSites":"All sites","remove":"Remove from team","error":"Error when trying to get your team members, please try again.","removeMember":{"success":"Team member was deleted correctly.","error":"Error when trying to delete the member, please try again."},"roles":{"admin":"Owner","member":"Collaborator"}},"team":{"title":"Team","create":{"stepper":{"title":"Create a new team","description":"Teams are the perfect environment for people to collaborate across multiple sites.","step1":{"title":"1. Configure your team","teamName":{"title":"What\u2019s your team\u2019s name?","subtitle":"Create a team and invite your team members.","inputLabel":"Team Name","pickPlan":"Pick a plan","reviewPayment":"Review payment","errors":{"notAllowedChars":"Team name can only consist of alphanumeric characters, hyphens, dots and underscores.","notUnique":"Team name {{teamName}} is already taken."}}},"step2":{"title":"2. Pick a plan"},"step3":{"title":"3. Review team and payment","createTeam":"Create team","howManyPeople":"How many people are on your team?","inputLabel":"Number of users","additionalUsersLabel":"{{userNumber}} additional users @ ${{pricePerUser}} per user/month"}}}},"teams":{"pageTitle":"Fleek Hosting: Teams"},"billing":{"title":"Billing","misc":{"priceWithUnit":"${{price}}","unlimited":"Unlimited","custom":"Custom","priceDescription":"{{description}} price"},"creditCardDisplay":{"text":"{{type}} ending in <1>{{digits}}</1>","noCreditCard":"No credit cards available","creditCardTypes":{"amex":"Amex","discover":"Discover","mastercard":"Mastercard","visa":"Visa","defaultCard":"Card"}},"changePlan":{"pageTitle":"Fleek: Change Plan","back":"Back","stepper":{"title":"Change your team plan","description":"Upgrade or downgrade your team to suit your business needs.","step1":"1. Select a Plan","step2":"2. Review team and payment"},"step2Payment":{"pickedPlan":"{{type}}: {{price}}/month","whichPayment":"Which payment method would you like to use?","changePaymentMethod":"CHANGE PAYMENT METHOD","addPaymentMethod":"ADD PAYMENT METHOD","summary":"Summary","summarySubtitle":"Your next payment will be prorated according to your billing cycle.","typePlan":"{{type}} plan","total":"Total","updateTeam":"UPDATE TEAM","upTo":"up to {{limit}}","including":"{{plan}} (including {{siteLimit}} {{sitesText}}, {{userLimit}} {{usersText}})","userSingular":"user","userPlural":"users","siteSingular":"site","sitePlural":"sites"},"pickPlan":{"title":"Pick a team plan","subtitle":"Pick the plan that best suits your team\u2019s needs.","plans":{"title":"{{name}}: {{price}}","pickPlan":"Pick Plan","contactSales":"Contact Sales","currentPlan":"Current plan","perMonth":"{{price}}/month","contactUs":"To revert to a {{startPlan}} plan, contact us at <1>{{supportEmail}}</1>"}}},"topBar":{"title":"Billing"},"headerCard":{"billingFor":"Billing for {{recipient}}","billingPeriod":"Current billing period runs from <1>{{startDate}}</1> to <3>{{endDate}}<3/>.","learnMore":"Learn more about billing in our docs"},"planDetails":{"title":"Plan Details","subtitle":"Current plan information.","cardTitle":"Team Plan","link":"Learn more about plans on our pricing page","buttonText":"Change Plan","teamPlan":"{{type}} team plan","effectiveFrom":"Effective from {{startDate}}","mb":"MB","gb":"GB","bandwidth":"{{used}} {{unit}} / {{limit}} {{limitUnit}} bandwidth","minutes":"{{used}} / {{limit}} build minutes","price":"${{price}}"},"invoices":{"title":"Invoices","subtitle":"Past and pending invoices for this team account.","receipts":{"title":"Receipts","timestamp":"{{date}} at {{time}}","charged":"{{price}} charged to {{creditCard}} ending in {{fourLastDigits}}","defaultReceipt":"No Invoices!"}},"billingSettings":{"sectionTitles":{"general":"General","planDetails":"Plan Details","invoices":"Invoices","billingDetails":"Billing Details"}}},"errors":{"404":{"title":"Page not found","description":"Sorry, we couldnt find the page you are looking for","cta":"Go to Sites"},"500":{"title":"Internal Server Error","description":"Sorry, something went wrong. Try again in a few minutes","cta":"Try again"}},"siteSettings":{"editSettings":"Edit settings","notSet":"Not set","sectionTitles":{"buildAndDeploy":"Build & Deploy","continuousDeployment":"Continuous Deployment","domainManagement":"Domain Management","advancedBuildSettings":"Advanced Build Settings","domains":"Domains","ens":"ENS","hns":"HNS","https":"HTTPS","general":"General","siteDetails":"Site Details","dangerZone":"Danger Zone"},"deployment":{"subtitle":"Settings for Continuous Deployment from a Git repository","buildSettings":{"title":"Build Settings","repository":"Repository:","baseDirectory":"Base directory:","notSet":"Not set","buildCommand":"Build command:","publishDirectory":"Publish directory:","learnMore":"Learn more about common configuration directives in the docs","baseDirectoryTip":"Directory to change to before starting a build. Where we will look for package.json/.nvmrc/etc."},"deployContexts":{"title":"Deploy Contexts","subtitle":"Deploy contexts are a way to tell Fleek how to build your site. They give you the flexibility to configure your site\u2019s builds depending on the context they are going to be deployed to.","productionBranch":"Production branch:","learnMore":"Learn more about deploy contexts in the docs","error":"Sorry, we got an error when editing deploy settings.","previewPRs":{"label":"Deploy previews","onTitle":"Automatically build deploy previews for all pull requests","onDescription":"Every pull request gets deployed in its own context with a unique URL.","offTitle":"Don\u2019t build deploy previews for pull requests","offDescription":"Fleek won\u2019t deploy any pull requests."}},"advancedBuildSettings":{"title":"Advanced Build Settings","subtitle":"Advanced settings for environment variables and docker"},"environmentVariables":{"title":"Environment Variables","subtitle":"Set environment variables for your build script and add-ons.","learnMore":"Learn more about environment variables in the docs","editVariables":"EDIT VARIABLES","key":"Key","value":"Value","error":"Sorry, we got an error when editing the environment variables"},"dockerFile":{"title":"Specify Docker Image","subtitle":"Specify a docker image and tag from the Docker Hub to use as a base when building your site.","learnMore":"Learn more about specifying docker images in the docs","error":"Sorry, we got an error when editing docker image settings.","label":"Docker Image Name (e.g. node:lts)","labelFirstLine":"Docker Image Name","labelSecondLine":"(e.g. node:lts)"},"useProxy":{"title":"Canister Proxying","subtitle":"Use Fleek as a proxy to the canister for faster site loading or use a service worker to bypass Fleek\'s server.","useProxyOption":"Use Proxy to connect users to your site, relies on Fleek servers","useServiceWorkerOption":"Use Service Workers to connect users directly to your site on Internet Computer","useProxySmallText":"Shows no loading screen, but has Fleek as an intermediary to Internet Computer","useServiceWorkerSmallText":"Shows loading screen once to user, doesn\'t rely on Fleek servers","error":"Sorry, an error occurred when editing the proxy setting","learnMore":"Learn more about canister proxying in the docs","label":"Canister proxying"}},"general":{"siteDetails":{"title":"Site Information","subtitle":"General information about your site","siteName":"Site name","owner":"Owner","siteId":"Site ID","created":"Created","lastUpdate":"Last update","changeName":"Change Site Name"},"dangerZone":{"title":"Delete Site","subtitle":"Irreversible and destructive actions.","content":"Once you delete a site, there is no going back.","deleteSite":"Delete this site"}}},"addCustomDomain":{"pageTitle":"Fleek: Add custom domain","title":"Add a custom domain to your site","description":"You can bring a domain name that you already own, or buy a new one. When you buy the domain with us, we automatically configure your DNS settings and provision a wildcard certificate for your domain.","linkToDocs":"Learn more in our docs","inputLabel":"Custom Domain","verifyDomain":"Verify","errors":{"invalidDomain":"Invalid Domain"},"ownerPart":{"question":"already has an owner. Is it you?","confirm":"Yes, Add Domain","cancel":"No, Try Another"},"purchasing":{"title":"{{domainName}} is available!","description":"Purchasing domains within Fleek will be available soon. In the meantime purchase your domain elsewhere and add it as an external domain.","submit":"Add external domain"},"buyDomain":{"title":"{{domainName}} is available!","noPaymentMethod":"No payment methods available","availablePM":"Available payment method:","changePaymentMehtod":"Change Payment Method","addPaymentMethod":"Add new payment method","subtitle":"Registration costs ${{cost}} for the first year. Would you like to make this purchase?","detail":"Add a payment method so that we can process the charge. This transaction is non-refundable. This domain registration will auto-renew for ${{renewCost}} for the second year.","buyCTA":"Buy {{domain}}"}},"addHNSDomain":{"pageTitle":"Fleek: Add HNS domain","title":"Add a HNS domain to your site","description":"Use an existing HNS domain to deploy your site on.","linkToDocs":"Learn more about HNS in our docs","inputLabel":"HNS Domain","verifyDomain":"Verify","errors":{"verifying":"Unable to verify domain","tldOnly":"The top level domain alone cannot be used. Please enter a domain or subdomain such as \\"domain.tld\\" or \\"subdomain.domain.tld\\""},"ownerPart":{"question":"already has an owner. Is it you?","confirm":"Yes, Add Domain","cancel":"No, Try Another"},"purchasing":{"title":"{{domainName}} is available!","description":"Purchasing domains within Fleek will be available soon. In the meantime purchase your domain elsewhere and add it as an external domain.","submit":"Add external domain"},"buyDomain":{"title":"{{domainName}} is available!","noPaymentMethod":"No payment methods available","availablePM":"Available payment method:","changePaymentMehtod":"Change Payment Method","addPaymentMethod":"Add new payment method","subtitle":"Would you like to make this purchase?","detail":"By clicking buy we will redirect you to purchase your HNS domain.","buyCTA":"Buy {{domain}}"}},"siteDeploys":{"sections":{"deployInfo":{"title":"Deploy Info","subtitle":"Auto publishing is on.","description":"Deploys from master are published automatically.","button":"Deploy settings","listOfDeploys":{"triggerDeploy":"Trigger deploy","errorTriggerDeploy":"An error occurred while triggering the deploy","deployItem":{"deployMessagePlaceholder":"No deploy message","deployTime":"Deployed in {{time}}"}}}}},"deploymentStatus":{"published":"Published","failed":"Failed","inProgress":"In Progress","cancelled":"Cancelled","timeout":"Timed Out"},"githubAuthorized":{"title":"Authorized","logoAlt":"Fleek Logo"},"noDataInfo":{"sitesList":{"title":"Sites","subtitle":"Host your site on the Open Web (You\'re on it right now)","description":"Host your sites on IPFS or Internet Computer in 4 quick steps. Connect your git provider, select a repo, choose a hosting platform, and deploy! All your sites will be listed here once you add them.","buttonText":"Add new site","goToDocs":"Learn more about Sites in our docs"}},"sitesGettingStarted":{"title":"Getting Started","firstStep":{"instruction":{"title":"Deploying your site","subtitle":"Fleek\u2019s robots are busy building and deploying your site to {{platform}} and our CDN.","buttonText":"Check Deploy Status"},"done":{"title":"Site is deployed","subtitle":"Fleek\u2019s robots built and deployed your site to {{platform}}  and our CDN."}},"secondStep":{"instruction":{"title":"Set up a custom domain with SSL","subtitle":"Buy a new domain or setup a domain you already own. All domains come with a free SSL cert.","addDomainButtonText":"Add or Buy Domain","verifyDomainButtonText":"Verify Domain"},"done":{"title":"Custom domain and SSL added","subtitle":"{{domainName}} was added as a custom domain with an SSL certifacte."}}},"billingDetails":{"title":"Billing Details","subtitle":"Payment and billing information for this team account.","paymentInformation":{"title":"Payment Information","paymentMethod":"Payment Method:","cardInfo":"{{cardName}} ending in {{cardLastFourDigits}}"},"billingInformation":{"title":"Billing Information","name":"Name:","email":"Email:","placeholder":"No payment method added"}},"topBanner":{"message":"To DFINITY and beyond ","message2":" Host static frontends on the Internet Computer. With Canister Proxying and our own IC Gateway! <0>Learn More</0>","dnsMessage":"Upgraded DNS Configuration ","dnsMessage2":"Upgrade DNS Configuration on Your Custom Domains to Get Maximum CDN Benefits + DDOS Protection! Upgrade Now <0>Learn More</0>"},"siteSuspendedOverlay":{"title":"Site Suspended","description":"Your account has been suspended for an overdue bill for more than 30 days. Add your billing information.","buttonText":"Add Payment"},"accountSuspensionBanner":{"suspendedMessage":"Your account has been suspended for an overdue bill for more than 30 days. <1>Add your billing information.</1>","restrictedMessage":"Your account has been overdue for more than 15 days. It will be suspended after 30 days. <1>Add your billing information.</1>"},"storage":{"title":"Storage","upload":"Upload","actions":"Actions","open":"Open","download":"Download","downloadAs":"Download as","copyPath":"Copy Path","createFolder":"Create Folder","header":"File Information","lastModified":"Last modified, {{date}}","tabs":{"overview":"OVERVIEW","settings":"SETTINGS"},"tooltips":{"filecoin":"Due to current Filecoin deal size limitations, files are batched together across Fleek products (sites & storage) and uploaded as one Filecoin deal every 5GB.\\n\\nSo it might take 24-48 hours (or faster or slower depending on Fleek usage and when the last upload to Filecoin occured) for a {{item}} to appear."},"details":{"name":"Name","hash":"Current IPFS Hash","size":"Size","owner":"Owner","created":"Created","objectUrl":"Object URL","filecoinID":"Filecoin Deal ID","proposalCid":"Deal Proposal CID"},"table":{"columns":{"name":"Name","lastModified":"Last Modified","size":"Size"},"emptyMessage":"No folders or files found"},"actionsMessage":{"copyPathSuccess":"Object path copied to the clipboard!","downloadSuccess":"We are processing your download..."}},"accountSettings":{"pageTitle":"Fleek: Account Settings","join":"Joined on {{date}}","error":"We\'re sorry, there was an error when trying to get the account info.","navs":{"general":"General","profile":"Profile","storageApi":"Storage API","hostingApi":"Hosting API"},"hostingApi":{"title":"Hosting API","description":"Use this API key for hosting","card":{"title":"Api Details","apiKey":"Api Key","new":"Generate API","copy":"Your api key was successfully copied to your clipboard.","placeholder":"Click generate to create key"}},"storageApi":{"title":"Storage API","description":"Use this API key for Storage SDK","card":{"title":"Api Details","apiKey":"Api Key","new":"Generate API","copy":"Your api key was successfully copied to your clipboard.","placeholder":"Click generate to create key"}},"profile":{"title":"Profile","description":"Personal information details","edit":"Edit","card":{"title":"Personal information","name":"Name","email":"Email"}}},"handshakeSuccess":{"title":"Congrats!","message":"You have successfully set up your Namebase domain correctly. Please use the button below to return to Fleek and verify your HNS configuration.","button":"Return to Fleek"},"autopublishing":{"cta":{"stop":"Stop auto publishing","start":"Start auto publishing"}}}')},1138:function(e,t,a){"use strict";var n=function(e){for(var t,a=/^\[([a-zA-Z.]+)\]/gm,n=0;n<=10;){var r=a.exec(e);if(null===r)return null;if("build"===r[1]){t=a.lastIndex;break}n+=1}if(n>10)return null;var i=a.exec(e),o=i?i.index:e.length;return e.slice(t,o)};t.a=function(e){var t=n(e);if(!t)return{tomlCommand:void 0,tomlDirectory:void 0};var a=/^(\s*)command = "(.*)"/m.exec(t),r=a?a[2]:"",i=/^(\s*)publish = "(.*)"/m.exec(t);return{tomlCommand:r,tomlDirectory:i?i[2]:""}}},1159:function(e,t,a){e.exports=a(2011)},13:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(127),o=a(701),l=Object(o.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column"},button:{maxWidth:300},content:{position:"relative",marginTop:48,marginLeft:160},sidebar:{width:200,paddingTop:10,position:"relative",boxShadow:e.palette.shadows.small,backgroundColor:e.palette.palette.whiteThree},container:{display:"flex",position:"fixed",top:30,left:0,right:0,height:"calc(100vh - 30px)"},bannerContainer:{position:"fixed",top:0,left:0,right:0}}})),s=a(71),c=a(34),u=a(2070),d=a(369),m=a(1132),p=a(155),b=Object(o.a)((function(e){return{teamContainer:{padding:"18px 15px",borderTop:"1px solid ".concat(e.palette.palette.whiteSmoke),borderBottom:"1px solid ".concat(e.palette.palette.whiteSmoke),marginBottom:8},teamLabel:{marginBottom:7},root:{height:"100%",display:"flex",position:"relative",flexDirection:"column"},userMenuContainer:{flex:1,display:"flex",alignItems:"flex-end",padding:"15px 12px"},logo:{height:33},logoContainer:{display:"flex",paddingBottom:10,justifyContent:"center"},cliContainer:{margin:"5px 15px"}}})),f=a(201),g=a(19),y=a.n(g),h=a(965),v=Object(o.a)((function(e){return{root:{display:"flex",borderRadius:3,padding:"5px 7px",textDecoration:"none",backgroundColor:"#d0e4ff",justifyContent:"space-between",color:e.palette.palette.linkBlue}}})),E=function(e){var t=e.className,a=Object(f.a)(e,["className"]),n=v(),i=Object(u.a)().t;return r.a.createElement("a",Object.assign({target:"_blank",rel:"noopener noreferrer",href:"https://docs.fleek.co/storage/fleek-storage-js",className:y()(n.root,t)},a),r.a.createElement(d.a,{color:"inherit",display:"inline",variant:"caption"},i("layout.sidebar.getCLI")),r.a.createElement(h.a,{size:12,color:"inherit",icon:["far","long-arrow-right"]}))};E.defaultProps={className:null};var O,S=E,j=a(4),x=a(12),k=a(33),w=a(28),C=a(472),N=a.n(C),I=a(15),D=a(37),T=a(1130),A=a(5),B=a.n(A),P=a(82),M=function(e){var t=B()(e,"individual")||{},a=t.firstname,n=t.lastname;return a&&n?"".concat(a," ").concat(n):a||(n||(e.username||"unknown"))},R="Has sites",L=function(e){var t=e.hasSites;return Object(k.a)({},R,t)},U=function(e){try{var t={app_id:P.a.intercomKey,name:M(e),email:e.email,username:e.username,terminal_account_id:e.id,user_id:e.id};window.Intercom("boot",t)}catch(a){}},F=function(e,t){try{if(t){var a=L(t),n=Object(j.a)({user_id:e.id,email:e.email},a);window.Intercom("update",n)}else window.Intercom("update",{last_request_at:parseInt((new Date).getTime()/1e3,10)})}catch(r){}},_=function(){try{window.Intercom("shutdown")}catch(e){}},W=a(66),V={key:"logout",icon:"sign-out"},z={key:"settings",icon:"cog"},H=function(e,t){var a={logout:t("layout.userMenu.logout"),settings:t("layout.userMenu.settings"),signedAs:t("layout.userMenu.signedAs")},n=[Object(j.a)(Object(j.a)({},z),{},{text:a.settings}),Object(j.a)(Object(j.a)({},V),{},{text:a.logout})];if(e.loading||e.error)return{i18n:a,items:n,user:{id:"",name:t("layout.userMenu.loading")}};var r=B()(e,"data.getCurrentUser.user",{})||{},i=B()(r,"individual.profilePicUrl");return{i18n:a,items:n,user:Object(j.a)({id:B()(r,"id",""),email:B()(r,"email",""),name:B()(r,"individual.firstname",""),username:B()(r,"username","")},i&&{profilePicUrl:i})}},G=(O={},Object(k.a)(O,V.key,(function(){_(),W.a.signout()})),Object(k.a)(O,z.key,(function(e){e.history.push(Q.o.buildUrl(null,"/settings/general/profile"))})),O),K=function(){var e=Object(u.a)().t,t=Object(s.g)(),a=Object(n.useState)(!W.a.isAuthenticated),i=Object(x.a)(a,2),o=i[0],l=i[1],c=Object(w.b)(D.a,{skip:o,client:I.c,onCompleted:function(){var t=H(c,e).user,a=t.id,n=Object(f.a)(t,["id"]);window.analytics.identify(a,Object(j.a)({},n))}}),d=H(c,e),m=d.user,p=d.i18n,b=d.items;return Object(n.useEffect)((function(){if(!W.a.isAuthenticated)var e=W.a.onListen(W.a.events.onUserAuth,(function(t){t&&(e(),l(!1))}))}),[]),W.a.isAuthenticated?N()(m,"id")&&N()(m,"email")&&N()(m,"username")&&r.a.createElement(T.a,{onItemClick:function(e){G[e]({history:t})},user:m,i18n:p,items:b}):null},q=a(1134),$=Object(o.a)({select:{width:147,height:29,paddingTop:1}}),Y=a(39),Q=a(59),Z=function(e,t,a){if(e.loading||e.error)return[];var n=B()(e,"data.getMemberships.memberships",[])||[],r=Object(Y.a)(n).sort(Q.j).map((function(e){var a=e.teamName,n=e.teamId;return{id:n,name:a,selected:t===n}})),i={id:"ADD_TEAM",name:a("layout.teamSelector.createTeam"),selected:!1};return[].concat(Object(Y.a)(r),[i])},J=function(){var e=$(),t=Object(s.g)(),a=Object(u.a)().t,n=Q.o.getAccountIdFromUrl(),i=Object(w.b)(D.f,{client:I.b,skip:!W.a.isAuthenticated,onCompleted:function(){var e=Z(i,n,a).find((function(e){return e.selected}));e&&window.analytics.group(e.id,{name:e.name})}}),o=Z(i,n,a),l=o.find((function(e){return e.selected}));return r.a.createElement(q.a,{value:l||{},options:o,onChange:function(e){return function(e){if("ADD_TEAM"!==e.id){var a=Q.o.buildUrl({accountId:e.id},"/teams/".concat(e.id,"/sites"));window.ga("set","userId",e.id),window.analytics.group(e.id,{name:e.name}),t.push(a)}else t.push(Q.o.buildUrl(null,"/teams/create/team-name"))}(e)},className:e.select})},X=function(e){var t,a=e.t,n=e.location,r=e.teamId,i=(t=n.pathname,function(e){return e.some((function(e){return!!Object(s.f)(t,e)}))});return[{id:"sites",title:a("layout.sidebar.sites"),icon:"window",component:c.b,to:Q.o.buildUrl(null,"/teams/".concat(r,"/sites")),disabled:!1,selected:i(["/teams/:teamId/sites","/sites","/start"])},{id:"storage",title:a("layout.sidebar.storage"),icon:"storage",component:c.b,disabled:!1,to:Q.o.buildUrl(null,"/teams/".concat(r,"/storage/").concat(r,"-bucket")),selected:i(["/teams/:teamId/storage"])},{id:"billing",title:a("layout.sidebar.billing"),icon:"credit-card",component:c.b,to:Q.o.buildUrl(null,"/teams/".concat(r,"/billing/general")),disabled:!1,selected:i(["/teams/:teamId/billing/general/:section?","/teams/:teamId/billing/change-plan"])},{id:"members",title:a("layout.sidebar.members"),icon:"members",component:c.b,disabled:!1,to:Q.o.buildUrl(null,"/teams/".concat(r,"/members")),selected:i(["/teams/:teamId/members"])}]},ee=function(){var e=b(),t=Object(u.a)().t,a=Object(s.h)(),n=Object(p.a)(),i=X({t:t,location:a,teamId:n});return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.logoContainer},r.a.createElement(c.b,{to:Q.o.buildUrl(null,"/teams/".concat(n,"/sites"))},r.a.createElement("img",{alt:"fleek-logo",className:e.logo,src:"https://storage.googleapis.com/terminal-assets/images/fleek/fleek-logo.png"}))),r.a.createElement("div",{className:e.teamContainer},r.a.createElement(d.a,{variant:"body2",className:e.teamLabel},t("layout.sidebar.team")),r.a.createElement(J,null)),r.a.createElement(m.a,{items:i}),r.a.createElement(S,{className:e.cliContainer}),r.a.createElement("div",{className:e.userMenuContainer},r.a.createElement(K,null)))},te=a(2106),ae=Object(o.a)((function(e){return{container:{backgroundColor:"#f0f0f0",display:"flex",justifyContent:"center",alignItems:"center",height:30},text:{color:e.palette.palette.black,fontSize:14},link:{color:e.palette.palette.linkBlue,textDecoration:"none","&:hover":{textDecoration:"underline"}}}})),ne=function(){var e=ae();return r.a.createElement("div",{className:e.container},r.a.createElement(d.a,{className:e.text},r.a.createElement(te.a,{i18nKey:"topBanner.dnsMessage"}),"\ud83d\udd25",r.a.createElement(te.a,{i18nKey:"topBanner.dnsMessage2",components:[r.a.createElement("a",{className:e.link,href:"https://blog.fleek.co/posts/new-dns-configuration-ddos-cdn",target:"_blank",rel:"noopener noreferrer"},"LEARN MORE")]})))},re=(a(1450),function(e){var t=e.children,a=l();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null),r.a.createElement("div",{className:a.bannerContainer},r.a.createElement(ne,null)),r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.sidebar},r.a.createElement(ee,null)),t))}),ie=function(e){var t=e.children,a=Object(f.a)(e,["children"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(){return W.a.isAuthenticated?t:(W.a.authenticate("".concat(window.location.href.split("/#/")[1])),null)}}))},oe=a(1128),le=function(e){var t=e.t,a=Q.o.getAccountIdFromUrl();return{items:[{type:"icon",enabled:!0,title:t("sites.title"),icon:["fal","window"],to:Q.o.buildUrl(null,"/teams/".concat(a,"/sites"))}]}},se=function(e){return new Promise((function(t){t(le(e))}))},ce=a(67),ue=function(e){var t=e.params,a=e.siteName,n=void 0===a?"":a,r=e.loading,i=void 0===r||r;return{items:[{type:"text",to:Q.o.buildUrl(null,"/sites/".concat(t.siteSlug,"/overview")),title:n,enabled:!0,showSkeleton:i}]}},de=function(e){var t=e.t,a=Q.o.getAccountIdFromUrl();return{items:[{type:"icon",enabled:!0,title:t("billing.title"),icon:["fal","credit-card"],to:Q.o.buildUrl(null,"/teams/".concat(a,"/billing/general"))}]}},me=function(e){var t=e.t,a=Q.o.getAccountIdFromUrl();return{items:[{type:"icon",enabled:!0,title:t("members.title"),icon:["fal","users"],to:Q.o.buildUrl(null,"/teams/".concat(a,"/members"))}]}},pe=function(e){return new Promise((function(t){t(me(e))}))},be=function(e){return{items:[{type:"icon",enabled:!0,title:(0,e.t)("team.title"),icon:["fal","users"],to:Q.o.buildUrl(null,"/teams/create/team-name")}]}},fe=function(e){var t=e.t,a=e.location,n=Object(s.f)(a.pathname,"/teams/:teamId/storage/"),r=B()(n,"params.teamId","");return{items:[{type:"icon",enabled:!0,title:t("storage.title"),icon:["fal","hdd"],to:Q.o.buildUrl(null,"/teams/".concat(r,"/storage"))}]}},ge=function(e){var t=e.location,a=Object(s.f)(t.pathname,"/teams/:teamId/storage/:bucketName"),n=B()(a,"params",{}),r=n.teamId,i=n.bucketName;return{items:[{type:"text",enabled:!0,title:i,to:Q.o.buildUrl(null,"/teams/".concat(r,"/storage/").concat(i))}]}},ye=[{path:"/teams/:teamId/sites",resolvers:[se],defaultConfig:[le]},{path:"/teams/:teamId/billing/*",resolvers:[function(e){return new Promise((function(t){t(de(e))}))}],defaultConfig:[de]},{path:"/sites/*",resolvers:[se,function(e){return new Promise((function(t){var a=e.params;I.b.query({query:ce.c,variables:{slug:a.siteSlug}}).then((function(a){var n=B()(a,"data.getSiteBySlug",{})||{},r=Object(Q.l)(n),i=ue(Object(j.a)(Object(j.a)({},e),{},{siteName:r,loading:!1}));t(i)})).catch((function(){var a=ue(e);t(a)}))}))}],defaultConfig:[le,ue]}],he=[{path:"/start*",resolvers:[se],defaultConfig:[le]}],ve=[{path:"/teams/:teamId/members",resolvers:[pe],defaultConfig:[me]},{path:"/teams/:teamId/members/add",resolvers:[pe],defaultConfig:[me]}],Ee=[{path:"/teams/create*",resolvers:[function(e){return new Promise((function(t){t(be(e))}))}],defaultConfig:[be]}],Oe=[{path:"/teams/:teamId/storage",resolvers:[],defaultConfig:[fe]},{path:"/teams/:teamId/storage/:bucketName",resolvers:[],defaultConfig:[fe,ge]},{path:"/teams/:teamId/storage/:bucketName/(object|folder)/*",resolvers:[],defaultConfig:[fe,ge,function(e){var t=e.location,a=Object(s.f)(t.pathname,"/teams/:teamId/storage/:bucketName/object/*"),n=Object(s.f)(t.pathname,"/teams/:teamId/storage/:bucketName/folder/*"),r=(a||n||{params:{}}).params,i=r[0],o=r.teamId,l=r.bucketName,c=a?"object":"folder",u=i?i.split("/"):[];return{items:u.map((function(e,t){var a=t===u.length-1?c:"folder",n=u.slice(0,t+1).join("/");return{type:"text",enabled:!0,title:e,to:Q.o.buildUrl(null,"/teams/".concat(o,"/storage/").concat(l,"/").concat(a,"/").concat(n))}}))}}]}],Se=[].concat(Object(Y.a)(he),Object(Y.a)(ye),Object(Y.a)(ve),Object(Y.a)(Ee),Object(Y.a)(Oe)),je=a(8),xe=a.n(je),ke=a(25),we=a(462),Ce=a.n(we),Ne=function(e,t){var a=Object(s.h)().pathname,r=e.find((function(e){return!!Object(s.f)(a,{path:e.path,exact:!0})})),i=B()(r,"resolvers",[]),o=B()(r,"defaultConfig",[]),l=Object(n.useState)({}),c=Object(x.a)(l,2),u=c[0],d=c[1];return Object(n.useEffect)((function(){var e=o.map((function(e){return e(t)}));d(Ce.a.all(e));var a=function(){var e=Object(ke.a)(xe.a.mark((function e(){var a,n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.map((function(e){return e(t)})),e.next=3,Promise.all(a);case 3:n=e.sent,r=Ce.a.all(n),d(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.length>0&&a()}),[a]),u},Ie=function(e){var t=Object(u.a)().t,a=Object(s.i)(),n=Object(s.h)(),i=Ne(Se,Object(j.a)({t:t,params:a,location:n},e)).items,o=void 0===i?[]:i;return r.a.createElement(oe.a,{items:o,component:c.b,itemsCount:{},disableLastItem:!1})};Ie.defaultProps={site:{}};var De=Ie,Te=a(234),Ae=a(439),Be=a(2108),Pe=a(17),Me=a.n(Pe),Re=a(16),Le=Object(o.a)((function(e){return{modal:{"& > div":{outline:"none"}},errorBox:{width:700,padding:"9px 12px",boxSizing:"border-box",height:68,backgroundColor:e.palette.palette.errorRed,borderRadius:4,position:"absolute",top:"-70px",left:0,color:"white",fontSize:12},pointText:{margin:"19px 0 13px 0",color:"#000",fontWeight:500},description:{marginBottom:20,color:e.palette.palette.grey2,lineHeight:1.29},blackBox:{padding:"16px 17px 16px 17px",backgroundColor:"#081f24",borderRadius:6,marginBottom:20},consoleText:{fontFamily:"Inconsolata, monospace",color:"white"},footerText:{color:e.palette.palette.grey2},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end","& > button":{marginLeft:15}}}})),Ue=Object(o.a)((function(e){return{title:{marginRight:10,color:e.palette.palette.grey1},detail:{color:e.palette.palette.whiteThree}}})),Fe=function(e){var t=e.title,a=e.detail,n=Ue();return r.a.createElement("div",null,r.a.createElement(d.a,{variant:"body2",display:"inline",className:n.title},t,":"),r.a.createElement(d.a,{variant:"body2",display:"inline",className:n.detail},a))};Fe.defaultProps={title:"",detail:""};var _e=Fe,We=function(e){var t=e.open,a=e.domain,i=e.terminalRecord,o=e.closeModal,l=e.onSubmit,s=e.proxyType,c=e.pullZoneUrl,m=Le(),p=Object(n.useState)(!1),b=Object(x.a)(p,2),f=b[0],g=b[1],h=Object(n.useState)(!1),v=Object(x.a)(h,2),E=v[0],O=v[1],S=Object(u.a)().t,j=a.split("."),w=j.length>2?j.slice(0,j.length-2):[],C=s===Re.j.BUNNY?c:a,N=s===Re.j.BUNNY?c:i,I=function(){var e=Object(ke.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),O(!1),e.next=4,l();case 4:if(t=e.sent,g(!1),!t){e.next=9;break}return o(),e.abrupt("return");case 9:O(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Be.a,{open:t,title:S("modals.dnsConfiguration.title"),maxWidth:700,onClose:o,className:y()(m.modal,Object(k.a)({},m.error,E))},E&&r.a.createElement("div",{className:m.errorBox},S("modals.dnsConfiguration.error")),r.a.createElement(d.a,{variant:"body2",className:m.pointText},S("modals.dnsConfiguration.pointText",{domain:C})),r.a.createElement(d.a,{variant:"body2",className:m.description},S("modals.dnsConfiguration.description",{domain:C})),r.a.createElement("div",{className:m.blackBox},r.a.createElement(_e,{title:S("modals.record"),detail:"CNAME"}),r.a.createElement(_e,{title:S("modals.host"),detail:w.join(".")}),r.a.createElement(_e,{title:S("modals.pointsTo"),detail:N})),r.a.createElement(d.a,{variant:"body2",className:m.footerText},S("modals.nameServer.step2.footer",{domain:a})),r.a.createElement("div",{className:m.buttonContainer},r.a.createElement(Me.a,{buttonVariant:"secondary",onClick:o},S("modals.dnsConfiguration.buttons.cancel")),r.a.createElement(Me.a,{buttonVariant:"primary",onClick:I,loading:f,disabled:f},S("modals.dnsConfiguration.buttons.verifyDns"))))};We.defaultProps={open:!1,domain:"domain",terminalRecord:"",pullZoneUrl:""};var Ve=We,ze=Object(o.a)((function(e){return{modal:{"& > div":{outline:"none"}},pointText:{margin:"19px 0 13px 0",color:"#000",fontWeight:500},description:{marginBottom:20,color:e.palette.palette.grey2,lineHeight:1.29},blackBox:{padding:"16px 17px 16px 17px",backgroundColor:"#081f24",borderRadius:6},consoleText:{fontFamily:"Inconsolata, monospace",color:"white"},footerText:{color:e.palette.palette.grey2,marginTop:20},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end","& > button":{marginLeft:15}},errorBox:{width:700,padding:"9px 12px",boxSizing:"border-box",height:68,backgroundColor:e.palette.palette.errorRed,borderRadius:4,position:"absolute",top:"-70px",left:0,color:"white",fontSize:12}}})),He=function(e){var t=e.open,a=e.ip,i=e.domain,o=e.closeModal,l=e.onSubmit,s=e.proxyType,c=e.pullZoneUrl,m=ze(),p=Object(n.useState)(!1),b=Object(x.a)(p,2),f=b[0],g=b[1],h=Object(n.useState)(!1),v=Object(x.a)(h,2),E=v[0],O=v[1],S=Object(u.a)().t,j=s===Re.j.BUNNY?"ANAME":"A",w=s===Re.j.BUNNY?c:a,C="modals.nameServer.step1.".concat(s===Re.j.BUNNY?"bunnyDescription":"description"),N=function(){var e=Object(ke.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),O(!1),e.next=4,l();case 4:if(t=e.sent,g(!1),!t){e.next=9;break}return o(),e.abrupt("return");case 9:O(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Be.a,{open:t,title:S("modals.nameServer.title"),maxWidth:700,onClose:o,className:y()(m.modal,Object(k.a)({},m.error,E))},E&&r.a.createElement("div",{className:m.errorBox},S("modals.dnsConfiguration.error")),r.a.createElement(d.a,{variant:"body2",className:m.pointText},S("modals.nameServer.step1.title",{record:j,pointsTo:w})),r.a.createElement(d.a,{variant:"body2",className:m.description},S(C,{record:j,domain:i,pointsTo:w})),"ANAME"===j&&r.a.createElement(d.a,{variant:"body2",className:m.description},S("modals.nameServer.step1.anameText")),r.a.createElement("div",{className:m.blackBox},r.a.createElement(_e,{title:S("modals.record"),detail:j}),r.a.createElement(_e,{title:S("modals.host"),detail:"@"}),r.a.createElement(_e,{title:S("modals.pointsTo"),detail:w})),r.a.createElement(d.a,{variant:"body2",className:m.footerText},S("modals.nameServer.step2.footer",{domain:i})),r.a.createElement(d.a,{variant:"body2",className:m.footerText},S("modals.nameServer.footer")),r.a.createElement("div",{className:m.buttonContainer},r.a.createElement(Me.a,{buttonVariant:"secondary",onClick:o},S("modals.dnsConfiguration.buttons.cancel")),r.a.createElement(Me.a,{buttonVariant:"primary",onClick:N,loading:f,disabled:f},S("modals.dnsConfiguration.buttons.verifyDns"))))};He.defaultProps={open:!1,domain:"domain",pullZoneUrl:""};var Ge=He,Ke=a(31),qe=a(177),$e=Object(o.a)((function(e){return{modal:{"& > div":{outline:"none"}},messageBox:{width:700,padding:"9px 12px",boxSizing:"border-box",borderRadius:4,position:"absolute",top:"-45px",left:0,fontSize:12},errorBox:{backgroundColor:e.palette.palette.lightErrorRed,color:e.palette.palette.saturatedRed},warningBox:{backgroundColor:e.palette.palette.fadeStarYellow,color:e.palette.palette.starYellow},subtitle:{margin:"19px 0 13px 0",color:"#000",fontWeight:500},description:{marginBottom:20,color:e.palette.palette.grey2,lineHeight:1.29},consoleText:{fontFamily:"Inconsolata, monospace",color:"white"},footerText:{color:e.palette.palette.grey2},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end","& > button":{marginLeft:15}},verifiedContainer:{display:"inline-flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.palette.fadeOutGreen,borderRadius:3,marginLeft:13,height:24,padding:5},checkmark:{color:e.palette.palette.green,fontSize:12,marginRight:4,marginLeft:-1,display:"inline-block",position:"relative",top:2},verifiedText:{color:e.palette.palette.green,fontSize:12,display:"inline-block"},migrateStepTitleText:{display:"inline-block"},link:{textDecoration:"none"}}})),Ye=function(e){var t,a=e.open,i=e.onClose,o=e.onSubmit,l=e.state,s=e.setState,c=e.ensDomain,m=e.siteId,p=$e(),b=Object(u.a)().t,f=B()(c,"isResolverMigrated",!1),g=B()(c,"isFleekControlled",!1),h=B()(c,"domain"),v=Object(n.useState)(!1),E=Object(x.a)(v,2),O=E[0],S=E[1],C=Object(qe.a)();Object(w.b)(D.d,{variables:{siteId:m},client:I.b});var N=Object(w.b)(D.e,{client:I.b,variables:{network:C.network,domain:h},skip:!O||!a}),T=N.data,A=N.startPolling,P=N.stopPolling,M=B()(T,"getEnsDomainInfo.isResolverMigrated",!1),R=f||M;Object(n.useEffect)((function(){a||S(!1),a&&!f&&S(!0),s((function(){return Object(j.a)(Object(j.a)({},l),{},{loading:!1,error:null})}))}),[a]),Object(n.useEffect)((function(){a&&!R&&O&&T&&A(3e3),a&&!R||P()}),[a,R,O,T]),Object(n.useEffect)((function(){return function(){return P()}}));return r.a.createElement(Be.a,{open:a,title:b("sites.tabs.settings.ens.setControllerModal.title"),maxWidth:700,onClose:i,className:y()(p.modal,Object(k.a)({},p.error,l.error))},l.error&&r.a.createElement("div",{className:y()(p.messageBox,(t={},Object(k.a)(t,p.errorBox,"error"===l.error.type),Object(k.a)(t,p.warningBox,"warning"===l.error.type),t))},l.error.message),O?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(d.a,{variant:"body2",className:y()(p.subtitle,p.migrateStepTitleText)},b("sites.tabs.settings.ens.setControllerModal.migrateEnsStep",{stepNumber:1})),R&&r.a.createElement("div",{className:p.verifiedContainer},r.a.createElement("div",{className:p.checkmark},r.a.createElement(Ke.default,{icon:["far","check"],fontSize:"inherit"})),r.a.createElement(d.a,{className:p.verifiedText},b("sites.tabs.settings.ens.setControllerModal.migrated")))),r.a.createElement(d.a,{variant:"body2",className:p.description},b("sites.tabs.settings.ens.setControllerModal.migrateEnsParagraph")),r.a.createElement(Me.a,{buttonVariant:"primary",target:"_blank",rel:"noopener noreferrer",href:"https://app.ens.domains/name/".concat(h),disabled:R},r.a.createElement(d.a,{variant:"body2"},b("sites.tabs.settings.ens.setControllerModal.migrate")))):null,g?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"body2",className:p.subtitle},b("sites.tabs.settings.ens.setControllerModal.verifyOwnershipStep",{stepNumber:O?2:1})),r.a.createElement(d.a,{variant:"body2",className:p.description},b("sites.tabs.settings.ens.setControllerModal.verifyOwnershipParagraph")),r.a.createElement("div",{className:p.buttonContainer},r.a.createElement(Me.a,{buttonVariant:"secondary",onClick:i},b("common.cancel")),r.a.createElement(Me.a,{buttonVariant:"primary",onClick:o,loading:l.loading,disabled:!R},b("sites.tabs.settings.ens.setControllerModal.verifyOwnershipButton")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"body2",className:p.subtitle},b("sites.tabs.settings.ens.setControllerModal.setControllerStep",{stepNumber:O?2:1})),r.a.createElement(d.a,{variant:"body2",className:p.description},b("sites.tabs.settings.ens.setControllerModal.setControllerParagraph")),r.a.createElement("div",{className:p.buttonContainer},r.a.createElement(Me.a,{buttonVariant:"secondary",onClick:i},b("common.cancel")),r.a.createElement(Me.a,{buttonVariant:"primary",onClick:o,loading:l.loading,disabled:!R},b("sites.tabs.settings.ens.setControllerModal.setControllerButton")))))};Ye.defaultProps={open:!1,state:{},ensDomain:null};var Qe=Ye,Ze=a(45),Je=a(377),Xe=Object(o.a)((function(e){return{root:{top:0,left:0,right:0,bottom:0,zIndex:2e3,display:"flex",position:"fixed",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.palette.landingPageGrey},logo:{height:200}}})),et=function(){var e=Xe(),t=Object(Ze.b)();return Object(n.useEffect)((function(){return t(Object(Je.b)(!0)),function(){return t(Object(Je.b)(!1))}})),r.a.createElement("div",{className:e.root},r.a.createElement("img",{alt:"fleek-loading",src:"/loading-logo.svg",className:e.logo}))},tt=a(1099),at=a.n(tt),nt=a(1100),rt=(at()(P.a.stripeKey),Object(nt.a)(P.a.stripeKey)),it=a(116),ot=a(318),lt=a.n(ot),st=a(174),ct=a(205),ut=function(){var e=Object(s.h)(),t=Object(st.a)(),a=Object(w.b)(D.a,{skip:!W.a.isAuthenticated,client:I.c,fetchPolicy:"cache-only"}).data,r=Object(w.b)(ct.a,{variables:{teamId:t,limit:Re.h},client:I.b,fetchPolicy:"cache-only"}).data,i=B()(a,"getCurrentUser.user"),o=!!B()(r,"getSitesByTeam.sites.length");Object(n.useEffect)((function(){i&&(U(i),it.c(Object(j.a)({},i)),lt.a.identify(i.email,Object(j.a)({},i)))}),[i]),Object(n.useEffect)((function(){i&&void 0!==o&&F(i,{hasSites:o})}),[i,o]),Object(n.useEffect)((function(){i&&(F(),window.gtag("config","UA-144542192-6",{page_path:e.pathname}))}),[i,e.pathname])},dt=a(239),mt=function(){var e=Object(ke.a)(xe.a.mark((function e(){var t,a,n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.b.query({query:D.f,fetchPolicy:"network-only"});case 3:if(t=e.sent,a=B()(t,"data.getMemberships.memberships",[])||[],n=Object(Y.a)(a).sort(Q.j),r=B()(n,"[0].teamId",null)||null){e.next=9;break}throw new Error("No available teams");case 9:return window.ga("set","userId",r),window.analytics.group(r,{name:r}),e.abrupt("return",Q.o.buildUrl({accountId:r}));case 14:return e.prev=14,e.t0=e.catch(0),it.a(e.t0,{tags:{scope:"sites",method:"getRedirectUrl",component:"LoadInitialState"}}),console.error(e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),pt=[/\/sites.*/,/\/start.*/,/\/teams.*/],bt=[/\/copyright.*/,/\/terms_of_service.*/,/\/privacy_and_policy.*/],ft=function(){var e=Object(s.g)(),t=Object(s.h)(),a=Object(st.a)();ut();var i=pt.some((function(e){return t.pathname.match(e)})),o=bt.some((function(e){return t.pathname.match(e)}));return Object(n.useEffect)((function(){var e=function(){var e=Object(ke.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.b.query({query:dt.a});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),it.a(e.t0,{tags:{scope:"sites",method:"getPlans",component:"LoadInitialState"}}),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(ke.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.b.query({query:D.j,variables:{teamId:a}});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),it.a(e.t0,{tags:{scope:"sites",method:"getTeamBillingInfo",component:"LoadInitialState"}}),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(ke.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.b.query({query:D.k,variables:{id:a}});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),it.a(e.t0,{tags:{scope:"sites",method:"getTeamInfo",component:"LoadInitialState"}}),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();"/auth/cb"!==t.pathname&&(e(),n(),r())}),[a]),Object(n.useEffect)((function(){var t=function(){var t=Object(ke.a)(xe.a.mark((function t(){var a;return xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mt();case 2:(a=t.sent)&&e.replace(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=setInterval((function(){!a&&W.a.isAuthenticated&&i&&t()}),5e3);return function(){return clearInterval(n)}}),[a]),o?null:!a&&i||!W.a.isAuthenticated?r.a.createElement(et,null):null},gt=a(556),yt=a(87),ht=Object(o.a)((function(e){return{terminal:{padding:16,borderRadius:6,margin:"20px 0 22px",backgroundColor:"#081f24",color:e.palette.palette.whiteThree},ctaContainer:{display:"flex",justifyContent:"flex-end","& > *:not(:last-child)":{marginRight:10}},subtitle:{marginTop:20},subtitle2:{color:e.palette.palette.grey2,marginTop:13},errorBox:{width:700,padding:"9px 12px",boxSizing:"border-box",height:68,backgroundColor:e.palette.palette.errorRed,borderRadius:4,position:"absolute",top:"-86px",left:0,color:"white",fontSize:12},submitButton:{minWidth:222},footerText:{color:e.palette.palette.grey2,marginBottom:10}}})),vt=function(e){var t=e.open,a=e.domain,i=e.siteId,o=e.domainId,l=e.closeModal,s=e.currentDomain,c=ht(),m=Object(u.a)().t,p=Object(n.useState)(),b=Object(x.a)(p,2),f=b[0],g=b[1],y=Object(n.useState)(!1),h=Object(x.a)(y,2),v=h[0],E=h[1],O=s.split("."),S=O.length>2?O.slice(0,O.length-2):[],j=Object(w.a)(yt.o,{client:I.b}),k=Object(x.a)(j,1)[0],C=function(){var e=Object(ke.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),g(null),e.prev=2,e.next=5,k({variables:{input:{siteId:i,domainId:o}}});case 5:l(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),g(e.t0);case 11:E(!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Be.a,{open:t,maxWidth:700,onClose:l,title:m("modals.dnsLink.title"),disableAutoFocus:!0,disableEnforceFocus:!0},f&&r.a.createElement("div",{className:c.errorBox},m("modals.dnsConfiguration.error")),r.a.createElement(d.a,{variant:"body2",className:c.subtitle},r.a.createElement(gt.a,{fontWeight:500},m("modals.dnsLink.subTitle"))),r.a.createElement(d.a,{variant:"body2",className:c.subtitle2},m("modals.dnsLink.subtitle2")),r.a.createElement("div",{className:c.terminal},r.a.createElement(_e,{title:m("modals.record"),detail:"CNAME"}),r.a.createElement(_e,{title:m("modals.host"),detail:["_dnslink"].concat(Object(Y.a)(S)).join(".")}),r.a.createElement(_e,{title:m("modals.pointsTo"),detail:"_dnslink.".concat(a)})),r.a.createElement(d.a,{variant:"body2",className:c.footerText},m("modals.nameServer.step2.footer",{domain:a})),r.a.createElement("div",{className:c.ctaContainer},r.a.createElement(Me.a,{onClick:l,disabled:v,buttonVariant:"secondary"},m("modals.dnsLink.cancel")),r.a.createElement(Me.a,{onClick:C,disabled:v,loading:v,buttonVariant:"primary",className:c.submitButton},m("modals.dnsLink.verifyDns"))))};vt.defaultProps={domain:"",siteId:"",open:!1,domainId:"",currentDomain:"",closeModal:function(){}};var Et=vt,Ot=a(242),St=a(241),jt=Object(o.a)({form:{marginTop:20,marginBottom:10}}),xt=function(e){return{clientSecret:"",i18n:{title:e("modals.paymentMethod.title"),inputs:{name:{label:e("modals.paymentMethod.form.inputs.name.label"),placeholder:e("modals.paymentMethod.form.inputs.name.placeholder")},country:{label:e("modals.paymentMethod.form.inputs.country.label"),placeholder:e("modals.paymentMethod.form.inputs.country.placeholder")},cta:e("modals.paymentMethod.form.inputs.cta")},error:{title:e("modals.paymentMethod.form.errors.title"),name:e("modals.paymentMethod.form.errors.name"),country:e("modals.paymentMethod.form.errors.country"),card:e("modals.paymentMethod.form.errors.card"),internal:e("modals.paymentMethod.form.errors.internal")}}}},kt=a(2099),wt=a(788),Ct=a(2094),Nt=a(2125),It=a(2126),Dt=Object(o.a)({form:{display:"flex",flexDirection:"column",backgroundColor:"white"},input:{marginBottom:10},button:{marginTop:10},errorList:{margin:0,fontSize:13},alert:{marginBottom:20}}),Tt=a(1101),At=a(72),Bt=Object(o.a)((function(e){return{root:{flex:1,borderRadius:4,padding:"10px 15px",alignItems:"center",backgroundColor:"white",border:"solid 1px ".concat(e.palette.palette.grey4)}}})),Pt=function(e){var t=e.onChange,a=e.className,n=Object(At.a)(),i=Bt(),o=function(e){return{iconStyle:"solid",hidePostalCode:!0,style:{base:{fontWeight:400,fontSize:"13px",fontSmoothing:"antialiased",lineHeight:"1.23",fontStyle:"normal",textTransform:"none",letterSpacing:"0.4px",color:e.palette.palette.black,iconColor:e.palette.palette.grey2,fontFamily:'"Work Sans", "Roboto", Helvetica, Arial, sans-serif',"::placeholder":{color:e.palette.palette.grey6}},invalid:{color:e.palette.palette.errorRed,iconColor:e.palette.palette.errorRed}}}}(n);return r.a.createElement("div",{className:y()(i.root,a)},r.a.createElement(Ot.CardElement,{options:o,onChange:t}))};Pt.defaultProps={className:null};var Mt=Pt,Rt=function(e,t,a,n){var r=[],i=""!==e,o="none"!==t,l=B()(a,"complete",!1);return i||r.push(B()(n,"error.name","")),l||r.push(B()(n,"error.card","")),o||r.push(B()(n,"error.country","")),r},Lt=function(e){var t=e.i18n,a=e.onSuccess,i=e.className,o=e.clientSecret,l=Object(n.useState)(),s=Object(x.a)(l,2),c=s[0],u=s[1],d=Object(n.useState)(""),m=Object(x.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)([]),g=Object(x.a)(f,2),h=g[0],v=g[1],E=Object(n.useState)(!1),O=Object(x.a)(E,2),S=O[0],j=O[1],k=Object(n.useState)("none"),w=Object(x.a)(k,2),C=w[0],N=w[1],I=Object(Ot.useStripe)(),D=Object(Ot.useElements)(),T=Dt(),A=function(){var e=Object(ke.a)(xe.a.mark((function e(n){var r,i,l,s,u;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!((r=Rt(p,C,c,t)).length>0)){e.next=5;break}return v(r),e.abrupt("return");case 5:if(I&&D){e.next=9;break}return i=[B()(t,"error.internal","")],v(i),e.abrupt("return");case 9:return l=D.getElement(Ot.CardElement),j(!0),e.prev=11,e.next=14,I.confirmCardSetup(o,{payment_method:{card:l,billing_details:{name:p,address:{country:C}}}});case 14:s=e.sent,B()(s,"error",!1)&&(u=B()(s,"error.message",""),v([u])),a(s,j),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(11),console.error(e.t0),v([B()(t,"error.internal","")]),j(!1);case 24:case"end":return e.stop()}}),e,null,[[11,19]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e,t){h.length>0&&v([]),t(e)};return r.a.createElement("form",{onSubmit:A,className:y()(T.form,i)},h.length>0&&r.a.createElement(kt.a,{severity:"error",className:T.alert},r.a.createElement(Ct.a,null,B()(t,"error.title","")),r.a.createElement("ul",{className:T.errorList},h.map((function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement(Nt.a,{labelProps:{className:T.input},value:p,label:B()(t,"inputs.name.label",""),placeholder:B()(t,"inputs.name.placeholder",""),onChange:function(e){return P(e.target.value,b)}}),r.a.createElement(It.a,{labelProps:{className:T.input},value:C,options:Tt,label:B()(t,"inputs.country.label",""),onChange:function(e){return P(e.target.value,N)},placeholder:B()(t,"inputs.country.placeholder","")}),r.a.createElement(Mt,{className:T.input,onChange:function(e){return P(e,u)}}),r.a.createElement(wt.a,{type:"submit",color:"primary",variant:"contained",className:T.button,disabled:S},B()(t,"inputs.cta","")))};Lt.defaultProps={i18n:{},className:null,clientSecret:"",onSuccess:function(){}};var Ut=Lt,Ft=a(321),_t=function(e){var t=e.open,a=e.useTeamId,i=e.closeModal,o=e.onSuccess,l=jt(),s=Object(u.a)().t,c=xt(s).i18n,d=Object(Ze.b)(),m=Object(st.a)(),p=Object(w.a)(yt.m,{client:I.b}),b=Object(x.a)(p,1)[0],f=Object(w.a)(yt.n,{client:I.b}),g=Object(x.a)(f,1)[0],y=Object(w.a)(yt.b,{client:I.b}),h=Object(x.a)(y,1)[0],v=Object(Ze.c)((function(e){return e.billing.clientSecretId})),E=function(){var e=Object(ke.a)(xe.a.mark((function e(t){var n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(Object(Ft.c)()),n=!1,t.error){e.next=22;break}if(!a){e.next=16;break}return e.prev=4,e.next=7,h({variables:{teamId:m,paymentMethodId:B()(t,"setupIntent.payment_method")},refetchQueries:[{query:D.k,variables:{id:m}}]});case 7:r=e.sent,n=r.data,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:e.next=17;break;case 16:n=!0;case 17:(n?St.c.success:St.c.error)(s(n?"modals.paymentMethod.success":"modals.paymentMethod.error"),{autoClose:6e3}),i(),o(t);case 22:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v||function(){var e=Object(ke.a)(xe.a.mark((function e(){var t,n,r,i;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a?b:g,n=a?"setupBillingIntent":"setupBillingIntentWithoutTeam",e.next=5,t({variables:Object(j.a)({},a&&{teamId:m})});case 5:r=e.sent,(i=B()(r,"data.".concat(n,".intentId")))&&d(Object(Ft.d)(i)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[]),r.a.createElement(Be.a,{open:t,maxWidth:460,onClose:function(){return i()},title:c.title,disableAutoFocus:!0,disableEnforceFocus:!0},r.a.createElement(Ot.Elements,{stripe:rt},r.a.createElement(Ut,{i18n:c,onSuccess:E,className:l.form,clientSecret:v})))};_t.defaultProps={open:!1,useTeamId:!0,onSuccess:function(){},closeModal:function(){}};var Wt=_t,Vt=a(106),zt=a(92),Ht=a(248),Gt=Object(o.a)({buttons:{display:"flex",justifyContent:"flex-end","& > *":{marginLeft:10}},modal:{"& > div:focus":{outline:"none"}},message:{margin:"18px 0 28px 0"},alert:{margin:"15px 0"}}),Kt=function(e){var t=e.open,a=e.closeModal,i=e.itemsToRemove,o=e.redirectUrl,l=Gt(),c=Object(u.a)().t,m=Object(n.useState)({error:null,loading:!1}),p=Object(x.a)(m,2),b=p[0],f=p[1],g=Object(Ze.c)((function(e){return e.storage})).objects,y=Object(Ze.b)(),h=Object(s.g)(),v=function(e){var t=Object(Y.a)(e);return e.filter((function(e){return"folder"===e.type})).forEach((function(e){var a=g.filter((function(t){var a=new RegExp("^".concat(e.fullKey)),n=e.fullKey===t.fullKey;return a.test(t.fullKey)&&!n}));t.push.apply(t,Object(Y.a)(a))})),t},E=function(e){var t=new RegExp("(".concat(e.name,"/?)$"));return e.key.replace(t,"")},O=function(){var e=Object(ke.a)(xe.a.mark((function e(){var t,n,r,l,s;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(Object(j.a)(Object(j.a)({},b),{},{error:null,loading:!0})),e.prev=1,e.next=4,Object(I.a)();case 4:t=e.sent,n=i[0],r=n.bucket,l=E(n),s={Prefix:l,Bucket:r},t.listObjectsV2(s,function(){var e=Object(ke.a)(xe.a.mark((function e(t,n){var l,s,c;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}throw it.a(t,{tags:{scope:"s3",method:"listObjectsV2"}}),t;case 3:return l=n.Contents.map((function(e){return Object(Ht.a)(e,r)})),s=l.filter((function(e){var t=!1;return i.forEach((function(a){if("folder"===a.type){var n=a.key.slice(0,a.key.length-1);new RegExp("^(".concat(n,"/\\w+)")).test(e.key)&&(t=!0)}a.key===e.key&&(t=!0)})),t})),e.next=7,Object(zt.l)({Bucket:r,Delete:{Objects:s.map((function(e){return{Key:e.key}}))}});case 7:c=v(i),y(Object(zt.r)(c)),f(Object(j.a)(Object(j.a)({},b),{},{loading:!1})),o&&h.push(o),a();case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),it.a(e.t0,{tags:{scope:"s3",method:"deleteObjects"}}),console.error("Delete Site error: ",e.t0.message),f(Object(j.a)(Object(j.a)({},b),{},{loading:!1,error:c("modals.deleteStoredItems.error")}));case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Be.a,{open:t,maxWidth:472,onClose:a,className:l.modal,title:c("modals.deleteStoredItems.title")},b.error&&r.a.createElement(Vt.a,{type:"error",message:b.error,className:l.alert,icon:["fal","times-circle"]}),r.a.createElement(d.a,{className:l.message,variant:"body2"},i.length>1?c("modals.deleteStoredItems.messageManyFiles",{filesNumber:i.length}):c("modals.deleteStoredItems.messageOneFile",{fileName:i[0].name})),r.a.createElement("div",{className:l.buttons},r.a.createElement(Me.a,{onClick:a,buttonVariant:"secondary",disabled:b.loading},c("common.cancel")),r.a.createElement(Me.a,{buttonVariant:"primary",loading:b.loading,onClick:O},c("common.confirm"))))};Kt.defaultProps={redirectUrl:null};var qt=Kt,$t=a(88),Yt=Object(o.a)({buttons:{display:"flex",justifyContent:"flex-end","& > *":{marginLeft:10}},modal:{color:"red","& > div:focus":{outline:"none"}},alert:{margin:"15px 0"},input:{margin:"24px 0 8px"},form:{display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:150}}),Qt=new RegExp('^[^\\/?%*:|"<>]*$'),Zt=function(e){var t=e.open,a=e.closeModal,i=Yt(),o=Object(u.a)().t,l=Object(s.h)(),c=Object(n.useState)({error:null,loading:!1,inputValue:"",inputError:""}),d=Object(x.a)(c,2),m=d[0],p=d[1],b=Object(Ze.b)(),f=function(){var e=Object(ke.a)(xe.a.mark((function e(t){var n,r,i,c,u,d,f,g,y;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=Object(s.f)(l.pathname,"/teams/:teamId/storage/:bucketName/folder/*"),r=Object(s.f)(l.pathname,"/teams/:teamId/storage/:bucketName"),i=B()(n||r,"params",{}),c=i.bucketName,u=i[0],f=(d=void 0===u?"":u)?"".concat(d.replace(/^\//,""),"/"):"",g="".concat(f).concat(m.inputValue,"/"),y={bucket:c,teamId:Q.o.getAccountIdFromUrl()},p(Object(j.a)(Object(j.a)({},m),{},{loading:!0})),e.next=10,Object(I.a)();case 10:e.sent.putObject({Bucket:c,Key:g},(function(e){e?(y.error=e.message,window.analytics.track("Storage create folder failed",y),it.a(e,{tags:{scope:"s3",method:"putObject"}}),p(Object(j.a)(Object(j.a)({},m),{},{error:o("modals.createFolder.error"),loading:!1}))):(window.analytics.track("Storage create folder confirmed",y),b(Object(zt.k)(g,c)),a())}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Be.a,{open:t,maxWidth:472,onClose:a,className:i.modal,title:o("modals.createFolder.title")},m.error&&r.a.createElement(Vt.a,{type:"error",message:m.error,className:i.alert,icon:["fal","times-circle"]}),r.a.createElement("form",{id:"createFolder",onSubmit:f,className:i.form},r.a.createElement($t.a,{autoFocus:!0,value:m.value,label:o("modals.createFolder.inputLabel"),onChange:function(e){var t=e.target.value,a=Qt.test(t)?"":o("modals.createFolder.invalidName");p(Object(j.a)(Object(j.a)({},m),{},{inputValue:e.target.value,inputError:a}))},className:i.input,error:!!m.inputError,errorMessage:m.inputError}),r.a.createElement("div",{className:i.buttons},r.a.createElement(Me.a,{onClick:a,buttonVariant:"secondary",disabled:m.loading},o("common.cancel")),r.a.createElement(Me.a,{type:"submit",form:"createFolder",buttonVariant:"primary",loading:m.loading,disabled:!m.inputValue||!!m.inputError},o("common.confirm")))))},Jt=a(1133),Xt=Object(o.a)((function(e){return{dropzoneArea:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:485,height:165,margin:"28px auto",backgroundImage:"url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='6' ry='6' stroke='%23CECECEFF' stroke-width='4' stroke-dasharray='6%2c 14' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\")",borderRadius:6,cursor:"pointer","&:focus":{outline:"none"}},dropzoneActive:{border:"2px solid ".concat(e.palette.palette.linkBlue),backgroundImage:"none"},message:{marginTop:13},buttons:{display:"flex",margin:"18px 18px 0"},cancelBtn:{margin:"0 10px 0 auto"},link:{color:e.palette.palette.linkBlue},icon:{display:"flex",fontSize:46}}})),ea=function(e){var t=e.onlyButton,a=e.onSelectFiles,n=e.closeModal,i=Xt(),o=Object(u.a)().t,l=Object(Jt.a)({onDrop:a}),s=l.getRootProps,c=l.getInputProps,m=l.isDragActive;return t?r.a.createElement("div",s(),r.a.createElement("input",c()),r.a.createElement(Me.a,{component:"div",buttonVariant:"primary"},o("modals.uploadFiles.addFiles"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",Object.assign({className:y()(i.dropzoneArea,Object(k.a)({},i.dropzoneActive,m))},s()),r.a.createElement("input",c()),r.a.createElement(Ke.default,{icon:["fal","upload"],className:i.icon}),r.a.createElement(d.a,{className:i.message,variant:"body2"},o("modals.uploadFiles.dragFiles"),r.a.createElement("span",{className:i.link},o("modals.uploadFiles.uploadLink")))),r.a.createElement("div",{className:i.buttons},r.a.createElement(Me.a,{onClick:n,buttonVariant:"secondary",className:i.cancelBtn},o("common.cancel")),r.a.createElement(Me.a,{buttonVariant:"primary",disabled:!0},o("common.confirm"))))};ea.defaultProps={onlyButton:!1,closeModal:function(){}};var ta=ea,aa=Object(o.a)((function(e){return{root:{display:"flex",padding:"8px 27px",marginTop:18,backgroundColor:e.palette.primary.main},text:{color:e.palette.palette.whiteThree,"&:not(:last-child)":{marginRight:28,flexShrink:0}}}})),na=function(e){var t=e.filesVisualRepresentation,a=e.targetPath,n=aa(),i=Object(u.a)().t,o=Object.entries(t).reduce((function(e,t){var a=Object(x.a)(t,2),n=a[0],r=a[1],i=n.startsWith("/")?"numberOfFolders":"numberOfFiles";return Object(j.a)(Object(j.a)({},e),{},Object(k.a)({totalSize:e.totalSize+r.size},i,e[i]+1))}),{totalSize:0,numberOfFolders:0,numberOfFiles:0}),l=[{label:i("modals.uploadFiles.files"),value:o.numberOfFiles},{label:i("modals.uploadFiles.folders"),value:o.numberOfFolders},{label:i("modals.uploadFiles.totalSize"),value:Object(Q.b)(o.totalSize)},{label:i("modals.uploadFiles.targetPath"),value:a}];return r.a.createElement("div",{className:n.root},l.map((function(e){var t=e.label,a=e.value;return r.a.createElement(d.a,{key:t,variant:"caption",className:n.text,noWrap:!0},t,"\xa0",r.a.createElement(gt.a,{fontWeight:600,component:"span"},a))})))},ra=a(2105),ia=a(323),oa=a(134),la=Object(o.a)((function(e){return{tableRow:{"& > *":{borderBottom:"none",borderTop:"1px solid ".concat(e.palette.palette.extraLightGray)},"& > *:nth-child(1)":{paddingLeft:28,paddingRight:10,minWidth:310,maxWidth:310},"& > *:nth-child(2)":{minWidth:272,maxWidth:272},"& > *:nth-child(3)":{minWidth:37,maxWidth:37}},textEllipsis:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},label:{marginLeft:10}}})),sa=function(e){var t=e.head,a=e.rows,n=e.onRemoveClick,i=la();return r.a.createElement(ra.a,{head:t,rows:a,renderRow:function(e){var t=e.row,a=e.onRemoveClick;return r.a.createElement(oa.TableRow,{hover:!0,key:t.id,className:i.tableRow},r.a.createElement(oa.FileCell,{type:t.type,className:i.fileCell},r.a.createElement("span",{className:i.textEllipsis},t.name),t.label&&r.a.createElement(d.a,{color:"textSecondary",variant:"subtitle2",component:"span",className:i.label},t.label)),r.a.createElement(oa.TableCell,null,t.size),r.a.createElement(oa.TableCell,null,!t.label&&r.a.createElement(ia.a,{onClick:function(){return a(t)},disableRipple:!0},r.a.createElement(h.a,{icon:["far","times"],size:8}))))},renderHead:function(e){return r.a.createElement(oa.TableRow,{className:i.tableRow},e.head.map((function(e){return r.a.createElement(oa.TableCell,{key:e},e)})),r.a.createElement(oa.TableCell,null))},onRemoveClick:n,renderLoadingRows:function(){return null}})};sa.defaultProps={head:[],rows:[],onRemoveClick:function(){}};var ca=sa,ua=Object(o.a)((function(){return{root:{minHeight:150,maxHeight:"calc(100vh - 350px)",overflow:"auto",marginTop:11},buttons:{display:"flex",margin:"18px 18px 0"},cancelBtn:{margin:"0 10px 0 auto"}}})),da=function(e){var t=e.filesVisualRepresentation,a=e.files,n=e.updateSelectedFiles,i=e.upload,o=ua(),l=Object(u.a)().t,s=[l("common.name"),l("common.size")],c=Object.entries(t).map((function(e){var t=Object(x.a)(e,2),a=t[0],n=t[1];return{id:a,name:a.replace(/^\//,""),size:Object(Q.b)(n.size),label:n.label,type:Object(Q.e)(a)}}));return r.a.createElement("form",{id:"UploadFiles",onSubmit:function(e){e.preventDefault(),i()}},r.a.createElement("div",{className:o.root},r.a.createElement(ca,{head:s,onRemoveClick:function(e){n(a.filter((function(t){return!t.path.startsWith(e.id)})))},rows:c})),r.a.createElement("div",{className:o.buttons},r.a.createElement(ta,{onSelectFiles:function(e){n([].concat(Object(Y.a)(a),Object(Y.a)(e)))},onlyButton:!0}),r.a.createElement(Me.a,{onClick:function(){n([])},buttonVariant:"secondary",className:o.cancelBtn},l("common.cancel")),r.a.createElement(Me.a,{type:"submit",form:"UploadFiles",buttonVariant:"primary"},l("common.confirm"))))},ma=a(452),pa=a.n(ma),ba=a(191),fa=Object(o.a)({root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"19px 0 7px"},logo:{width:51,marginBottom:3},buttons:{display:"flex",justifyContent:"flex-end",margin:"18px 18px 0"}}),ga=function(e){var t=e.files,a=e.cancel,i=e.onCompleteUpload,o=e.onError,l=e.bucket,s=e.prefix,c=e.markFileAsUploaded,m=fa(),p=Object(u.a)().t,b=Object(Ze.b)(),f=t.filter((function(e){return!e.uploaded})),g=function(){var e=Object(ke.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{s?I.b.query({query:ba.b,variables:{bucket:l,key:"".concat(s,"/")},fetchPolicy:"network-only"}):I.b.query({query:ba.a,variables:{slug:l},fetchPolicy:"network-only"}),i()}catch(t){o(p("modals.uploadFiles.uploadingError"))}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=[];return function(){var t=Object(ke.a)(xe.a.mark((function t(){var a,n,r;return xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(I.a)();case 2:a=t.sent,n=s?"".concat(s,"/"):"",r=function(t){var r={Bucket:l,Key:"".concat(n).concat(t.path.replace(/^\//,"")),ContentType:t.type,Body:t,ACL:"public-read"},i=new pa.a.ManagedUpload({params:r,service:a});return i.send((function(a){if(a)return it.a(a,{tags:{scope:"s3",method:"uploader"}}),void o(p("modals.uploadFiles.uploadingError"));c(t),b(Object(zt.t)(r)),0===(e=e.filter((function(e){return i!==e}))).length&&g()})),i},e=f.map(r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e.forEach((function(e){e.send((function(){})),e.abort()}))}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m.root},r.a.createElement("img",{alt:"fleek-loading",src:"/loading-logo.svg",className:m.logo}),r.a.createElement(d.a,{variant:"h6"},r.a.createElement(te.a,{i18nKey:"modals.uploadFiles.uploadingProgress",values:{uploadedItems:t.length-f.length,totalItemsNumber:t.length},components:[r.a.createElement(gt.a,{fontWeight:"600",component:"span"})]})),r.a.createElement(d.a,{variant:"subtitle1",color:"textSecondary"},p("modals.uploadFiles.filesUploaded"))),r.a.createElement("div",{className:m.buttons},r.a.createElement(Me.a,{onClick:a,buttonVariant:"secondary"},p("common.cancel"))))},ya=Object(o.a)({modal:{"& > div":{padding:"23px 18px 18px","&:focus":{outline:"none"}}},alert:{margin:"15px 0"},fullWidth:{margin:"18px -18px 0"}}),ha=function(e){var t=e.open,a=e.closeModal,i=e.bucket,o=e.prefix,l=ya(),s=Object(u.a)().t,c=Object(n.useState)({error:null,selectedFiles:[],uploadingFiles:!1}),d=Object(x.a)(c,2),m=d[0],p=d[1];Object(n.useEffect)((function(){return W.a.disableAuthTokenRefreshing(),function(){W.a.enableAuthTokenRefreshing()}}),[]);var b=function(e){p(Object(j.a)(Object(j.a)({},m),{},{selectedFiles:[].concat(Object(Y.a)(m.selectedFiles),Object(Y.a)(e))}))},f=function(){window.analytics.track("Storage upload confirmed",{bucket:i,teamId:Q.o.getAccountIdFromUrl()}),p(Object(j.a)(Object(j.a)({},m),{},{uploadingFiles:!0}))},g=function(){window.analytics.track("Storage upload cancelled",{bucket:i,teamId:Q.o.getAccountIdFromUrl()}),p(Object(j.a)(Object(j.a)({},m),{},{uploadingFiles:!1}))},y=function(e){p(Object(j.a)(Object(j.a)({},m),{},{selectedFiles:e}))},h=function(e){window.analytics.track("Storage upload failed",{bucket:i,error:e,teamId:Q.o.getAccountIdFromUrl()}),p(Object(j.a)(Object(j.a)({},m),{},{error:e,uploadingFiles:!1}))},v=function(e){p((function(t){var a=t.selectedFiles.map((function(t){return t.path===e.path?{path:t.path,name:t.name,size:t.size,uploaded:!0}:t}));return Object(j.a)(Object(j.a)({},t),{},{selectedFiles:a})}))},E=function(e,t){return e.reduce((function(a,n){if(n.path.startsWith("/")){var r=n.path.split("/"),i=Object(x.a)(r,2)[1],o="/".concat(i),l=n.uploaded&&t("modals.uploadFiles.uploaded"),s=B()(a,o,{size:0,label:B()(e,"0.label",l)});return Object(j.a)(Object(j.a)({},a),{},Object(k.a)({},o,{size:n.size+s.size,label:s.label!==l?t("modals.uploadFiles.partiallyUploaded"):l}))}return Object(j.a)(Object(j.a)({},a),{},Object(k.a)({},n.name,{size:n.size,label:n.uploaded&&t("modals.uploadFiles.uploaded")}))}),{})}(m.selectedFiles,s);return r.a.createElement(Be.a,{open:t,maxWidth:620,onClose:a,className:l.modal,title:s("modals.uploadFiles.title"),disableBackdropClick:!!m.selectedFiles.length},r.a.createElement(r.a.Fragment,null,m.error&&r.a.createElement(Vt.a,{type:"error",message:m.error,className:l.alert,icon:["fal","times-circle"]}),r.a.createElement("div",{className:l.fullWidth},r.a.createElement(na,{filesVisualRepresentation:E,targetPath:"".concat(i,"/").concat(o)}),0===m.selectedFiles.length?r.a.createElement(ta,{onSelectFiles:b,closeModal:a}):m.uploadingFiles?r.a.createElement(ga,{markFileAsUploaded:v,files:m.selectedFiles,cancel:g,onCompleteUpload:a,onError:h,bucket:i,prefix:o}):r.a.createElement(da,{bucket:i,files:m.selectedFiles,updateSelectedFiles:y,upload:f,filesVisualRepresentation:E}))))},va=a(2087),Ea=Object(o.a)((function(e){return{root:{"& > div:focus":{outline:"none"}},content:{padding:"20px 0"},warning:{height:24,width:"100%",borderRadius:3,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.palette.fadeStarYellow,"& *":{color:e.palette.palette.starYellow}},buttons:{display:"flex",flexDirection:"row",justifyContent:"flex-end",margin:"0 -5px","& > button":{margin:"0 5px"}},iconContainer:{marginRight:15,"& > div":{display:"flex",cursor:"pointer"},"& > div > svg":{width:"14px !important",color:e.palette.palette.linkBlue}}}})),Oa=function(e){var t=e.t,a=e.type,n=e.text;return function(e){e.preventDefault(),navigator.clipboard.writeText(n),St.c.success(t("modals.apiDetails.copy",{type:a}))}},Sa=function(e){var t=e.open,a=e.closeModal,n=Ea(),i=Object(u.a)().t,o=r.a.useState({error:null,loading:!0,apiKey:"",apiSecret:""}),l=Object(x.a)(o,2),s=l[0],c=l[1],m=Object(w.a)(yt.e,{client:I.b,update:function(e,t){var a=t.data.generateApiKey;try{var n=e.readQuery({query:D.b}),r=[].concat(Object(Y.a)(n.getApiKeys.apiKeys),[Object(j.a)({},a)]);e.writeQuery({query:D.b,data:Object(j.a)(Object(j.a)({},n),{},{getApiKeys:Object(j.a)(Object(j.a)({},n.getApiKeys),{},{apiKeys:r})})})}catch(i){console.error("Error when trying to update GET_API_KEYS query: ",i.message)}}}),p=Object(x.a)(m,1)[0];return r.a.useEffect((function(){(function(){var e=Object(ke.a)(xe.a.mark((function e(){var t,a,n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:t=e.sent,a=t.data,n=B()(a,"generateApiKey.key",""),r=B()(a,"generateApiKey.secret",""),c(Object(j.a)(Object(j.a)({},s),{},{apiKey:n,apiSecret:r,loading:!1})),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Generate api error: ",e.t0.message),St.c.error(i("modals.apiDetails.error")),c(Object(j.a)(Object(j.a)({},s),{},{loading:!1}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(Be.a,{open:t,maxWidth:472,onClose:a,className:n.root,title:i("modals.apiDetails.title")},r.a.createElement("div",{className:n.content},r.a.createElement($t.a,{value:s.apiKey,label:i("modals.apiDetails.inputs.apiKey"),InputProps:{readOnly:!0,endAdornment:r.a.createElement(va.a,{position:"end"},r.a.createElement("div",{className:n.iconContainer},r.a.createElement(Ke.default,{icon:["fal","copy"],onClick:Oa({t:i,type:"key",text:s.apiKey})})))}}),r.a.createElement($t.a,{value:s.apiSecret,label:i("modals.apiDetails.inputs.apiSecret"),InputProps:{readOnly:!0,endAdornment:r.a.createElement(va.a,{position:"end"},r.a.createElement("div",{className:n.iconContainer},r.a.createElement(Ke.default,{icon:["fal","copy"],onClick:Oa({t:i,type:"secret",text:s.apiSecret})})))}}),r.a.createElement("div",{className:n.warning},r.a.createElement(d.a,{variant:"subtitle2"},i("modals.apiDetails.warning")))),r.a.createElement("div",{className:n.buttons},r.a.createElement(Me.a,{onClick:a,disabled:s.loading,buttonVariant:"secondary"},i("common.cancel")),r.a.createElement(Me.a,{onClick:a,loading:s.loading,disabled:s.loading,buttonVariant:"primary"},i("common.done"))))};Sa.defaultProps={open:!1};var ja=Sa,xa=a(2082),ka=Object(o.a)((function(e){return{modal:{"& > div":{outline:"none"}},errorBox:{width:700,padding:"9px 12px",boxSizing:"border-box",height:68,backgroundColor:e.palette.palette.errorRed,borderRadius:4,position:"absolute",top:"-70px",left:0,color:"white",fontSize:12},subtitle:{margin:"19px 0 13px 0",color:"#000",fontWeight:500},description:{marginBottom:20,color:e.palette.palette.grey2,lineHeight:1.29},blackBox:{padding:"16px 17px 16px 17px",backgroundColor:"#081f24",borderRadius:6,marginBottom:20},consoleText:{fontFamily:"Inconsolata, monospace",color:"white"},footerText:{color:e.palette.palette.grey2},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end","& > button":{marginLeft:15}},logo:{width:20,margin:"0px 4px"},namebaseRedirectButton:{marginBottom:32},option2:{marginTop:32}}})),wa=function(e){var t=e.open,a=e.domain,n=e.proxyUrl,i=e.proxyIp,o=e.onClose,l=e.onSubmit,c=e.loading,m=e.error,p=ka(),b=Object(u.a)().t,f=Object(s.i)().siteSlug,g=a.split("."),h=g.length>2,v=1===g.length,E=h?"CNAME":"A",O=h?n:i,S=v?"@":g.slice(0,g.length-1).join("."),j=g[g.length-1];return r.a.createElement(Be.a,{open:t,title:b("modals.hnsConfiguration.title"),maxWidth:700,onClose:o,className:y()(p.modal,Object(k.a)({},p.error,m))},m&&r.a.createElement("div",{className:p.errorBox},b("modals.dnsConfiguration.error")),r.a.createElement(d.a,{variant:"body2",className:p.subtitle},b("modals.hnsConfiguration.option1")," ",r.a.createElement("img",{src:"https://storageapi.fleek.co/fleek-team-bucket/fleek-app/hns-logo.png",alt:"namebase",className:p.logo}),b("modals.hnsConfiguration.useNamebase")),r.a.createElement(d.a,{variant:"body2",className:p.description},b("modals.hnsConfiguration.descriptionOption1")),r.a.createElement(Me.a,{buttonVariant:"primary",onClick:function(){var e=encodeURIComponent(encodeURIComponent("".concat(window.location.origin,"/#/sites/").concat(f,"/settings/hns"))),t=encodeURIComponent(encodeURIComponent("".concat(window.location.origin,"/#/handshake-success?redirectTo=").concat(e))),a=btoa('[{"type":"'.concat(E,'","host":"').concat(S,'","value":"').concat(O,'","ttl":3600}]')),n="https://namebase.io/next/domain-manager/".concat(j,"/records?records=").concat(a,"&redirect=").concat(t);window.open(n)},className:p.namebaseRedirectButton},b("modals.hnsConfiguration.useNamebase")),r.a.createElement(xa.a,{className:p.divider}),r.a.createElement(d.a,{variant:"body2",className:y()(p.subtitle,p.option2)},b("modals.hnsConfiguration.option2")),r.a.createElement(d.a,{variant:"body2",className:p.description},b("modals.hnsConfiguration.descriptionOption2")),r.a.createElement("div",{className:p.blackBox},r.a.createElement(_e,{title:b("modals.record"),detail:E}),r.a.createElement(_e,{title:b("modals.host"),detail:S}),r.a.createElement(_e,{title:b("modals.pointsTo"),detail:O})),r.a.createElement(d.a,{variant:"body2",className:p.footerText},b("modals.hnsConfiguration.footerText")),r.a.createElement("div",{className:p.buttonContainer},r.a.createElement(Me.a,{buttonVariant:"secondary",onClick:o},b("modals.hnsConfiguration.buttons.cancel")),r.a.createElement(Me.a,{buttonVariant:"primary",onClick:l,loading:c,disabled:c},b("modals.hnsConfiguration.buttons.verifyDns"))))};wa.defaultProps={open:!1,domain:"domain",loading:!1,error:!1};var Ca=wa,Na=Object(o.a)((function(e){return{root:{"& > div:focus":{outline:"none"}},content:{paddingTop:20},warning:{height:24,width:"100%",borderRadius:3,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.palette.fadeStarYellow,"& *":{color:e.palette.palette.starYellow}},buttons:{display:"flex",flexDirection:"row",justifyContent:"flex-end",margin:"0 -5px","& > button":{margin:"0 5px"}},iconContainer:{marginRight:15,"& > div":{display:"flex",cursor:"pointer"},"& > div > svg":{width:"14px !important",color:e.palette.palette.linkBlue}}}})),Ia=function(e){var t=e.t,a=e.type,n=e.text;return function(e){e.preventDefault(),navigator.clipboard.writeText(n),St.c.success(t("modals.apiDetails.copy",{type:a}))}},Da=function(e){var t=e.open,a=e.closeModal,n=Na(),i=Object(u.a)().t,o=r.a.useState({error:null,loading:!0,apiKey:""}),l=Object(x.a)(o,2),s=l[0],c=l[1],d=Q.o.getAccountIdFromUrl(),m=Object(w.a)(yt.f,{client:I.b,update:function(e,t){var a=t.data.generateAppApiKey;try{var n=e.readQuery({query:D.i,variables:{teamId:d}}),r=[].concat(Object(Y.a)(n.getTeamApiKeys.apiKeys),[Object(j.a)({},a)]);e.writeQuery({query:D.i,variables:{teamId:d},data:Object(j.a)(Object(j.a)({},n),{},{getTeamApiKeys:Object(j.a)(Object(j.a)({},n.getTeamApiKeys),{},{apiKeys:r})})})}catch(i){console.error("Error when trying to update GET_API_KEYS query: ",i.message)}}}),p=Object(x.a)(m,1)[0];return r.a.useEffect((function(){(function(){var e=Object(ke.a)(xe.a.mark((function e(){var t,a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p({variables:{input:{label:"Hosting Api Key",teamId:d,active:!0,scopes:[{target:"sites",action:"*"}]}}});case 3:t=e.sent,a=t.data,n=B()(a,"generateAppApiKey.key",""),c(Object(j.a)(Object(j.a)({},s),{},{apiKey:n,loading:!1})),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Generate api error: ",e.t0.message),St.c.error(i("modals.apiDetails.error")),c(Object(j.a)(Object(j.a)({},s),{},{loading:!1}));case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(Be.a,{open:t,maxWidth:472,onClose:a,className:n.root,title:i("modals.apiDetails.title")},r.a.createElement("div",{className:n.content},r.a.createElement($t.a,{value:s.apiKey,label:i("modals.apiDetails.inputs.apiKey"),InputProps:{readOnly:!0,endAdornment:r.a.createElement(va.a,{position:"end"},r.a.createElement("div",{className:n.iconContainer},r.a.createElement(Ke.default,{icon:["fal","copy"],onClick:Ia({t:i,type:"key",text:s.apiKey})})))}})),r.a.createElement("div",{className:n.buttons},r.a.createElement(Me.a,{onClick:a,disabled:s.loading,buttonVariant:"secondary"},i("common.cancel")),r.a.createElement(Me.a,{onClick:a,loading:s.loading,disabled:s.loading,buttonVariant:"primary"},i("common.done"))))};Da.defaultProps={open:!1};var Ta=Da,Aa=a(1143),Ba=a(180),Pa=Object(o.a)((function(e){return{modal:{"& > div":{outline:"none"}},inputContainer:{"& > div":{marginBottom:"25px"},"& > div > div":{padding:"15px 13px"}},errorBox:{width:500,padding:"9px 15px",boxSizing:"border-box",height:68,backgroundColor:e.palette.palette.errorRed,borderRadius:4,position:"absolute",top:"-70px",left:0,color:"white",fontSize:14,display:"flex",alignItems:"center"},description:{marginTop:10,marginBottom:20,color:e.palette.palette.grey2,lineHeight:1.29},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end","& > button":{marginLeft:15}}}})),Ma=function(e){var t=e.open,a=e.closeModal,i=e.currentFirstName,o=e.currentLastName,l=Pa(),s=Object(u.a)().t,c=Object(n.useState)(!1),m=Object(x.a)(c,2),p=m[0],b=m[1],f=Object(n.useState)(!1),g=Object(x.a)(f,2),y=g[0],h=g[1],v=Object(n.useState)(i),E=Object(x.a)(v,2),O=E[0],S=E[1],k=Object(n.useState)(o),C=Object(x.a)(k,2),N=C[0],T=C[1],A=""!==O&&(O!==i||N!==o),B=Object(w.a)(yt.d,{client:I.c,update:function(e,t){var a=t.data,n=null===a||void 0===a?void 0:a.editUserProfile.user,r=e.readQuery({query:D.a});if(r&&n){var i=Object(j.a)(Object(j.a)({},r),{},{getCurrentUser:Object(j.a)(Object(j.a)({},r.getCurrentUser),{},{user:Object(j.a)(Object(j.a)({},r.getCurrentUser.user),{},{individual:Object(j.a)(Object(j.a)({},r.getCurrentUser.user.individual),n.individual)})})});e.writeQuery({query:D.a,data:i})}}}),P=Object(x.a)(B,1)[0],M=function(){h(!0),setTimeout((function(){h(!1)}),5500)},R=function(){var e=Object(ke.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,P({errorPolicy:"all",variables:{input:{firstname:O,lastname:N}}});case 4:if(t=e.sent,t.errors){e.next=9;break}return a(),e.abrupt("return");case 9:M(),b(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),b(!1),M();case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Be.a,{open:t,title:s("modals.editProfile.title"),maxWidth:500,onClose:a,className:l.modal},r.a.createElement(d.a,{variant:"body2",className:l.description},s("modals.editProfile.description")),r.a.createElement("div",{className:l.inputContainer},r.a.createElement(Ba.a,{label:s("modals.editProfile.firstName"),value:O,onChange:S}),r.a.createElement(Ba.a,{label:s("modals.editProfile.lastName"),withIcon:!1,value:N,onChange:T})),y&&r.a.createElement(Aa.a,{in:y,timeout:300},r.a.createElement("div",{variant:"body",className:l.errorBox},s("modals.editProfile.error"))),r.a.createElement("div",{className:l.buttonContainer},r.a.createElement(Me.a,{buttonVariant:"secondary",onClick:a,disabled:p},s("modals.editProfile.cancel")),r.a.createElement(Me.a,{buttonVariant:"primary",onClick:R,disabled:!A||p},s("modals.editProfile.continue"))))};Ma.defaultProps={open:!1};var Ra=Ma,La=Object(o.a)((function(e){return{modal:{"& > div":{outline:"none"}},errorBox:{width:500,padding:"9px 15px",boxSizing:"border-box",height:68,backgroundColor:e.palette.palette.errorRed,borderRadius:4,position:"absolute",top:"-70px",left:0,color:"white",fontSize:14,display:"flex",alignItems:"center"},description:{marginTop:10,marginBottom:20,lineHeight:1.29},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end","& > button":{marginLeft:15}},subtitle:{fontWeight:500,margin:"20px 0",fontSize:16}}})),Ua=a(100),Fa=function(e){var t=e.open,a=e.closeModal,i=e.siteId,o=e.teamId,l=e.domainId,s=e.customDomain,c=e.siteSlug,m=La(),p=Object(u.a)().t,b=Object(n.useState)(!1),f=Object(x.a)(b,2),g=f[0],y=f[1],h=Object(n.useState)(!1),v=Object(x.a)(h,2),E=v[0],O=v[1],S=Object(w.a)(Ua.h,{client:I.b,update:function(e,t){var a=t.data.upgradeCustomDomain,n=e.readQuery({query:ce.c,variables:{slug:c}});if(a&&n){var r=n.getSiteBySlug.domains.reduce((function(e,t){if(t.domainId===l){var a=Object(j.a)(Object(j.a)({},t),{},{proxyType:Re.j.BUNNY});e.push(a)}else e.push(t);return e}),[]),i={getSiteBySlug:Object(j.a)(Object(j.a)({},n.getSiteBySlug),{},{domains:Object(Y.a)(r)})};e.writeQuery({query:ce.c,data:i})}}}),k=Object(x.a)(S,1)[0],C=function(){O(!0),setTimeout((function(){O(!1)}),5500)},N=function(){var e=Object(ke.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,k({errorPolicy:"all",variables:{input:{siteId:i,teamId:o,domainId:l,customDomain:s}}});case 4:if(t=e.sent,t.errors){e.next=9;break}return a(),e.abrupt("return");case 9:C(),y(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),y(!1),C();case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),D="\ud83d\udea8 ".concat(p("modals.confirmDnsUpgrade.title"));return r.a.createElement(Be.a,{open:t,title:D,maxWidth:500,onClose:a,className:m.modal},r.a.createElement(d.a,{variant:"subtitle1",className:m.subtitle},r.a.createElement(te.a,{i18nKey:"modals.confirmDnsUpgrade.subtitle",components:{bold:r.a.createElement("strong",null)}})),r.a.createElement(d.a,{variant:"body2",className:m.description},p("modals.confirmDnsUpgrade.description")),E&&r.a.createElement(Aa.a,{in:E,timeout:300},r.a.createElement("div",{variant:"body",className:m.errorBox},p("modals.confirmDnsUpgrade.error"))),r.a.createElement("div",{className:m.buttonContainer},r.a.createElement(Me.a,{buttonVariant:"secondary",onClick:a,disabled:g},p("modals.confirmDnsUpgrade.cancel")),r.a.createElement(Me.a,{buttonVariant:"primary",onClick:N,disabled:g},p("modals.confirmDnsUpgrade.submit"))))};Fa.defaultProps={open:!1};var _a,Wa=Fa,Va=a(44),za=(_a={},Object(k.a)(_a,Va.i,Et),Object(k.a)(_a,Va.m,Wt),Object(k.a)(_a,Va.f,qt),Object(k.a)(_a,Va.e,Zt),Object(k.a)(_a,Va.n,ha),Object(k.a)(_a,Va.a,ja),Object(k.a)(_a,Va.k,Ca),Object(k.a)(_a,Va.b,Ta),Object(k.a)(_a,Va.j,Ra),Object(k.a)(_a,Va.h,Ve),Object(k.a)(_a,Va.g,Ge),Object(k.a)(_a,Va.d,Wa),_a),Ha=function(){var e=Object(Ze.b)(),t=Object(Ze.c)((function(e){return e.modal}));if(!t.open)return null;var a=za[t.id];return a?r.a.createElement(a,Object.assign({},t.props,{closeModal:function(){return e(Object(Va.o)())},open:!0})):null},Ga=a(302),Ka=a(2109),qa=Object(o.a)((function(){return{wrapper:{position:"sticky",top:0,alignSelf:"flex-start",flexBasis:212,flexShrink:0,marginRight:21}}})),$a=function(e){var t=qa();return r.a.createElement("div",{className:t.wrapper},r.a.createElement(Ka.a,e))};a(303),a(441);a.d(t,"e",(function(){return re})),a.d(t,"j",(function(){return ie})),a.d(t,"a",(function(){return De})),a.d(t,"h",(function(){return Te.a})),a.d(t,"u",(function(){return Ae.a})),a.d(t,"p",(function(){return Q.i})),a.d(t,"r",(function(){return Q.l})),a.d(t,"q",(function(){return Q.k})),a.d(t,"o",(function(){return Q.h})),a.d(t,"m",(function(){return Q.b})),a.d(t,"n",(function(){return Q.d})),a.d(t,"s",(function(){return Q.o})),a.d(t,"l",(function(){return Q.a})),a.d(t,"k",(function(){return Qe})),a.d(t,"g",(function(){return et})),a.d(t,"f",(function(){return ft})),a.d(t,"t",(function(){return st.a})),a.d(t,"i",(function(){return Ha})),a.d(t,"b",(function(){return Ga.a})),a.d(t,"c",(function(){return $a})),a.d(t,"d",(function(){return Ca}))},15:function(e,t,a){"use strict";var n,r=a(8),i=a.n(r),o=a(25),l=a(5),s=a.n(l),c=a(452),u=a.n(c),d=a(116),m=a(87),p=a(82),b=a(95),f=a(157),g=a(623),y=a(1081),h=a(66),v=new b.HttpLink({uri:p.a.newApi.baseURL}),E=a(374),O=a(39),S=a(456),j=a(46),x=a(64),k=a(65),w=a(240),C=function(e){Object(x.a)(a,e);var t=Object(k.a)(a);function a(e,n,r,i,o){var l;return Object(j.a)(this,a),(l=t.call(this,JSON.stringify({message:e,operationName:n,variables:r,errorType:i,statusCode:o}))).name="GQLError",l}return a}(Object(w.a)(Error)),N=function(e){Object(x.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).name="GQLUnauthorizedError",e}return a}(C),I=function(e){Object(x.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).name="GQLNetworkError",e}return a}(C),D=a(13),T=["Token has expired."],A=Object(S.a)((function(e){console.log("testErr",e);var t=e.operation,a=e.networkError,n=e.graphQLErrors;if(a){var r="[Network error - ".concat(a.statusCode,"] Operation: ").concat(t.operationName,", Message: ").concat(a.message," - ");d.a(new I(a.message,t.operationName,t.variables,"NetworkError",a.statusCode)),console.error(r)}if(n){var i=!1,o=!1,l=[];if(n.forEach((function(e){var a=e.path,n=e.message,r=e.errorType,s=e.locations,c="[GraphQL error]: Operation: ".concat(t.operationName,", Message: ").concat(n,", Location: ").concat(JSON.stringify(s),", Path: ").concat(a);console.error(c),i="Unauthorized"===r,o=T.includes(n),l=[n,t.operationName,t.variables,r,200]})),i)return d.a(Object(E.a)(N,Object(O.a)(l)),{tags:{scope:"sites",method:"gql"}}),void(window.location.hash=D.s.buildUrl(null,"/error/404"));if(o)return h.a.clean(),void h.a.authenticate("".concat(window.location.href.split("/#/")[1]));d.a(Object(E.a)(C,Object(O.a)(l)),{tags:{scope:"sites",method:"gql"}})}})),B={url:p.a.newApi.baseURL,region:"us-west-2",auth:{type:"OPENID_CONNECT",jwtToken:function(){return h.a.accessToken?h.a.accessToken:null}}},P=f.a.from([A,Object(g.createAuthLink)(B),Object(y.createSubscriptionHandshakeLink)(B,v)]),M=new b.ApolloClient({link:P,cache:new b.InMemoryCache}),R=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,r,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.config.credentials.accessKeyId.length){e.next=2;break}return e.abrupt("return",n);case 2:return t="",a="",r="",e.prev=5,e.next=8,M.mutate({mutation:m.g});case 8:o=e.sent,l=o.data,t=s()(l,"generateTempApiKey.key",""),r=s()(l,"generateTempApiKey.secret",""),a=s()(l,"generateTempApiKey.sessionToken",""),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),d.a(e.t0,{tags:{scope:"s3",method:"getS3Client"}}),console.log("Error when trying to get the aws credentials: ",e.t0.message);case 19:return n=new u.a({s3ForcePathStyle:!0,signatureVersion:"v4",endpoint:p.a.s3Client.baseURL,credentials:{accessKeyId:t,sessionToken:a,secretAccessKey:r}}),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}(),L=a(231),U=a(1086),F=["jwt expired","JWT token is invalid or has expired."],_=new U.a({uri:p.a.oldApi.wsBaseURL,options:{reconnect:!0,reconnectionAttempts:10,connectionCallback:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&F.includes(t.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),connectionParams:function(){return{Authorization:"Bearer ".concat(h.a.accessToken)}}}}),W=new b.HttpLink({uri:p.a.oldApi.baseURL}),V=a(4),z=a(62),H=a(126),G=["Token has expired.","User was not supplied","Context creation failed: jwt expired","Context creation failed: JWT token is invalid or has expired."],K=new(function(e){Object(x.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).setTokenHeader=function(e){var t=e.getContext().headers,a=void 0===t?{}:t;e.setContext({headers:Object(V.a)(Object(V.a)({},a),{},{authorization:"Bearer ".concat(h.a.accessToken)})})},e.isJwtExpired=function(e){var t=e.errors;return(void 0===t?[]:t).filter((function(e){return G.includes(e.message)})).length>0},e}return Object(z.a)(a,[{key:"request",value:function(e,t){var a=this;return this.setTokenHeader(e),new H.a((function(n){var r;try{r=t(e).subscribe({next:n.next.bind(n),complete:n.complete.bind(n),error:function(e){var t=e.result,r=void 0===t?{}:t;return a.isJwtExpired(r)?h.a.authenticate("".concat(window.location.href.split("/#/")[1])):n.error(e)}})}catch(i){n.error(i)}return function(){r&&r.unsubscribe()}}))}}]),a}(f.a)),q=Object(S.a)((function(e){var t,a=e.networkError,n=e.graphQLErrors;(a&&(t="JWT_EXPIRED"===a.message),n)&&(t=!!n.find((function(e){return"Authorization Error: Non authenticated request"===e.message})));t&&h.a.authenticate("".concat(window.location.href.split("/#/")[1]))})),$=a(1088),Y=Object($.a)({useGETForHashedQueries:!0}),Q=Object(f.c)((function(e){var t=e.query,a=Object(L.getMainDefinition)(t),n=a.kind,r=a.operation;return"OperationDefinition"===n&&"subscription"===r}),_,Object(f.b)([q,K,Y,W])),Z=new b.ApolloClient({link:Q,cache:new b.InMemoryCache});a.d(t,"a",(function(){return R})),a.d(t,"c",(function(){return Z})),a.d(t,"b",(function(){return M}))},155:function(e,t,a){"use strict";var n=a(165),r=a.n(n);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.search||window.location.search;t&&""!==t||(t=window.location.href.split("?")[1]||"");var a=r.a.parse(t),n=a.accountId,i=void 0===n?null:n;return"undefined"===i||"null"===i?null:i}},1593:function(e,t){},16:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"m",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"h",(function(){return p})),a.d(t,"g",(function(){return b})),a.d(t,"i",(function(){return f})),a.d(t,"k",(function(){return g})),a.d(t,"l",(function(){return y}));var n,r=a(33),i={IN_PROGRESS:"IN_PROGRESS",FAILED:"FAILED",CANCELLED:"CANCELLED",DEPLOYED:"DEPLOYED",TIMEOUT:"TIMEOUT"},o={PRIMARY:"PRIMARY",DEFAULT_SUBDOMAIN:"DEFAULT_SUBDOMAIN",REDIRECT_TO_PRIMARY:"REDIRECT_TO_PRIMARY",ALIAS_DOMAIN:"ALIAS_DOMAIN",HNS:"HNS"},l={PENDING_PROPAGATION:"PENDING_PROPAGATION",PROPAGATED:"PROPAGATED",ERROR:"ERROR"},s={PULL_REQUEST:"pull_request",PUSH:"push"},c={SITES:"Sites",BILLING:"Billing"},u={ACTIVE:"ACTIVE",OVERDUE:"OVERDUE",RESTRICTED:"RESTRICTED",SUSPENDED:"SUSPENDED"},d={HA:"HA",BUNNY:"BUNNY"},m="scrollable-element",p=20,b=20,f=-2,g="SEARCH_TERM_CHANGE",y=(n={},Object(r.a)(n,"GITHUB","GITHUB"),Object(r.a)(n,"LOCAL","LOCAL"),n)},1609:function(e,t){},1611:function(e,t){},1672:function(e,t){},1674:function(e,t){},1706:function(e,t){},1711:function(e,t){},1713:function(e,t){},1720:function(e,t){},1733:function(e,t){},174:function(e,t,a){"use strict";var n=a(71),r=a(13),i=function(){var e=Object(n.h)();return r.s.getAccountIdFromUrl(e)};a.d(t,"a",(function(){return i}))},177:function(e,t,a){"use strict";var n=a(82);t.a=function(){return n.a.ethereum}},1858:function(e,t){},1878:function(e,t){},1897:function(e,t){},191:function(e,t,a){"use strict";var n,r,i=a(23),o=a(22),l=Object(o.a)(n||(n=Object(i.a)(["\n  query getStorageObject($bucket: String!, $key: String!) {\n    getStorageObject(bucket: $bucket, key: $key) {\n      hash\n    }\n  }\n"]))),s=Object(o.a)(r||(r=Object(i.a)(["\n  query getBucketBySlug($slug: String!) {\n    getBucketBySlug(slug: $slug) {\n      hash\n    }\n  }\n"])));a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return s}))},1922:function(e,t){},2010:function(e,t,a){},2011:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(1137),o=a(52),l=a.n(o),s=a(2098),c=a(116),u=a(1129),d=a(220),m=a(318),p=a.n(m),b=a(967),f=a.n(b),g=a(45),y=a(2081),h=a(2080),v=a(316),E=a(13),O=a(34),S=a(71),j=a(322),x=a(1109),k=a(377),w={loading:!1},C={test:!0},N=a(4),I=a(44),D={id:null,open:!1,props:null},T=a(321),A={clientSecretId:null},B=a(33),P=a(39),M=a(1110),R=a.n(M),L=a(16),U=a(92),F={error:null,objects:[],buckets:{error:null,isLoading:!1},loading:!0,searchTerm:"",actionOptions:[{id:"open",name:"Open",access:{folder:!1,file:!0}},{id:"view",name:"View",access:{folder:!0,file:!0}},{id:"rename",name:"Rename",access:{folder:!1,file:!1}},{id:"download",name:"Download",access:{folder:!1,file:!0}},{id:"copy-path",name:"Copy Path",access:{folder:!1,file:!0}}]},_=Object(j.b)({loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.a:return{loading:t.payload};default:return e}},test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return t.type,e},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.l:return Object(N.a)(Object(N.a)({},t.payload),{},{open:!0});case I.c:return D;default:return e}},billing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.b:return{clientSecretId:t.payload};case T.a:return A;default:return e}},storage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.k:return Object(N.a)(Object(N.a)({},e),{},{searchTerm:t.value});case U.h:return Object(N.a)(Object(N.a)({},e),{},{loading:t.payload});case U.g:return Object(N.a)(Object(N.a)({},e),{},{loading:!1,error:t.payload});case U.j:return Object(N.a)(Object(N.a)({},e),{},{objects:e.objects.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{selected:!1})}))});case U.d:var a=t.payload,n=void 0===a?{}:a,r=e.objects.map((function(e){return e.fullKey===n.fullKey?n:e}));return Object(N.a)(Object(N.a)({},e),{},{objects:r});case U.e:var i=t.payload,o=void 0===i?[]:i,l=e.objects.map((function(e){return o.find((function(t){return e.fullKey===t.fullKey}))||e}));return Object(N.a)(Object(N.a)({},e),{},{objects:l});case U.f:var s=t.payload,c=void 0===s?[]:s,u=e.objects.filter((function(e){return!c.find((function(t){return e.fullKey===t.fullKey}))}));return Object(N.a)(Object(N.a)({},e),{},{objects:u});case U.i:var d=R()([].concat(Object(P.a)(t.payload),Object(P.a)(e.objects)),"fullKey");return Object(N.a)(Object(N.a)({},e),{},{objects:d,loading:!1});case U.a:return Object(N.a)(Object(N.a)({},e),{},{buckets:Object(N.a)(Object(N.a)({},e.buckets),{},{isLoading:!1,error:t.error})});case U.c:return Object(N.a)(Object(N.a)({},e),{},{buckets:Object(N.a)(Object(N.a)({},e.buckets),{},Object(B.a)({isLoading:!1},t.bucket.Name,Object(N.a)({},t.bucket)))});case U.b:return Object(N.a)(Object(N.a)({},e),{},{buckets:Object(N.a)(Object(N.a)({},e.buckets),{},{isLoading:!0})});default:return e}}}),W=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):j.c)(Object(j.a)(x.a)),V=Object(j.d)(_,{},W),z=a(8),H=a.n(z),G=a(25),K=a(12),q=a(5),$=a.n(q),Y=a(15),Q=a(37),Z=a(59),J=a(66),X=function(){var e=Object(n.useState)({teamId:E.s.getAccountIdFromUrl(),loading:!E.s.getAccountIdFromUrl(),error:!1}),t=Object(K.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){if(J.a.isAuthenticated){var e=function(){var e=Object(G.a)(H.a.mark((function e(){var t,n,r,o,l,s,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.b.query({query:Q.f,fetchPolicy:"network-only"});case 3:t=e.sent,n=t.data,r=$()(n,"getMemberships.memberships",[])||[],o=Object(P.a)(r).sort(Z.j),l=Object(K.a)(o,1),s=l[0],c=$()(s,"teamId",null)||null,i(Object(N.a)(Object(N.a)(Object(N.a)({},a),c&&{teamId:c}),{},{loading:!c,error:!c})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),t=setInterval((function(){a.loading&&!a.teamId&&e()}),5e3);return function(){return clearInterval(t)}}J.a.authenticate()}),[]),a.loading?r.a.createElement(E.g,null):a.error?r.a.createElement(S.a,{to:"/error/500"}):r.a.createElement(S.a,{to:E.s.buildUrl({accountId:a.teamId},"/teams/".concat(a.teamId,"/sites"))})},ee=a(124),te=a(2070),ae=a(2107),ne=a(315),re=a.n(ne),ie=a(17),oe=a.n(ie),le=a(31),se=a(369),ce=a(701),ue=Object(ce.a)((function(e){return{icon:{display:"flex",fontSize:12},button:{"&&& *":{color:e.palette.palette.grey2},minWidth:"unset",padding:0,height:20,marginBottom:10,"&&& span":{height:10}},backButtonText:{marginLeft:10}}})),de=function(e){var t=e.onClick,a=e.buttonText,n=Object(S.g)(),i=Object(te.a)().t,o=ue();return r.a.createElement(oe.a,{onClick:t||n.goBack,overrideClass:{button:o.button}},r.a.createElement(le.default,{icon:["fal","long-arrow-left"],color:"inherit",className:o.icon}),r.a.createElement(se.a,{variant:"body2",className:o.backButtonText},a||i("common.back")))};de.defaultProps={onClick:void 0,buttonText:void 0};var me,pe,be=de,fe=a(28),ge=a(23),ye=a(22),he=a(68),ve=Object(ye.a)(me||(me=Object(ge.a)(["\n  mutation addSite($input: AddSiteInput!) {\n    addSite( input: $input ) {\n      ...SiteDetail\n    }\n  }\n\n  ","\n"])),he.c),Ee=a(205),Oe=function(e,t){var a=t.data.addSite,n=E.s.getAccountIdFromUrl();try{var r=e.readQuery({query:Ee.a,variables:{teamId:n,limit:L.h}}),i=Object(N.a)(Object(N.a)({},r),{},{getSitesByTeam:Object(N.a)(Object(N.a)({},r.getSitesByTeam),{},{sites:[a].concat(Object(P.a)(r.getSitesByTeam.sites))})});e.writeQuery({query:Ee.a,variables:{teamId:n,limit:L.h},data:i})}catch(o){console.log("Error: updating sites cache(GET_SITES_BY_TEAM_QUERY):",o)}},Se=function(){var e=Object(S.g)();return Object(fe.a)(ve,{client:Y.b,update:Oe,onCompleted:function(t){return a=t.addSite.slug,n=t.addSite.latestDeploy.id,e.push(E.s.buildUrl(null,"/sites/".concat(a,"/deploys/").concat(n),["buildOptionsKey"]));var a,n}})},je=Object(ce.a)((function(){return{container:{maxWidth:950}}})),xe=a(439),ke=a(202),we=Object(ce.a)((function(e){return{container:{"& > div:hover":{cursor:"default"},display:"flex",flexDirection:"column"},textContainer:{marginBottom:15},title:{fontWeight:500},subtitle:{color:e.palette.palette.grey2,lineHeight:1.2}}})),Ce=function(e){var t=e.title,a=e.subtitle,n=e.children,i=we();return r.a.createElement("div",{className:i.container},r.a.createElement("div",{className:i.textContainer},r.a.createElement(se.a,{variant:"body1",className:i.title},t),r.a.createElement(se.a,{variant:"body2",className:i.subtitle},a)),n)},Ne=Object(ce.a)({buttonContainer:{width:284,"&&& > button span":{height:18}},icon:{display:"flex"},buttonText:{marginLeft:10},button:{minWidth:240}}),Ie=a(155),De=Object(ye.a)(pe||(pe=Object(ge.a)(["\n  query getGithubInstallationUrl($teamId: ID!) {\n    getGithubInstallationUrl(teamId: $teamId)\n  }\n"]))),Te=function(){var e=Object(n.useState)(!1),t=Object(K.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),o=Object(K.a)(i,2),l=o[0],s=o[1],c=Object(Ie.a)(),u=Object(fe.b)(De,{variables:{teamId:c},client:Y.b}).data,d=$()(u,"getGithubInstallationUrl");if(d&&l){var m=(window.innerWidth-1200)/2,p=(window.innerHeight-640)/2;window.open(d,"github-authorization-window","width=".concat(1200,",height=").concat(640,",left=").concat(m,",top=").concat(p)),s(!1)}var b=function(e){var t=e.storageArea.getItem("authorizationCompleted");e.storageArea.removeItem("authorizationCompleted"),t&&r(!0)};Object(n.useEffect)((function(){return window.addEventListener("storage",b),function(){return window.removeEventListener("storage",b)}}),[]),Object(n.useEffect)((function(){a&&(s(!1),r(!1))}),[a]);return{isSettingPermissionsCompleted:a,openGithubPermissionsPopup:function(){s(!0)}}},Ae=function(e){var t=Object(n.useRef)(!1),a=Te(),r=a.isSettingPermissionsCompleted,i=a.openGithubPermissionsPopup;r&&(t.current=!0);var o=Object(ke.a)({skip:!t.current,fetchPolicy:"network-only"}),l=Object(K.a)(o,2),s=l[0],c=l[1];return!s&&c&&e(),i},Be=function(e){var t=e.goToNextStep,a=Object(n.useState)(),i=Object(K.a)(a,2),o=i[0],l=i[1],s=Ae(t),c=Object(xe.a)().users,u=Object(ke.a)(),d=Object(K.a)(u,2),m=d[0],p=d[1],b=Ne(),f=Object(te.a)().t,g=function(){var e=Object(G.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.getAuthenticated();case 3:l(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l(!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){m||(p?g():l(!1))}),[m,p]),r.a.createElement(Ce,{title:f("sites.start.connectWithGithub.title"),subtitle:f("sites.start.connectWithGithub.subtitle")},r.a.createElement("div",{className:b.buttonContainer},r.a.createElement(oe.a,{buttonVariant:"branded",onClick:function(){window.ga("send","event",L.d.SITES,"Connect with Github"),window.analytics.track("Connect with Github",{teamId:E.s.getAccountIdFromUrl()});for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];o?t.apply.apply(t,[null].concat(a)):s.apply.apply(s,[null].concat(a))},loading:void 0===o,overrideClass:{button:b.button}},r.a.createElement(le.default,{className:b.icon,icon:["fab","github"],size:"small"}),r.a.createElement(se.a,{className:b.buttonText,variant:"button"},f("sites.start.connectWithGithub.buttonMsg")))))},Pe=a(88),Me=a(2119),Re=a(1131),Le=Object(ce.a)((function(e){return{iconContainer:{display:"flex",alignItems:"center","& > div:first-child":{width:330}},dropdown:{"&&& svg":{height:24,marginRight:0}},iconButton:{marginLeft:10,padding:0,height:15,minWidth:"unset"},icon:{display:"flex",fontSize:15,color:e.palette.palette.grey2},dropdownItem:{fontSize:13},dropdownItemRoot:{paddingTop:3,paddingBottom:3}}})),Ue=function(e){var t=e.repositoryName,a=e.githubAccountName,i=e.branch,o=e.setBranch,l=e.defaultBranchName,s=Object(n.useState)(),c=Object(K.a)(s,2)[1],u=Object(n.useRef)(null),d=Object(E.u)(),m=Object(ke.a)(),p=Object(K.a)(m,2)[1],b=Le(),f=Object(te.a)().t,g=function(e){var t=e.data;if(!u.current){var a=t.find((function(e){return e.name===l}));o(a?l:$()(t[0],"name"))}var n=[].concat(Object(P.a)(u.current||[]),Object(P.a)(t.map((function(e){return{name:e.name}}))));u.current=n,c(u.current.length)},y=function(){var e=Object(G.a)(H.a.mark((function e(){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.repos.listBranches.endpoint.merge({owner:a,repo:t,per_page:100}),e.prev=1,e.next=4,d.paginate(n,g);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("error branches",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){p&&y()}),[p]);return r.a.createElement("div",{className:b.iconContainer},r.a.createElement(Re.a,{data:u.current||[],valueKey:"name",selectedValue:"",placeholder:i||f("sites.start.buildOptions.branchesPlaceholder"),onChange:function(e){!!$()(u.current,"length",0)&&e&&o(e)},isUsedPlaceholderAsValue:!0,isLoading:!u.current}))};Ue.defaultProps={branch:""};var Fe=Ue,_e=a(323),We=a(2124),Ve=a(130),ze=a(471),He=a(47),Ge=function(e){return[{id:He.i,name:e("sites.start.buildOptions.frameworkOptions.other"),showNoImage:!0},{id:He.g,name:e("sites.start.buildOptions.frameworkOptions.nextJs"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/nextjs.png"},{id:He.a,name:e("sites.start.buildOptions.frameworkOptions.createReactApp"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/cra.png"},{id:He.d,name:e("sites.start.buildOptions.frameworkOptions.hugo"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/hugo.png"},{id:He.b,name:e("sites.start.buildOptions.frameworkOptions.gatsby"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/gatsby.png"},{id:He.m,name:e("sites.start.buildOptions.frameworkOptions.wordpress"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/wp.png"},{id:He.h,name:e("sites.start.buildOptions.frameworkOptions.nuxtjs"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/nuxtjs.png"},{id:He.e,name:e("sites.start.buildOptions.frameworkOptions.jekyll"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/jekyll.png"},{id:He.c,name:e("sites.start.buildOptions.frameworkOptions.gridsome"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/gridsome.png"},{id:He.k,name:e("sites.start.buildOptions.frameworkOptions.svelte"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/svelte.png"},{id:He.f,name:e("sites.start.buildOptions.frameworkOptions.mkdocs"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/mkdocs.png"},{id:He.j,name:e("sites.start.buildOptions.frameworkOptions.sapper"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/sapper.png"},{id:He.l,name:e("sites.start.buildOptions.frameworkOptions.wasmPack"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/wasm-pack.png"}]},Ke=function(e){var t;return t={},Object(B.a)(t,He.i,Object(N.a)({framework:He.i},e)),Object(B.a)(t,He.b,{framework:He.b,buildCommand:e.buildCommand||"yarn && yarn build",publishDirectory:"public",dockerImage:"fleek/gatsby"}),Object(B.a)(t,He.d,{framework:He.d,buildCommand:"hugo",publishDirectory:"public",dockerImage:"fleek/hugo"}),Object(B.a)(t,He.g,{framework:He.g,buildCommand:"npm install && npm run build && npm run export",publishDirectory:"out",dockerImage:"fleek/next-js"}),Object(B.a)(t,He.a,{framework:He.a,buildCommand:e.buildCommand||"yarn && yarn build",publishDirectory:"build",dockerImage:"fleek/create-react-app"}),Object(B.a)(t,He.e,{framework:He.e,buildCommand:"jekyll build",publishDirectory:"_site",dockerImage:"fleek/jekyll"}),Object(B.a)(t,He.h,{framework:He.h,buildCommand:"".concat(e.installCommand," && ").concat(e.runScriptCommand," build && ").concat(e.runScriptCommand," export"),publishDirectory:"dist",dockerImage:"fleek/nuxtjs"}),Object(B.a)(t,He.m,{framework:He.m,buildCommand:"",publishDirectory:"",dockerImage:""}),Object(B.a)(t,He.c,{framework:He.c,buildCommand:e.buildCommand||"yarn && yarn build",publishDirectory:"dist",dockerImage:"fleek/gridsome:node-12"}),Object(B.a)(t,He.k,{framework:He.k,buildCommand:e.buildCommand||"yarn && yarn build",publishDirectory:"public",dockerImage:"fleek/svelte"}),Object(B.a)(t,He.f,{framework:He.f,buildCommand:e.buildCommand||"mkdocs build",publishDirectory:"site",dockerImage:"fleek/mkdocs"}),Object(B.a)(t,He.j,{framework:He.j,buildCommand:"".concat(e.installCommand," && ").concat(e.runScriptCommand," export"),publishDirectory:"__sapper__/export",dockerImage:"fleek/svelte"}),Object(B.a)(t,He.l,{framework:He.l,buildCommand:e.buildCommand||"yarn && yarn build",publishDirectory:"dist",dockerImage:"fleek/wasm-pack"}),t},qe=a(1115),$e=Object(ce.a)((function(e){return{textInput:{"&&&":{width:330,height:50},"&&& > div":{height:50}},inputContainer:{marginTop:10,height:325,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start"},iconContainer:{display:"flex",alignItems:"center",position:"relative","& > div:first-child":{maxHeight:50,width:330},maxHeight:50},icon:{display:"flex",fontSize:15,color:e.palette.palette.grey2},buttonTooltip:{"&&&":{marginLeft:10,minWidth:"unset",height:25,width:25,borderRadius:30,padding:0,"&:hover":{backgroundColor:"unset"}}},tooltip:{"&&&":{fontWeight:"normal",fontFamily:e.typography.fontFamily,maxWidth:216,border:"1px solid ".concat(e.palette.palette.grey5),color:e.palette.palette.black,backgroundColor:e.palette.palette.whiteThree,boxShadow:"0 0 6px 0 ".concat(e.palette.palette.extraLightBlack),padding:"10px 30px 11px 12px"}},helperTextWrapper:{display:"flex",marginLeft:15,color:e.palette.palette.starYellow,backgroundColor:e.palette.palette.fadeStarYellow,padding:"13px 15px"},helperText:{color:"inherit",fontSize:12},helperIcon:{marginRight:15,display:"flex",fontSize:16},spinner:{position:"absolute",right:50}}})),Ye=function(e){var t=e.isFieldsDisabled,a=e.buildCommand,i=e.publishDirectory,o=e.baseDirectory,l=e.onChangeState,s=e.repositoryName,c=e.githubAccountName,u=e.branch,d=e.dockerImage,m=e.framework,p=$e(),b=Object(te.a)().t,f={owner:c,repo:s,path:"",ref:u},g=Object(qe.a)(f),y=$()(g,"framework"),h=$()(g,"defaultValues"),v=null===g;Object(n.useEffect)((function(){if(g){var e=Ke(h)[y];l(Object(N.a)(Object(N.a)({},e),{},{framework:Ge(b).find((function(e){return e.id===y}))}))}}),[v]);var E=function(){return Ge(b).find((function(e){return e.id===He.i}))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=r.a.createElement(_e.a,{className:p.buttonTooltip},r.a.createElement(le.default,{icon:["fal","info-circle"],size:"inherit",className:p.icon}));return r.a.createElement(r.a.Fragment,null,v&&r.a.createElement(Ve.a,{positioning:"inline",fontSize:"small",className:p.spinner}),r.a.createElement(We.a,{text:e,overrideClass:{button:p.iconButton,tooltip:p.tooltip},placement:"right"},a),t&&r.a.createElement("div",{className:p.helperTextWrapper},r.a.createElement(le.default,{icon:["fal","exclamation-triangle"],size:"inherit",color:"inherit",className:p.helperIcon}),r.a.createElement(se.a,{className:p.helperText,variant:"caption"},t)))},S=Ge(b),j=m&&S.find((function(e){return e.id===m.id}));return r.a.createElement("div",{className:p.inputContainer},r.a.createElement("div",{className:p.iconContainer},r.a.createElement(ze.a,{value:j||{},onSelect:function(e){var t=Ke(h)[e.id];l(Object(N.a)(Object(N.a)({},t),{},{framework:e}))},label:b("sites.start.buildOptions.framework"),objects:S}),O(b("sites.start.buildOptions.dockerImageTooltip"))),r.a.createElement("div",{className:p.iconContainer},r.a.createElement(Pe.a,{label:b("siteSettings.deployment.dockerFile.label"),value:d,className:p.dockerInput,onChange:function(e){l({dockerImage:e.target.value,framework:E()})}}),O(b("sites.start.buildOptions.dockerImageTooltip"))),r.a.createElement("div",{className:p.iconContainer},r.a.createElement(Pe.a,{label:b("sites.start.buildOptions.buildCommand"),value:a,onChange:function(e){l({buildCommand:e.target.value,framework:E()})},className:p.textInput,disabled:t||v}),O(b("sites.start.buildOptions.buildCommandTooltip"),g&&g.hasGatsby&&b("sites.start.buildOptions.gatsbyPlugin"))),r.a.createElement("div",{className:p.iconContainer},r.a.createElement(Pe.a,{label:b("sites.start.buildOptions.publishDirectory"),value:i,onChange:function(e){l({publishDirectory:e.target.value,framework:E()})},className:p.textInput,disabled:t||v}),O(b("sites.start.buildOptions.publishDirectoryTooltip"))),r.a.createElement("div",{className:p.iconContainer},r.a.createElement(Pe.a,{label:b("sites.start.buildOptions.baseDirectory"),value:o,onChange:function(e){l({baseDirectory:e.target.value,framework:E()})},className:p.textInput,disabled:t||v}),O(b("sites.start.buildOptions.baseDirectoryTooltip"))))};Ye.defaultProps={repositoryName:"",githubAccountName:"",branch:"",dockerImage:"",framework:null};var Qe=Ye,Ze=Object(ce.a)((function(e){return{root:{display:"flex",alignItems:"center"},button:{height:34,width:145,"& span":{color:e.palette.palette.white}},icon:{display:"flex",margin:"0px 4px 0px 19px",fontSize:14,color:e.palette.text.secondary},resetLinkStyles:{textDecoration:"none"}}})),Je=function(e){var t=e.isDeployLoading,a=e.onDeploy,n=e.disabled,i=Object(te.a)().t,o={button:Ze().button};return r.a.createElement(oe.a,{onClick:a,overrideClass:o,buttonVariant:"primary",textVariant:"button",disabled:n,loading:t},i("sites.start.buildOptions.deploySiteMsg"))},Xe=a(303),et=a(180),tt=function(e){var t=e.classes,a=e.env,i=e.onBlur,o=a.id,l=a.name,s=a.value,c=Object(n.useState)({name:l,value:s}),u=Object(K.a)(c,2),d=u[0],m=u[1],p=Object(te.a)().t,b=function(e){var t=e.fieldValue,a=e.value;m(Object(N.a)(Object(N.a)({},d),{},Object(B.a)({},t,a)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,{label:p("sites.start.buildOptions.envVars.keyLabel"),placeholder:p("sites.start.buildOptions.envVars.keyPlaceholder"),value:d.name||"",onChange:function(e){return b({fieldValue:"name",value:e})},onBlur:function(){return i({id:o,fieldKey:"name",fieldValue:d.name})},className:t.textInput}),r.a.createElement(et.a,{label:p("sites.start.buildOptions.envVars.variableLabel"),placeholder:p("sites.start.buildOptions.envVars.variablePlaceholder"),value:d.value||"",onChange:function(e){return b({fieldValue:"value",value:e})},onBlur:function(){return i({id:o,fieldKey:"value",fieldValue:d.value})},className:t.textInput}))},at=Object(ce.a)((function(e){return{inputContainer:{display:"flex",paddingBottom:30,position:"relative"},textInput:{maxWidth:320,marginLeft:15,"&:first-child":{marginLeft:0}},iconContainer:{marginLeft:18,"& > div":{display:"flex",fontSize:15}},errorMessage:{position:"absolute",top:25,left:2,color:e.palette.palette.errorRed}}})),nt=0,rt=function(){return nt+=1},it=/^[a-zA-Z0-9_]*$/,ot=/^[a-zA-Z]/,lt=function(e,t){return e?it.test(e)?ot.test(e)?null:t("".concat("sites.start.buildOptions.envVars.errors.","startWithLetter")):t("".concat("sites.start.buildOptions.envVars.errors.","onlyAlphaNumericAndUnderscore")):null},st=[{id:rt()}],ct=function(e){var t=e.variables,a=e.onChange,i=at(),o=Object(te.a)().t,l=function(e){var n=e.id,r=e.fieldKey,i=e.fieldValue,l=t.map((function(e){if(e.id===n){var t=Object(N.a)(Object(N.a)({},e),{},Object(B.a)({},r,i));return Object(N.a)(Object(N.a)({},t),{},{errorMessage:lt(t.name,o)})}return e}));a(l)};return Object(n.useEffect)((function(){if(t.length){var e=t.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{id:rt()})}));a(e)}else a(st)}),[]),r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{className:i.inputContainer,key:e.id?"".concat(e.id):e.name},r.a.createElement(tt,{classes:i,env:e,onBlur:l}),r.a.createElement(_e.a,{onClick:function(){return n=e.id,void a(t.filter((function(e){return e.id!==n})));var n},className:i.iconContainer},r.a.createElement(le.default,{icon:["fal","times-circle"]})),r.a.createElement("p",{className:i.errorMessage},e.errorMessage))})),r.a.createElement(oe.a,{onClick:function(){a([].concat(Object(P.a)(t),[{id:rt()}]))},buttonVariant:"secondary"},o("sites.start.buildOptions.envVars.newVar")))};ct.defaultProps={variables:[],onChange:function(){}};var ut=ct,dt=Object(ce.a)((function(){return{title:{fontWeight:500},settingWrapper:{margin:"25px 0 35px"},inputErrorWrapper:{"& p":{position:"absolute"}}}})),mt=function(e){var t=e.state,a=e.setState,i=e.platform,o=dt(),l=Object(te.a)().t,s=Object(n.useState)(!1),c=Object(K.a)(s,2),u=c[0],d=c[1],m=t.envVars.length>0;Object(n.useEffect)((function(){m&&d(!0)}),[m]);return u?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(se.a,{variant:"body1",className:o.title},l("sites.start.buildOptions.envVars.title")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},l("sites.start.buildOptions.envVars.subtitle")),r.a.createElement("div",{className:o.settingWrapper},r.a.createElement(ut,{variables:t.envVars,onChange:function(e){a(Object(N.a)(Object(N.a)({},t),{},{envVars:e,isEnvVarsError:e.some((function(e){return e.errorMessage}))}))}}))),"dfinity"===i&&r.a.createElement("div",null,r.a.createElement(se.a,{variant:"body1",className:o.title},l("sites.start.buildOptions.useProxy.title")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},l("sites.start.buildOptions.useProxy.subtitle")),r.a.createElement("div",{className:o.settingWrapper},r.a.createElement(Xe.a,{value:t.dfinityUseProxy,onChange:function(e){a(Object(N.a)(Object(N.a)({},t),{},{dfinityUseProxy:e}))}})))):r.a.createElement(oe.a,{buttonVariant:"secondary",onClick:function(){d(!0)}},l("sites.start.buildOptions.showAdvanced"))},pt=Object(ce.a)((function(e){return{textInput:{"&&&":{width:330,height:50},"&&& > div":{height:50}},docs:{marginRight:5,textDecoration:"none"},inputContainer:{marginTop:7,height:115,display:"flex",flexDirection:"column",justifyContent:"space-between"},subtitle:{color:e.palette.palette.grey2},secondaryTitleComponent:{marginTop:40,marginBottom:10,height:80,"& button":{height:30,"& span":{height:30}}},buttonContainer:{marginTop:30},arrowIcon:{display:"flex",fontSize:15,marginLeft:5},advancedWrapper:{maxWidth:700},title:{fontWeight:500}}})),bt={branchName:void 0,buildCommand:"",publishDirectory:"",baseDirectory:"",dockerImage:"",envVars:[],isEnvVarsError:!1,framework:null,dfinityUseProxy:!0},ft=function(e){var t=e.onClickDeploy,a=e.isDeployLoading,i=pt(),o=Object(n.useState)(bt),l=Object(K.a)(o,2),s=l[0],c=l[1],u=Object(te.a)().t,d=Object(S.i)(),m=d.repoName,p=d.accountName,b=d.installationId,f=d.hostingService,g="".concat(p,"/").concat(m),y=function(e,t,a,n){var r=e.envVars.filter((function(e){return!!e.name})).map((function(e){return{name:e.name,value:e.value}})),i=e.dockerImage?e.dockerImage.trim():void 0;return Object(N.a)({teamId:Object(Ie.a)(),platform:n,githubSource:{installationId:a,url:t,branch:e.branchName},buildSettings:{buildCommand:e.buildCommand||void 0,publishDirectoryPath:e.publishDirectory||void 0,baseDirectoryPath:e.baseDirectory||void 0,dockerImage:""===i?void 0:i,environmentVariables:r.length?r:void 0}},"dfinity"===n&&{dfinityUseProxy:e.dfinityUseProxy})}(s,"https://api.github.com/repos/".concat(g),b,f),h=function(){var e=Object(G.a)(H.a.mark((function e(){var a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.ga("send","event",L.d.SITES,"User triggered deploy","".concat(y.githubSource.branch,", ").concat(s.framework&&s.framework.id,", ").concat(y.buildSettings.dockerImage,", ").concat(y.buildSettings.buildCommand,", ").concat(y.buildSettings.publishDirectoryPath)),e.prev=1,e.next=4,t({variables:{input:y}});case 4:a=e.sent,n=a.data,r=$()(n,"addSite.id"),window.analytics.track("Add Site Deployment",{siteId:r,teamId:E.s.getAccountIdFromUrl(),dockerImage:y.buildSettings.dockerImage,buildCommand:y.buildSettings.buildCommand,framework:s.framework&&s.framework.id,repositoryBranch:y.githubSource.branch,publishDirectoryPath:y.buildSettings.publishDirectoryPath}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error during addSite mutation:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),v=!s.branchName||s.isEnvVarsError;return r.a.createElement(Ce,{title:u("sites.start.buildOptions.cardTitle",{repository:"".concat(p,"/").concat(m)}),subtitle:u("sites.start.buildOptions.cardSubtitle")},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.inputContainer},r.a.createElement(Pe.a,{label:u("sites.start.buildOptions.repository"),value:g,disabled:!0,className:i.textInput}),r.a.createElement(Fe,{repositoryName:m,defaultBranchName:"master",githubAccountName:p,branch:s.branchName,setBranch:function(e){return c(Object(N.a)(Object(N.a)({},s),{},{branchName:e}))}})),r.a.createElement("div",{className:i.secondaryTitleComponent},r.a.createElement(se.a,{variant:"body1",className:i.title},u("sites.start.buildOptions.title")),r.a.createElement(se.a,{variant:"body2",className:i.subtitle},u("sites.start.buildOptions.subtitle")),r.a.createElement("a",{href:"https://docs.fleek.co/hosting/site-deployment/#build-parameters",target:"_blank",rel:"noopener noreferrer",className:i.docs},r.a.createElement(Me.a,null,u("sites.start.buildOptions.docs")))),r.a.createElement(Qe,{repositoryName:m,githubAccountName:p,branch:s.branchName||"master",buildCommand:s.buildCommand,publishDirectory:s.publishDirectory,baseDirectory:s.baseDirectory,dockerImage:s.dockerImage,framework:s.framework,onChangeState:function(e){return c(Object(N.a)(Object(N.a)({},s),e))},isFieldsDisabled:a}),r.a.createElement("div",{className:i.buttonContainer},r.a.createElement(mt,{state:s,setState:c,platform:f})),r.a.createElement("div",{className:i.buttonContainer},r.a.createElement(Je,{isDeployLoading:a,onDeploy:h,disabled:v,deployMutationInput:y}))))},gt=a(2103),yt=a(2122),ht=a(789),vt=Object(ce.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4,marginBottom:15}}})),Et=[52,80,67,43,31],Ot=function(){var e=vt();return r.a.createElement(r.a.Fragment,null,Et.map((function(t){return r.a.createElement(ht.a,{key:t,width:"".concat(t,"%"),height:29,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})})))},St=Object(ce.a)((function(e){return{row:{display:"flex",padding:"16px 21px 16px 21px",alignItems:"center",width:"100%"},rowText:{fontWeight:500,margin:"0 auto 0 8px"},githubIcon:{display:"flex",fontSize:24},arrowIcon:{display:"flex",fontSize:8},filtersWrapper:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid ".concat(e.palette.palette.gray5),paddingBottom:11,margin:"15px 0 11px"},listWrapper:{overflowY:"auto",maxHeight:280},searchWrapper:{maxWidth:244}}})),jt=function(e){var t=e.onSelectRepository,a=e.installationId,i=e.children,o=Object(te.a)().t,l=St(),s=Object(n.useState)(),c=Object(K.a)(s,2)[1],u=Object(n.useRef)(null),d=Object(n.useRef)(a),m=Object(n.useState)(""),p=Object(K.a)(m,2),b=p[0],f=p[1],g=Object(E.u)(),y=function(e){var t=e.data;if(d.current===a){var n=t.repositories.map((function(e){return{name:e.name,owner:e.owner.login,fullName:e.full_name,url:e.url}})),r=[].concat(Object(P.a)(u.current||[]),Object(P.a)(n));u.current=r,c(u.current.length)}},h=function(){var e=Object(G.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.current=null,c(-1),t=g.apps.listInstallationReposForAuthenticatedUser.endpoint.merge({installation_id:a,per_page:100,v:(new Date).getTime()}),e.prev=3,e.next=6,g.paginate(t,y);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("error repos",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a&&(d.current=a,h())}),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.filtersWrapper},i,r.a.createElement("div",{className:l.searchWrapper},r.a.createElement(et.a,{value:b,icon:["far","search"],placeholder:o("sites.start.pickRepository.searchPlaceholder"),onChange:f}))),r.a.createElement("div",{className:l.listWrapper},r.a.createElement(yt.a,null,u.current?u.current.filter((function(e){var t=e.name;return-1!==t.search(b.trim()||t)})).map((function(e){return r.a.createElement(_e.a,{onClick:function(){return t(e)},className:l.row,key:e.fullName},r.a.createElement(le.default,{icon:["fab","github"],className:l.githubIcon}),r.a.createElement(se.a,{className:l.rowText},e.fullName),r.a.createElement(le.default,{icon:["far","chevron-right"],className:l.arrowIcon}))})):[r.a.createElement(Ot,{key:"placeholder"})])))};jt.defaultProps={installationId:void 0};var xt=jt,kt=Object(ce.a)((function(e){return{root:{display:"flex",marginTop:25},linkButton:{padding:0,"& p":{color:e.palette.palette.linkBlue}}}})),wt=function(e){var t=e.onUpdatePermissions,a=kt(),i=Object(te.a)().t,o=Te(),l=o.isSettingPermissionsCompleted,s=o.openGithubPermissionsPopup;return Object(n.useEffect)((function(){l&&t()}),[l]),r.a.createElement("div",{className:a.root},r.a.createElement(se.a,{variant:"body2"},i("sites.start.pickRepository.editPermissionsLink.question")),"\xa0",r.a.createElement(oe.a,{disableRipple:!0,disableElevation:!0,upperCase:!1,onClick:s,overrideClass:{button:a.linkButton}},r.a.createElement(Me.a,null,i("sites.start.pickRepository.editPermissionsLink.link"))))},Ct=function(e,t){var a=e.account,n=void 0===a?{}:a;return{id:n.name,name:n.name,image:n.avatar,selected:t}},Nt={selectedAccount:void 0,accountsList:[]},It=function(e){var t=e.goToPreviousStep,a=e.goToNextStep,i=Object(n.useState)(Nt),o=Object(K.a)(i,2),l=o[0],s=o[1],c=Object(te.a)().t,u=Object(E.u)().apps,d=Object(ke.a)(),m=Object(K.a)(d,2),p=m[0],b=m[1],f=function(){var e=Object(G.a)(H.a.mark((function e(){var a,n,r,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.listInstallationsForAuthenticatedUser({per_page:100,v:(new Date).getTime()});case 3:a=e.sent,n=a.data,r=n.installations.map((function(e){var t=e.id,a=e.account;return{installationId:t,account:{name:a.login,avatar:a.avatar_url}}})),i=r[r.length-1],s({accountsList:r,selectedAccount:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),401===e.t0.status&&t();case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),g=l.accountsList.map((function(e,t){return Ct(e,l.selectedAccount?e.name===l.selectedAccount.name:0===t)})),y=Ct(l.selectedAccount||{},!0);Object(n.useEffect)((function(){b?f():p||t()}),[p,b]);return r.a.createElement(Ce,{title:c("sites.start.pickRepository.title"),subtitle:c("sites.start.pickRepository.subtitle")},r.a.createElement(xt,{onSelectRepository:function(e){window.ga("send","event",L.d.SITES,"Pick example Repo",e.url),window.analytics.track("Pick example Repo",{url:e.url,repoName:e.name,accountName:e.owner,teamId:E.s.getAccountIdFromUrl()}),a(l.selectedAccount.installationId,l.selectedAccount.account.name,e.name)},installationId:l.selectedAccount&&l.selectedAccount.installationId},r.a.createElement(gt.a,{options:g,onChange:function(e){s(Object(N.a)(Object(N.a)({},l),{},{selectedAccount:l.accountsList.find((function(t){var a=t.account;return e.name===a.name}))}))},value:y})),r.a.createElement(wt,{onUpdatePermissions:function(){b&&(s(Nt),f())}}))},Dt=a(556),Tt=a(2079),At=a(19),Bt=a.n(At),Pt=Object(ce.a)((function(e){return{icon:{display:"flex",fontSize:15,color:e.palette.palette.grey2},buttonTooltip:{"&&&":{minWidth:"unset",borderRadius:30,padding:0,"&:hover":{backgroundColor:"unset"}}},tooltip:{"&&&":{fontWeight:"normal",fontFamily:e.typography.fontFamily,maxWidth:216,border:"1px solid ".concat(e.palette.palette.grey5),color:e.palette.palette.black,backgroundColor:e.palette.palette.whiteThree,boxShadow:"0 0 6px 0 ".concat(e.palette.palette.extraLightBlack),padding:"10px 30px 11px 12px",whiteSpace:"break-spaces"}},helperTextWrapper:{display:"flex",marginLeft:15,color:e.palette.palette.starYellow,backgroundColor:e.palette.palette.fadeStarYellow,padding:"13px 15px"},helperText:{color:"inherit",fontSize:12},helperIcon:{marginRight:15,display:"flex",fontSize:16}}})),Mt=function(e){var t=e.text,a=e.className,n=Pt(),i=r.a.createElement(_e.a,{className:Bt()(n.buttonTooltip,a)},r.a.createElement(le.default,{icon:["fal","info-circle"],size:"inherit",className:n.icon}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{text:t,overrideClass:{button:n.iconButton,tooltip:n.tooltip},placement:"right"},i))};Mt.defaultProps={className:null};var Rt=Mt,Lt=Object(ce.a)((function(e){return{button:{marginTop:20,height:34,width:108,"& span":{color:e.palette.palette.white}},link:{color:"#006EFF"},infoIcon:{display:"flex",fontSize:14,color:"#666666"},experimentalLabel:{border:"1px solid ".concat(e.palette.palette.fleekPink),borderRadius:3,padding:"0 3px",color:e.palette.palette.fleekPink}}})),Ut=[{id:"ipfs",name:"IPFS",image:"https://storage.googleapis.com/terminal-assets/images/hosting_services/ipfs.png"},{id:"dfinity",name:"Internet Computer (Testnet)",image:"https://storage.googleapis.com/terminal-assets/images/hosting_services/dfinity.png"}],Ft=function(e){var t=e.goToNextStep,a=Lt(),n=Object(S.j)(),i=Object(te.a)().t,o=r.a.useState(Ut[0]),l=Object(K.a)(o,2),s=l[0],c=l[1];return r.a.createElement(Ce,{title:i("sites.start.deployLocation.title"),subtitle:r.a.createElement(r.a.Fragment,null,i("sites.start.deployLocation.subtitle"),"\xa0",r.a.createElement(Tt.a,{target:"_blank",href:"http://docs.fleek.co/",className:a.link},i("sites.start.deployLocation.clickHere")),".")},r.a.createElement(Dt.a,{marginTop:"25px",marginBottom:"5px",display:"flex",flexDirection:"row",alignItems:"center"},r.a.createElement(Dt.a,{maxWidth:334,width:"100%"},r.a.createElement(ze.a,{value:s,objects:Ut,label:i("sites.start.deployLocation.hostingServices"),onSelect:function(e){c(e)}})),r.a.createElement(Dt.a,{ml:"12px"},r.a.createElement(Rt,{text:i("sites.start.deployLocation.info")})),"dfinity"===s.id&&r.a.createElement(Dt.a,{marginLeft:"10px"},r.a.createElement(se.a,{variant:"caption",color:"textSecondary"},i("sites.start.deployLocation.icWarning")),r.a.createElement(se.a,{variant:"caption",className:a.experimentalLabel},i("common.experimental")))),r.a.createElement(oe.a,{textVariant:"button",buttonVariant:"primary",overrideClass:{button:a.button},onClick:function(){return t(n.params.installationId,n.params.accountName,n.params.repoName,s.id)}},i("common.continue")))},_t="/deployment-settings/:installationId/:accountName/:repoName/:hostingService",Wt=function(){var e=Object(te.a)().t,t=Object(S.g)(),a=je(),n=E.s.getAccountIdFromUrl(),i=Se(),o=Object(K.a)(i,2),l=o[0],s=o[1].loading,c=Object(S.j)(),u=Object(S.h)(),d=["".concat(c.url).concat("/connect-repository"),"".concat(c.url).concat("/choose-repository"),"".concat(c.url).concat("/deploy-location/:installationId/:accountName/:repoName"),"".concat(c.url).concat(_t)].findIndex((function(e){return Object(S.f)(u.pathname,{path:e,exact:!0})})),m=["".concat(c.url).concat("/connect-repository"),"".concat(c.url).concat("/choose-repository"),u.pathname.split("/").slice(0,-1).join("/").replace("deployment-settings","deploy-location")],p=function(){var e=0===d?E.s.buildUrl(null,"/teams/".concat(n,"/sites")):E.s.buildUrl(null,m[d-1]);t.push(e)},b=[e("sites.start.connectWithGithub.step"),e("sites.start.pickRepository.step"),e("sites.start.deployLocation.step"),e("sites.start.buildOptions.step")];return r.a.useEffect((function(){window.analytics.page("Add Site",{path:u.pathname,search:u.search})}),[]),r.a.createElement("div",{className:a.container},r.a.createElement(be,{onClick:p}),r.a.createElement(ae.a,{padding:"37px 57px 48px"},r.a.createElement(re.a,{title:e("sites.start.stepper.title"),description:e("sites.start.stepper.description"),stepTitles:b,indexOfActiveStep:d},r.a.createElement(S.d,null,r.a.createElement(S.b,{path:"".concat(c.url).concat("/connect-repository"),exact:!0},r.a.createElement(Be,{goToNextStep:function(){t.push(E.s.buildUrl(null,"".concat(c.url).concat("/choose-repository")))}})),r.a.createElement(S.b,{path:"".concat(c.url).concat("/choose-repository"),exact:!0},r.a.createElement(It,{goToPreviousStep:p,goToNextStep:function(e,a,n){t.push(E.s.buildUrl(null,"".concat(c.url,"/deploy-location/").concat(e,"/").concat(a,"/").concat(n)))}})),r.a.createElement(S.b,{path:"".concat(c.url).concat("/deploy-location/:installationId/:accountName/:repoName"),exact:!0},r.a.createElement(Ft,{goToPreviousStep:p,goToNextStep:function(e,a,n,r){t.push(E.s.buildUrl(null,"".concat(c.url,"/deployment-settings/").concat(e,"/").concat(a,"/").concat(n,"/").concat(r)))}})),r.a.createElement(S.b,{path:"".concat(c.url).concat(_t),exact:!0},r.a.createElement(ft,{onClickDeploy:l,isDeployLoading:s})),r.a.createElement(S.a,{to:E.s.buildUrl(null,"".concat(c.url).concat("/connect-repository"))})))))},Vt=function(){var e=Object(te.a)().t,t=r.a.createElement(E.a,null);return r.a.createElement(E.h,{topBarContent:t},r.a.createElement(ee.Helmet,null,r.a.createElement("title",null,e("sites.page_title_new_site"))),r.a.createElement(Wt,null))},zt=a(166),Ht=a.n(zt),Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.cid?L.l.LOCAL:L.l.GITHUB},Kt=Gt,qt=function(e,t){switch(e){case L.a.IN_PROGRESS:return t.palette.palette.yellowPending;case L.a.FAILED:case L.a.CANCELLED:case L.a.TIMEOUT:return t.palette.palette.errorRed;default:return t.palette.palette.primaryBlue}},$t=Object(ce.a)((function(e){return{header:{display:"flex",flexDirection:"row"},siteContent:{display:"flex",flexDirection:"row"},siteInfo:{flex:1,display:"flex",justifyContent:"space-between",flexDirection:"column"},preview:function(t){return{display:"flex",alignItems:"center",justifyContent:"center",width:234,height:132,backgroundColor:"none",borderRadius:6,backgroundSize:"cover",border:t.preview?"none":"1px solid ".concat(e.palette.palette.grey4),overflow:"hidden","& > * ":{display:"flex",fontSize:70,color:e.palette.palette.grey4}}},published:{marginLeft:7,alignSelf:"center",color:e.palette.palette.grey2},repoIcon:{width:20,"& > svg":{height:15,float:"left",marginTop:3,paddingRight:9}},repo:{textDecoration:"underline",color:"black"},ipfsContainer:{display:"inline-flex"},ipfs:{textDecoration:"underline",color:"black"},ipfsPending:{color:e.palette.palette.grey2},platformIcon:{width:15,height:15,margin:"3px 9px 0 0",float:"left"},linkStyleReset:{textDecoration:"none"},coloredHover:{"&:hover":{textDecoration:"underline",color:e.palette.palette.primaryBlue}},domain:function(t){var a=t.status;return{"&:before":{content:"''",display:"inline-block",width:6,height:6,backgroundColor:qt(a,e),margin:1,marginRight:7,marginLeft:1,borderRadius:"100%"},color:qt(a,e)}},skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},image:{maxWidth:"100%",borderRadius:6},dfinityTag:{marginLeft:10,padding:"0 3px",border:"1px solid ".concat(e.palette.palette.grey2),borderRadius:3,display:"flex",alignItems:"center"},experimentalTag:{marginLeft:10,padding:"0 3px",border:"1px solid ".concat(e.palette.palette.fleekPink),borderRadius:3,display:"flex",alignItems:"center",color:e.palette.palette.fleekPink},domainContainer:{display:"flex"}}})),Yt=function(e){var t=e.t,a=e.siteBySlug,n=function(e){var t=Object(E.o)(e),a=t.owner,n=t.name,r=t.branch,i=t.url;return{repository:"".concat(a,"/").concat(n," (branch: ").concat(r,")"),repositoryUrl:"".concat(i,"/tree/").concat(r)}}(a),r=$()(a,"data.getSiteBySlug",{}),i=Object(E.r)(r),o=$()(a,"data.getSiteBySlug.id",""),l=$()(a,"data.getSiteBySlug.publishedDeploy.status",null)||$()(a,"data.getSiteBySlug.latestDeploy.status",""),s=$()(a,"data.getSiteBySlug.domains",[]),c=$()(a,"data.getSiteBySlug.platform","ipfs"),u=$()(a,"data.getSiteBySlug.dfinityCanisterId"),d=Object(E.p)(s),m=$()(d,"type",""),p=$()(d,"domain",""),b=$()(a,"data.getSiteBySlug.publishedDeploy.previewImage",""),f=$()(a,"data.getSiteBySlug.publishedDeploy.ipfsHash",null),g=function(e,t,a){return t===L.a.FAILED?e("sites.tabs.deploys.sections.deployStatus.deployFailed"):Object(E.q)(e,{isPublished:!!$()(a,"data.getSiteBySlug.publishedDeploy"),createdAt:$()(a,"data.getSiteBySlug.createdAt"),lastPublishAt:$()(a,"data.getSiteBySlug.publishedDeploy.completedAt")})}(t,l,a),y=t("sites.deployedLocally");return Object(N.a)({siteId:o,title:i,status:l,preview:b,ipfsHash:f,platform:c,defaultDomaintype:m,canisterId:u,defaultDomain:p,subtitle:g,localDeploy:y,definityTag:t("sites.definityTag")},n)},Qt={ipfs:"https://storage.googleapis.com/terminal-assets/images/wallets/ipfs.svg",dfinity:"https://storage.googleapis.com/terminal-assets/images/hosting_services/dfinity.png"},Zt=function(e){var t=e.siteBySlug,a=Object(te.a)().t,n=Yt({t:a,siteBySlug:t}),i=$()(t,"data.getSiteBySlug.deploySettings.source",{}),o=Kt(i),l=$t(n);return r.a.createElement(ae.a,null,r.a.createElement("div",{className:l.siteContent},function(){if(t.loading&&!t.data)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.siteInfo},r.a.createElement("div",{className:l.header},r.a.createElement(ht.a,{width:224,height:29,variant:"rect",animation:"wave",classes:{root:l.skeletonRoot}}),r.a.createElement(ht.a,{width:224,height:22,variant:"rect",animation:"wave",className:l.published,classes:{root:l.skeletonRoot}})),r.a.createElement(ht.a,{width:138,height:22,variant:"rect",animation:"wave",classes:{root:l.skeletonRoot}}),r.a.createElement(ht.a,{width:279,height:22,variant:"rect",animation:"wave",classes:{root:l.skeletonRoot}}),r.a.createElement(ht.a,{width:459,height:22,variant:"rect",animation:"wave",classes:{root:l.skeletonRoot}})),r.a.createElement(ht.a,{width:234,height:132,variant:"rect",animation:"wave",classes:{root:l.skeletonRoot}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.siteInfo},r.a.createElement("div",{className:l.header},r.a.createElement(se.a,{variant:"h6",color:"textPrimary"},n.title),r.a.createElement(se.a,{variant:"body2",className:l.published},n.subtitle)),n.status===L.a.DEPLOYED&&""!==n.defaultDomain?r.a.createElement("div",{className:l.domainContainer},r.a.createElement("a",{href:"https://".concat(n.defaultDomain),target:"_blank",rel:"noopener noreferrer",className:Bt()(l.linkStyleReset,l.coloredHover),onClick:function(){var e,t;n.defaultDomaintype===L.c.DEFAULT_SUBDOMAIN?(e="autogeneratedDomain",t="Autogenerated subdomain click"):(e="domain",t="Propagated custom domain click"),window.ga("send","event",L.d.SITES,t,"https://".concat(n.defaultDomain)),window.analytics.track(t,Object(B.a)({siteId:n.siteId,teamId:Z.o.getAccountIdFromUrl()},e,n.defaultDomain))}},r.a.createElement(se.a,{variant:"body2",className:l.domain},n.defaultDomain)),"dfinity"===n.platform&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"caption",color:"textSecondary",className:l.dfinityTag},n.definityTag),r.a.createElement(se.a,{variant:"caption",className:l.experimentalTag},a("common.experimental")))):r.a.createElement(se.a,{variant:"body2",className:l.domain},a("sites.siteHeader.deploy.".concat(n.status),n.defaultDomain)),o===L.l.GITHUB&&r.a.createElement("div",null,r.a.createElement(le.default,{icon:["fab","github"],className:l.repoIcon}),r.a.createElement("a",{href:n.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:l.repo},r.a.createElement(se.a,{variant:"body2"},n.repository))),o===L.l.LOCAL&&r.a.createElement("div",{className:l.repoContainer},r.a.createElement(le.default,{icon:["fal","hdd"],className:l.repoIcon}),r.a.createElement(se.a,{variant:"body2"},n.localDeploy)),r.a.createElement("div",{className:l.ipfsContainer},r.a.createElement("img",{src:Qt[n.platform],className:l.platformIcon,alt:"".concat(n.platform," Logo")}),("ipfs"===n.platform?n.ipfsHash:n.canisterId)?"ipfs"===n.platform?r.a.createElement("a",{href:Object(Z.g)(n.ipfsHash),target:"_blank",rel:"noopener noreferrer",className:l.ipfs},r.a.createElement(se.a,{variant:"body2"},a("sites.siteHeader.ipfs.verify"))):r.a.createElement(se.a,{variant:"body2"},a("sites.siteHeader.dfinity.verify",{id:n.canisterId})):r.a.createElement(se.a,{variant:"body2",className:l.ipfsPending},a("sites.siteHeader.".concat(n.platform,".pending"))))),r.a.createElement("div",{className:l.preview},n.preview&&""!==n.preview?r.a.createElement("img",{className:l.image,src:n.preview,alt:"Site preview"}):r.a.createElement(le.default,{icon:["fal","image"]})))}()))};Zt.defaultProps={siteBySlug:{data:null,error:null,loading:!1}};var Jt=Zt,Xt=a(234),ea=a(1139),ta=a(788),aa=a(206),na=Object(ce.a)((function(){return{root:{overflow:"hidden",position:"absolute",top:55,right:0,bottom:0,left:0},backdrop:{position:"absolute",top:-55,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:9},modal:{width:472,padding:"23px 18px 18px 23px"},title:{fontSize:22},description:{fontSize:15,margin:"23px 0",lineHeight:"1.32"},button:{float:"right"}}})),ra=function(e){var t=e.isShownOverlay,a=na(),n=Object(te.a)().t,i=E.s.getAccountIdFromUrl();return r.a.createElement("div",{className:t?a.root:void 0},t&&r.a.createElement("div",{className:a.backdrop},r.a.createElement(ea.a,{className:a.modal},r.a.createElement(se.a,{className:a.title},n("siteSuspendedOverlay.title")),r.a.createElement(se.a,{className:a.description},n("siteSuspendedOverlay.description")),r.a.createElement(O.b,{to:E.s.buildUrl(Object(B.a)({},aa.a,aa.b),"/teams/".concat(i,"/billing/general"))},r.a.createElement(ta.a,{onClick:function(){},color:"primary",variant:"contained",className:a.button},n("siteSuspendedOverlay.buttonText"))))))},ia=a(441),oa=a(2113),la=Object(ce.a)((function(){return{sectionContent:{padding:"16px 20px 24px"},sectionRoot:{marginBottom:15},title:{fontWeight:500}}})),sa=function(e){var t=e.title,a=e.subtitle,n=e.description,i=e.children,o=la();return r.a.createElement(oa.a,{mainContent:t,className:o.sectionRoot,classes:{content:o.sectionContent}},r.a.createElement(se.a,{variant:"body2",className:o.title},a),"string"===typeof n?r.a.createElement(se.a,{variant:"caption",color:"textSecondary"},n):n,i)};sa.defaultProps={children:null};var ca=sa,ua=function(e,t){return t.map((function(t){var a,n=!!(a=t.list)&&!!a.find((function(t){return t.id===e})),r=t.id===e;return Object(N.a)(Object(N.a)({},t),{},{isActive:r||n,list:t.list.map((function(a){var n=a.id===e,i=function(e,t,a){return!!e&&t.list[0].id===a}(r,t,a.id);return Object(N.a)(Object(N.a)({},a),{},{isActive:n||i})}))})}))},da={BUILD_AND_DEPLOY:"build-and-deploy",DOMAIN_MANAGEMENT:"domain-management",CONTINUOUS_DEPLOYMENT:"continuous-deployment",ADVANCED_BUILD_SETTINGS:"advanced-build-settings",CUSTOM_DOMAINS:"custom-domains",ENS:"ens",HNS:"hns",TTL:"ssl",GENERAL:"general",SITE_DETAILS:"site-details",DANGER_ZONE:"danger-zone"},ma=[da.GENERAL,da.BUILD_AND_DEPLOY,da.DOMAIN_MANAGEMENT],pa=[da.CUSTOM_DOMAINS,da.ENS,da.HNS,da.TTL,da.CONTINUOUS_DEPLOYMENT,da.ADVANCED_BUILD_SETTINGS,da.SITE_DETAILS,da.DANGER_ZONE],ba=function(e,t,a,n){var r=[{title:e("siteSettings.sectionTitles.general"),id:da.GENERAL,type:"main",list:[{title:e("siteSettings.sectionTitles.siteDetails"),id:da.SITE_DETAILS,type:"subsection"},{title:e("siteSettings.sectionTitles.dangerZone"),id:da.DANGER_ZONE,type:"subsection"}]}].concat(Object(P.a)(n!==L.l.LOCAL?[{title:e("siteSettings.sectionTitles.buildAndDeploy"),id:da.BUILD_AND_DEPLOY,type:"main",list:[{title:e("siteSettings.sectionTitles.continuousDeployment"),id:da.CONTINUOUS_DEPLOYMENT,type:"subsection"},{title:e("siteSettings.sectionTitles.advancedBuildSettings"),id:da.ADVANCED_BUILD_SETTINGS,type:"subsection"}]}]:[]),[{title:e("siteSettings.sectionTitles.domainManagement"),id:da.DOMAIN_MANAGEMENT,type:"main",list:[{title:e("siteSettings.sectionTitles.domains"),id:da.CUSTOM_DOMAINS,type:"subsection"}].concat(Object(P.a)("ipfs"===a?[{title:e("siteSettings.sectionTitles.ens"),id:da.ENS,type:"subsection"}]:[]),[{title:e("siteSettings.sectionTitles.hns"),id:da.HNS,type:"subsection"},{title:e("siteSettings.sectionTitles.https"),id:da.TTL,type:"subsection"}])}]);return ua(t,r)},fa=Object(ce.a)((function(e){return{root:{display:"inline-flex","& svg":{display:"flex",marginRight:4,color:e.palette.palette.grey2,fontSize:18}},link:{textDecoration:"none"}}})),ga=function(){var e=fa(),t=Object(te.a)().t,a=Object(S.j)().params;return r.a.createElement(O.b,{to:E.s.buildUrl(null,"/sites/".concat(a.siteSlug,"/settings/").concat(da.BUILD_AND_DEPLOY)),className:e.link},r.a.createElement(oe.a,{buttonVariant:"secondary",overrideClass:{button:e.root}},r.a.createElement(le.default,{icon:["fal","cog"]}),r.a.createElement(se.a,{variant:"body2"},t("sites.tabs.deploys.sections.deployInfo.button"))))},ya=Object(ce.a)((function(){return{sectionRoot:{marginBottom:15},sectionContent:{padding:"16px 20px 24px","& label":{padding:0,margin:0,fontSize:"12px"}},buttonsContainer:{marginTop:17}}})),ha=function(e,t,a){return"undefined"===typeof t?"...":a?e("sites.tabs.deploys.sections.deployInfo.subtitleLocal"):e("sites.tabs.deploys.sections.deployInfo.subtitle",{isAuto:e("sites.tabs.deploys.sections.deployInfo.".concat(t?"on":"off"))})},va=function(e,t,a,n){return"undefined"===typeof t?"...":a?e("sites.tabs.deploys.sections.deployInfo.descriptionLocal"):e("sites.tabs.deploys.sections.deployInfo.".concat(t?"descriptionAuto":"descriptionNotAuto"),{branch:n})},Ea=function(e){var t=e.siteBySlug,a=ya(e),n=Object(te.a)().t,i=$()(t,"data.getSiteBySlug.deploySettings.autoPublishing"),o=$()(t,"data.getSiteBySlug.id"),l=$()(t,"data.getSiteBySlug.deploySettings.source.branch","master"),s=function(e){return Gt(e)===L.l.LOCAL}($()(t,"data.getSiteBySlug.deploySettings.source",{}));return r.a.createElement(ca,{title:n("sites.tabs.deploys.sections.deployInfo.title"),subtitle:ha(n,i,s),description:va(n,i,s,l)},!s&&r.a.createElement("div",{className:a.buttonsContainer},r.a.createElement(ga,null),![i,o].filter((function(e){return void 0===e})).length&&r.a.createElement(ia.a,{autoPublishing:i,siteId:o})))};Ea.defaultProps={siteBySlug:{}};var Oa=Ea,Sa=a(104),ja=a(469),xa=a(241),ka=a(2031),wa=Object(ka.a)((function(){return{copyToClipboardButtonContainer:{marginLeft:10},buttons:{height:28,"& span":{height:10}},buttonsContainer:{display:"flex"},previewLink:{textDecoration:"none"},contextTextContainer:{padding:"16px 21px 9px 21px",backgroundColor:"#071e26",borderBottomLeftRadius:6,borderBottomRightRadius:6},contentText:{whiteSpace:"pre-line",overflowWrap:"break-word",minHeight:200,color:"white",fontSize:15,lineHeight:1.25},noPadding:{padding:0}}})),Ca=function(e){return{title:e("sites.deploys.title"),preview:e("sites.deploys.preview"),copyToClipboard:e("sites.deploys.copyToClipboard"),sucessfullyCopied:e("common.copiedToClipboard")}},Na=function(e){var t=e.previewDestination,a=e.showPreviewButton,i=e.contentText,o=e.loading,l=Object(te.a)().t,s=wa(),c=Ca(l),u=Object(n.useRef)(null);Object(n.useEffect)((function(){null!==u.current&&u.current!==i&&Sa.scroller.scrollTo("log-bottom",{duration:1500,delay:100,smooth:!0,containerId:L.f,offset:-10}),o||(u.current=i)}),[i,o]);var d=r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"body1",color:"textPrimary"},r.a.createElement(Dt.a,{fontWeight:500},c.title)),r.a.createElement("div",{className:s.buttonsContainer},a&&r.a.createElement(r.a.Fragment,null,t?r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:s.previewLink},r.a.createElement(oe.a,{buttonVariant:"primary",onClick:function(){},overrideClass:{button:s.buttons}},l(c.preview))):r.a.createElement(oe.a,{buttonVariant:"primary",disabled:!0,onClick:function(){},overrideClass:{button:s.buttons}},l(c.preview))),r.a.createElement("div",{className:s.copyToClipboardButtonContainer},r.a.createElement(oe.a,{buttonVariant:"secondary",onClick:function(){Object(ja.copyToClipboard)(i),xa.c.success(c.sucessfullyCopied)},overrideClass:{button:s.buttons}},l(c.copyToClipboard)))));return r.a.createElement("div",{className:s.box},r.a.createElement(oa.a,{mainContent:d,classes:{content:s.noPadding}},r.a.createElement("div",{className:s.contextTextContainer},r.a.createElement(se.a,{className:s.contentText},Object(Z.c)(i))),r.a.createElement(Sa.Element,{name:"log-bottom"})))};Na.defaultProps={showPreviewButton:!1,contentText:null,previewDestination:""};var Ia=Na,Da=Object(ce.a)((function(e){return{externalLink:{position:"relative",color:e.palette.palette.primaryBlue,textDecoration:"none"}}})),Ta=function(e){var t=e.repositoryUrl,a=e.branch,n=e.commit,i=Object(te.a)().t,o=Da();return r.a.createElement(r.a.Fragment,null,a,n&&r.a.createElement(r.a.Fragment,null,"@",r.a.createElement("a",{href:"".concat(t,"/commit/").concat(n),target:"_blank",rel:"noopener noreferrer",className:o.externalLink,title:i("sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.goToCommitDetails")},n.slice(0,7))))};Ta.defaultProps={branch:"",commit:"",repositoryUrl:""};var Aa=Ta,Ba=a(2106),Pa=Object(ce.a)((function(e){return{externalLink:{position:"relative",color:e.palette.palette.primaryBlue,textDecoration:"none"}}})),Ma=function(e){var t=e.pullRequestUrl,a=e.branch,n=Object(te.a)().t,i=Pa();return r.a.createElement(Ba.a,{i18nKey:"sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.prTitle",values:{prNumber:"#".concat(t.split("/").slice(-1)),branch:a},components:[r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:i.externalLink,title:n("sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.goToPR")},null)]})};Ma.defaultProps={branch:""};var Ra=Ma,La=a(67),Ua=function(e){return function(t,a){var n=a.data.retryDeploy;try{var r=t.readQuery({query:La.a,variables:{siteId:e,limit:L.g}}),i=Ht()(n);i.startedAt=new Date;var o=Ht()(r);o.getDeploysBySite.deploys.unshift(i),t.writeQuery({query:La.a,variables:{siteId:e,limit:L.g},data:o})}catch(l){console.error(l)}}},Fa=a(237),_a=a.n(Fa),Wa=a(55),Va=a.n(Wa),za=function(e,t){var a=Va.a.utc(e),n=Va()().format("DD")===a.local().format("DD"),r=Va()().diff(a,"days")<=1,i=n&&r?t("common.today"):a.local().format("MMM DD");return t("sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.startDeployTime",{dayAndMonth:i,hourAndMinute:a.format("LT")})},Ha=function(e,t){var a=e.pullRequestUrl,n=e.ipfsHash;if(t)return"https:".concat(t,".ic.fleek.co");if(n){if(a){var r=new _a.a(n);return"https://".concat(r.toV1().toString()).concat(Object(Z.f)())}return Object(Z.g)(n)}return null},Ga=function(e,t,a){var n=e.status,r=e.published,i=void 0!==r&&r,o=e.startedAt,l=void 0===o?null:o,s=e.pullRequestUrl,c=e.taskId,u=$()(e,"repository.branch",""),d=$()(e,"repository.commit",""),m=l?za(l,t):"";return{status:n,inProgress:n===L.a.IN_PROGRESS,published:i,branch:u,commit:d,startedAt:m,previewUrl:Ha(e,a),pullRequestUrl:s,taskId:c}},Ka=a(100),qa=function(e){var t=e.disabled,a=e.setMutationInProgress,n=e.classes,i=e.t,o=e.siteId,l=e.deployId,s=Object(fe.a)(Ka.c,{client:Y.b,variables:{siteId:o,deployId:l}}),c=Object(K.a)(s,1)[0],u=function(){var e=Object(G.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,c();case 4:a(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(!1),xa.c.error(i("sites.tabs.deploys.sections.deployStatus.cancelDeployError"));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(oe.a,{disabled:t,onClick:u,buttonVariant:"important",overrideClass:{button:n.settingsButton}},r.a.createElement(se.a,{variant:"body2"},i("sites.tabs.deploys.sections.deployStatus.cancelDeploy")))},$a=function(e){var t=e.disabled,a=e.siteId,n=e.t,i=Object(S.j)(),o=Object(S.g)(),l=i.params.deployId,s=Object(fe.a)(Ka.f,{client:Y.b,variables:{siteId:a,deployId:l},update:Ua(a),onCompleted:function(e){return function(e,t,a){var n=e.retryDeploy.id,r=E.s.buildUrl(null,"/sites/".concat(t.params.siteSlug,"/deploys/").concat(n));a.push(r)}(e,i,o)},onError:function(){}}),c=Object(K.a)(s,2),u=c[0],d=c[1],m=d.loading;d.response;return r.a.createElement(oe.a,{disabled:t||m,loading:m,onClick:u,buttonVariant:"primary"},r.a.createElement(se.a,{variant:"body2"},n("sites.tabs.deploys.sections.deployStatus.retryDeploy")))};$a.defaultProps={siteId:null};var Ya=$a,Qa=Object(ce.a)((function(e){return{buttonsContainer:{marginTop:17,"&&& > button:nth-child(n + 2)":{marginLeft:10}},icon:{display:"flex",marginLeft:5,fontSize:14},description:{"&&&":{margin:"10px 0 auto"}},previewLink:{textDecoration:"none"},linkButton:{display:"flex",height:"auto",padding:0,"& > span":{margin:"10px 0 auto","& > span":{fontSize:15,color:e.palette.palette.primaryBlue}},"& svg":{color:e.palette.palette.primaryBlue}},checkIcon:{color:e.palette.palette.green,fontSize:13,display:"inline-block",position:"relative",top:2,marginLeft:5},failedIcon:{color:e.palette.palette.errorRed,fontSize:12,display:"inline-block",position:"relative",top:4,marginLeft:5},gearIcon:{display:"inline-block",color:e.palette.palette.starYellow,fontSize:13,position:"relative",top:2,marginLeft:5,"& svg":{animation:"$spin 4s infinite linear"}},"@keyframes spin":{from:{transform:"rotWate(0deg)"},to:{transform:"rotate(360deg)"}}}})),Za=function(e){var t=Object(n.useState)(!1),a=Object(K.a)(t,2),i=a[0],o=a[1],l=e.deploy,s=e.siteBySlug,c=$()(s,"data.getSiteBySlug",{}),u=$()(l,"id",null),d=$()(c,"platform",""),m=$()(c,"id",null),p=Object(E.o)(s).url,b=Object(te.a)().t,f=$()(c,"dfinityCanisterId"),g=$()(s,"data.getSiteBySlug.deploySettings.source",{}),y=Kt(g),h=Ga(l,b,f),v=h.inProgress,O=h.published,S=h.branch,j=h.commit,x=h.startedAt,k=h.previewUrl,w=h.status,C=h.pullRequestUrl,N=h.taskId,I=Qa(e),D=r.a.createElement(oe.a,{upperCase:!1,overrideClass:{button:I.linkButton}},r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"caption"},b("sites.tabs.deploys.sections.deployStatus.previewDeploy")),r.a.createElement(le.default,{className:I.icon,color:"inherit",icon:["fal","long-arrow-right"]})));return r.a.createElement(ca,{title:b("sites.tabs.deploys.sections.deployStatus.title"),subtitle:function(){var e="sites.tabs.deploys.sections.deployStatus",t="",a=w===L.a.DEPLOYED&&!O,n=w===L.a.DEPLOYED&&O,i=w===L.a.CANCELLED,o=w===L.a.FAILED,l=w===L.a.TIMEOUT;return v?t=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,b("".concat(e,".deployInProgress"))),r.a.createElement("div",{className:I.gearIcon},r.a.createElement(le.default,{fontSize:"inherit",icon:["fal","cog"]}))):n?t=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,b("".concat(e,".publishedDeploy"))),r.a.createElement("div",{className:I.checkIcon},r.a.createElement(le.default,{fontSize:"inherit",icon:["fas","check"]}))):a?t=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,b("".concat(e,".deploySuccessful"))),r.a.createElement("div",{className:I.checkIcon},r.a.createElement(le.default,{fontSize:"inherit",icon:["fas","check"]}))):l?t=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,b("".concat(e,".deployTimeout"))),r.a.createElement("div",{className:I.failedIcon},r.a.createElement(le.default,{fontSize:"inherit",icon:["far","times"]}))):i?t=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,b("".concat(e,".deployCancelled"))),r.a.createElement("div",{className:I.failedIcon},r.a.createElement(le.default,{fontSize:"inherit",icon:["far","times"]}))):o&&(t=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,b("".concat(e,".deployFailed"))),r.a.createElement("div",{className:I.failedIcon},r.a.createElement(le.default,{fontSize:"inherit",icon:["far","times"]})))),t}(),description:y===L.l.LOCAL?b("sites.tabs.deploys.sections.deployStatus.localDeploy"):r.a.createElement(se.a,{variant:"caption",color:"textSecondary"},Object(E.n)(b,l),"\xa0",C?r.a.createElement(Ra,{branch:S,pullRequestUrl:C}):r.a.createElement(Aa,{branch:S,commit:j,repositoryUrl:p}),"\xa0",x)},r.a.createElement(r.a.Fragment,null,v?r.a.createElement(se.a,{className:I.description,variant:"body2"},b("sites.tabs.deploys.sections.deployStatus.description",{platform:b("common.".concat(d))})):r.a.createElement("a",{href:k,target:"_blank",rel:"noopener noreferrer",className:I.previewLink},D),y!==L.l.LOCAL&&r.a.createElement("div",{className:I.buttonsContainer},r.a.createElement(ga,null),v?r.a.createElement(qa,{classes:I,setMutationInProgress:o,disabled:null===N||i,t:b,siteId:m,deployId:u}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ya,{disabled:!m,siteId:m,t:b})))))};Za.defaultProps={deploy:{},siteBySlug:{data:null,error:null,loading:!1}};var Ja=Za,Xa=a(106),en=a(1118),tn=a.n(en),an=function(e){var t=e.fetchMore,a=e.updateCache,r=e.nextToken,i=e.elementRef,o=e.debounceTime,l=void 0===o?300:o,s=e.bottomBand,c=void 0===s?50:s,u=Object(n.useRef)(),d=Object(n.useRef)(null),m=Object(n.useRef)(null);m.current=r;var p=function(){var e=Object(G.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({variables:{nextToken:m.current},updateQuery:function(e,t){var n=t.fetchMoreResult;return a(e,n)}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error, try to fetch more",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(G.a)(H.a.mark((function e(){var t,a,n,r,i,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.current,a=t.scrollHeight,n=t.clientHeight,r=t.scrollTop,i=a-n,o=m.current&&d.current!==m.current,i-r<c&&o&&(d.current=m.current,p());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(null!==i&&m.current){u.current=void 0===i?window.document.getElementById(L.f):i;var e=u.current,t=tn()(b,l);return e.addEventListener("scroll",t),b(),function(){return e.removeEventListener("scroll",t)}}}),[i,m.current,t])},nn=function(e){return function(t,a){var n=a.data.triggerDeploy;try{var r=t.readQuery({query:La.a,variables:{siteId:e,limit:L.g}}),i=Ht()(n),o=Ht()(r);o.getDeploysBySite.deploys.unshift(i),t.writeQuery({query:La.a,variables:{siteId:e,limit:L.g},data:o})}catch(l){console.error(l)}}},rn=a(2120),on=Object(ce.a)((function(e){return{root:{flexDirection:"row",padding:"15px 20px 15px 17px"},leftPart:{display:"flex",flexGrow:1,flexWrap:"wrap",minWidth:0},rightPart:{textAlign:"right",flexShrink:0},icon:{display:"flex",color:e.palette.palette.grey2,fontSize:8,marginLeft:16},bolder:{fontWeight:500},chip:{marginLeft:10},linkContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,textDecoration:"none"},deployMessage:{flexBasis:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},linkBoundary:{position:"relative"}}})),ln="sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.",sn=function(e){var t=e.id,a=e.branch,n=e.commit,i=e.status,o=e.message,l=e.deployTotalTime,s=e.deployStartDate,c=e.repositoryUrl,u=e.isLastPublishedDeploy,d=e.deployLabel,m=e.pullRequestUrl,p=on(),b=Object(te.a)().t,f=Object(S.j)(),g=function(e,t){switch(e){case L.a.DEPLOYED:return t?{transKey:"deploymentStatus.published",color:"green"}:null;case L.a.IN_PROGRESS:return{transKey:"deploymentStatus.inProgress",color:"yellow"};case L.a.FAILED:return{transKey:"deploymentStatus.failed",color:"red"};case L.a.CANCELLED:return{transKey:"deploymentStatus.cancelled",color:"red"};case L.a.TIMEOUT:return{transKey:"deploymentStatus.timeout",color:"red"};default:return null}}(i,u),y=za(s,b);return r.a.createElement("div",{className:p.linkBoundary},r.a.createElement(O.b,{to:E.s.buildUrl(null,"".concat(f.url,"/").concat(t)),title:b("".concat(ln,"goToDeployDetails")),className:p.linkContainer},null),r.a.createElement(ae.a,{overrideClass:{wrapper:p.root},border:!0},r.a.createElement("div",{className:p.leftPart},r.a.createElement(se.a,{variant:"body2",className:p.bolder},d),"\xa0",r.a.createElement(se.a,{variant:"body2",color:"textSecondary",onClick:function(e){return e.stopPropagation()}},m?r.a.createElement(Ra,{branch:a,pullRequestUrl:m}):r.a.createElement(Aa,{branch:a,commit:n,repositoryUrl:c})),g&&i&&r.a.createElement(rn.a,{size:"small",color:g.color,overrideClass:{root:p.chip}},b(g.transKey)),r.a.createElement(se.a,{variant:"caption",color:"textSecondary",className:p.deployMessage},o||b("".concat(ln,"deployMessagePlaceholder")))),r.a.createElement("div",{className:p.rightPart},r.a.createElement(se.a,{variant:"body2",className:p.bolder},y),r.a.createElement(se.a,{variant:"caption"},i===L.a.FAILED?b("".concat(ln,"timeFailedDeploy")):i===L.a.CANCELLED?b("".concat(ln,"timeCancelledDeploy")):i===L.a.TIMEOUT?b("".concat(ln,"timeoutDeploy")):l?b("".concat(ln,"deployTime"),{time:l}):b("".concat(ln,"deployTimePlaceholder")))),r.a.createElement(le.default,{icon:["far","chevron-right"],className:p.icon})))};sn.defaultProps={id:"",branch:"",commit:"",status:"",message:"",deployTotalTime:null,deployStartDate:"",repositoryUrl:"",isLastPublishedDeploy:!1,pullRequestUrl:null};var cn=sn,un=Object(ce.a)((function(e){return{root:{flexDirection:"row",padding:"15px 20px 15px 17px"},leftPart:{flexGrow:1},rightPart:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"space-between",height:50},icon:{display:"flex",color:e.palette.palette.grey2,fontSize:8,marginLeft:16},skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},titleSkeleton:{display:"inline-block"},chipSkeleton:{display:"inline-block",marginLeft:10}}})),dn=function(){var e=un();return r.a.createElement(ae.a,{overrideClass:{wrapper:e.root},border:!0},r.a.createElement("div",{className:e.leftPart},r.a.createElement(ht.a,{width:190,height:26,variant:"rect",animation:"wave",classes:{root:Bt()(e.skeletonRoot,e.titleSkeleton)}}),r.a.createElement(ht.a,{width:76,height:26,variant:"rect",animation:"wave",classes:{root:Bt()(e.skeletonRoot,e.chipSkeleton)}}),r.a.createElement(ht.a,{width:130,height:18,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.rightPart},r.a.createElement(ht.a,{width:140,height:26,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}),r.a.createElement(ht.a,{width:200,height:18,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement(le.default,{icon:["far","chevron-right"],className:e.icon}))},mn=Object(ce.a)((function(){return{header:{display:"flex",justifyContent:"flex-end",marginBottom:15},deployItem:{marginBottom:15,cursor:"pointer"},alert:{marginBottom:15}}})),pn=function(e,t){var a=$()(e,"getDeploysBySite.deploys",[]),n=$()(t,"getDeploysBySite.deploys",[]),r=$()(t,"getDeploysBySite.nextToken",null);return{getDeploysBySite:{deploys:[].concat(Object(P.a)(a),Object(P.a)(n)),nextToken:r,__typename:"DeployConnection"}}},bn=function(e){var t=Object(n.useState)(!1),a=Object(K.a)(t,2),i=a[0],o=a[1],l=Object(te.a)().t,s=mn(e),c=Object(S.g)(),u=Object(S.j)(),d=e.siteBySlug,m=e.deploys,p=$()(d,"data.getSiteBySlug.id"),b=$()(d,"data.getSiteBySlug.deploySettings.source",{}),f=Kt(b),g=m.data,y=m.loading,h=m.fetchMore,v=$()(g,"getDeploysBySite.nextToken");an({nextToken:v,updateCache:pn,fetchMore:h});var O=Object(E.o)(d).url,j=$()(g,"getDeploysBySite.deploys",[]),x=Object(fe.a)(Ka.g,{client:Y.b,variables:{siteId:p},update:nn(p),onCompleted:function(e){return function(e,t,a){var n=e.triggerDeploy.id,r=E.s.buildUrl(null,"/sites/".concat(t.params.siteSlug,"/deploys/").concat(n));a.push(r)}(e,u,c)}}),k=Object(K.a)(x,2),w=k[0],C=k[1].loading,N=function(){var e=Object(G.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={siteId:p,teamId:$()(d,"data.getSiteBySlug.teamId"),dockerImage:$()(d,"data.getSiteBySlug.buildSettings.dockerImage"),buildCommand:$()(d,"data.getSiteBySlug.buildSettings.buildCommand"),repositoryBranch:$()(d,"data.getSiteBySlug.deploySettings.source.branch"),publishDirectoryPath:$()(d,"data.getSiteBySlug.buildSettings.publishDirectoryPath")},e.prev=2,e.next=5,w();case 5:window.analytics.track("User triggered deploy",a),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),a.error=e.t0.message,window.analytics.track("User triggered deploy failed",a),o(!0);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){C&&i&&o(!1)}),[C]);var I=function(e){if(e.status!==L.a.DEPLOYED)return null;var t=e.startedAt,a=e.completedAt,n=Va()(a),r=Va()(t);return Va()(n.diff(r)).format("m[m ]s[s]")},D=$()(d,"data.getSiteBySlug.publishedDeploy.id");return r.a.createElement(ae.a,null,f!==L.l.LOCAL&&r.a.createElement("div",{className:s.header},r.a.createElement(oe.a,{disabled:!p,loading:C,onClick:N,buttonVariant:"primary"},l("sites.tabs.deploys.sections.deployInfo.listOfDeploys.triggerDeploy"))),i&&r.a.createElement(Xa.a,{type:"error",message:l("siteDeploys.sections.deployInfo.listOfDeploys.errorTriggerDeploy"),className:s.alert,icon:["fal","times-circle"]}),p?j.map((function(e){return r.a.createElement("div",{className:s.deployItem,key:e.id},r.a.createElement(cn,{id:e.id,branch:$()(e,"repository.branch",""),commit:$()(e,"repository.commit","head"),status:e.status,message:$()(e,"repository.message"),deployTotalTime:I(e),deployStartDate:e.startedAt||e.id,repositoryUrl:O,isLastPublishedDeploy:e.id===D,deployLabel:Object(E.n)(l,e,f),pullRequestUrl:$()(e,"pullRequestUrl")}))})):null,(y||!p)&&r.a.createElement(dn,null))};bn.defaultProps={siteBySlug:{data:null,error:null,loading:!1},deploys:{data:null,error:null,loading:!1,fetchMore:function(){}}};var fn=bn,gn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.buildTime,n=void 0===a?"":a,r=t.totalDeployTime,i=void 0===r?"":r,o=t.startedAt,l=void 0===o?"3:53:42PM":o,s=t.endedAt,c=void 0===s?"3:53:42PM":s;return{title:e("sites.deploys.summaryList.title"),items:[{title:e("sites.deploys.summaryList.filesUploaded.title"),subtitle:e("sites.deploys.summaryList.filesUploaded.subtitle"),icon:["fal","info-circle"]},{title:e("sites.deploys.summaryList.redirectRulesProcessed.title"),subtitle:e("sites.deploys.summaryList.redirectRulesProcessed.subtitle"),icon:["fal","info-circle"]},{title:e("sites.deploys.summaryList.headerRulesProcessed.title"),subtitle:e("sites.deploys.summaryList.headerRulesProcessed.subtitle"),icon:["fal","info-circle"]},{title:e("sites.deploys.summaryList.linkedResources.title"),subtitle:e("sites.deploys.summaryList.linkedResources.subtitle"),icon:["fal","info-circle"]},{title:e("sites.deploys.summaryList.buildTime.title",{buildTime:n,totalDeployTime:i}),subtitle:e("sites.deploys.summaryList.buildTime.subtitle",{startedAt:l,endedAt:c}),icon:["fal","info-circle"]}]}},yn=Object(ce.a)((function(e){return{wrapper:{"&&& strong":{fontWeight:600}},content:{"&&&:nth-child(2)":{paddingTop:20,paddingBottom:20,"& > div:nth-child(n + 2)":{marginTop:10}}},icon:{"&&&":{display:"flex",fontSize:15,color:e.palette.palette.grey2}},title:{display:"flex"},textSubtitle:{marginLeft:30,color:e.palette.palette.grey2},textTitle:{marginLeft:15,fontWeight:500}}})),hn=function(e){var t=yn(e),a=Object(te.a)().t,n=e.deploy,i=n.startedAt,o=n.completedAt,l=Va()(o),s=Va()(i),c=Va()(l.diff(s)).format("m[m ]s[s]"),u=gn(a,{buildTime:c,totalDeployTime:c,startedAt:Va()(i).format("LTS"),endedAt:Va()(o).format("LTS")}),d=u.title,m=u.items;return r.a.createElement(oa.a,{mainContent:d,className:t.wrapper,classes:{title:t.wrapper,content:t.content}},m.map((function(e,a){return r.a.createElement("div",{key:"summary-list-".concat(a)},r.a.createElement("div",{className:t.title},r.a.createElement(le.default,{className:t.icon,icon:e.icon,fontSize:"small"}),r.a.createElement(se.a,{className:t.textTitle,variant:"body1"},e.title)),r.a.createElement(se.a,{className:t.textSubtitle,variant:"body2"},e.subtitle))})))};hn.defaultProps={deploy:{startedAt:"",completedAt:""}};var vn=hn,En=function(e){var t=e.siteBySlug,a=e.deploys;return r.a.createElement("div",{id:"test-sites-all-deploys"},r.a.createElement(Oa,{siteBySlug:t}),r.a.createElement(fn,{siteBySlug:t,deploys:a}))};En.defaultProps={siteBySlug:{data:null,error:null,loading:!1},deploys:{data:null,error:null,loading:!1}};var On=En,Sn=Object(ka.a)((function(){return{goBackContainer:{marginTop:-10},summaryListContainer:{marginBottom:15}}})),jn=function(e){var t=Object(te.a)().t,a=Sn(),n=e.deploys,i=e.siteBySlug,o=n.loading,l=Object(S.j)(),s=Object(S.g)(),c=function(e,t){var a=e.data;return $()(a,"getDeploysBySite.deploys",[]).find((function(e){return e.id===t}))||{}}(n,l.params.deployId),u=c.status,d=c.log,m=c.previewImage;return r.a.createElement("div",{id:"test-sites-deploy-details"},r.a.createElement("div",{className:a.goBackContainer},r.a.createElement(be,{buttonText:t("sites.deploys.backToDeploys"),onClick:function(){var e=E.s.buildUrl(null,"/sites/".concat(l.params.siteSlug,"/deploys"));s.push(e)}})),r.a.createElement(Ja,{deploy:c,siteBySlug:i}),u===L.a.DEPLOYED&&r.a.createElement("div",{className:a.summaryListContainer},r.a.createElement(vn,{deploy:c})),r.a.createElement(Ia,{contentText:d,showPreviewButton:!0,previewDestination:m,loading:o}))};jn.defaultProps={siteBySlug:{data:null,error:null,loading:!1},deploys:{data:null,error:null,loading:!1}};var xn,kn,wn,Cn=jn,Nn=a(1),In=a.n(Nn),Dn=(Object(ye.a)(xn||(xn=Object(ge.a)(["\n  subscription siteSubscription($id: ID!) {\n    siteSubscription(id: $id) {\n      ...SiteDetailSubscription\n    }\n  }\n  ","\n"])),he.d),Object(ye.a)(kn||(kn=Object(ge.a)(["\n  subscription deploySubscription($id: ID!) {\n    deploySubscription(id: $id) {\n      ...DeployDetail\n    }\n  }\n  ","\n"])),he.a)),Tn=Object(ye.a)(wn||(wn=Object(ge.a)(["\n  subscription siteBySlugSubscription($slug: String!) {\n    siteBySlugSubscription(slug: $slug) {\n      ...SiteDetailSubscription\n    }\n  }\n  ","\n"])),he.d),An=function(e){var t=e.config,a=t.data,i=t.subscribeToMore;return Object(n.useEffect)((function(){var e=[];try{if(a){var t=$()(a,"getDeploysBySite.deploys",[]);t.forEach((function(n){var r=i({document:Dn,variables:{id:n.id},updateQuery:function(e,n){var r=n.subscriptionData;return function(e,t,n){if(!n.data)return t;var r=n.data.deploySubscription,i=Ht()(e),o=i.findIndex((function(e){return e.id===r.id}));return-1===o?{getDeploysBySite:Object(N.a)(Object(N.a)({},a.getDeploysBySite),{},{deploys:[r].concat(Object(P.a)(i))})}:(i[o]=Object(N.a)(Object(N.a)({},i[o]),r),{getDeploysBySite:Object(N.a)(Object(N.a)({},a.getDeploysBySite),{},{deploys:Object(P.a)(i)})})}(t,e,r)}});e.push(r)}))}}catch(n){console.error(n)}return function(){e.forEach((function(e){return e()}))}}),[a]),r.a.createElement(r.a.Fragment,null)};An.defaultProps={config:{data:null}},An.propTypes={config:In.a.shape({data:In.a.shape({getDeploysBySite:In.a.object}),subscribeToMore:In.a.func.isRequired})};var Bn=An,Pn=function(e){var t=e.siteBySlug,a=Object(S.j)(),n=Object(S.h)(),i=$()(t,"data.getSiteBySlug.id"),o=Object(fe.b)(La.a,{client:Y.b,variables:{siteId:i,limit:L.g},errorPolicy:"all",skip:!i,fetchPolicy:"cache-and-network"});return r.a.useEffect((function(){window.analytics.page("Site - Deploy",{path:n.pathname,search:n.search})}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Bn,{config:o}),r.a.createElement(S.d,null,r.a.createElement(S.b,{path:"".concat(a.path),exact:!0},r.a.createElement(On,{siteBySlug:t,deploys:o})),r.a.createElement(S.b,{path:"".concat(a.path,"/:deployId"),exact:!0},r.a.createElement(Cn,{siteBySlug:t,deploys:o})),r.a.createElement(S.a,{to:"*",redirect:"".concat(a.url)})))};Pn.defaultProps={siteBySlug:{data:null,error:null,loading:!1}};var Mn=Pn,Rn=Object(ka.a)({root:{margin:"-15px 0"}}),Ln=function(e){var t=e.children,a=Rn();return r.a.createElement("div",{className:a.root},t)},Un=Object(ce.a)((function(e){return{root:{display:"flex",alignItems:"center"},info:{marginLeft:18},loadingIcon:{display:"flex",marginRight:3,fontSize:14,color:e.palette.palette.linkBlue,"& svg":{animation:"$spin 4s linear infinite"},"& svg g .fa-secondary":{opacity:.5}},"@keyframes spin":{"100%":{transform:"rotate(360deg)"}},container:{whiteSpace:"break-spaces"}}})),Fn=function(e){var t=e.loading,a=e.children,n=e.tooltipText,i=Un();return r.a.createElement("div",{className:i.root},t&&r.a.createElement(le.default,{icon:["fad","spinner-third"],classes:{fontAwesomeOverrides:i.loadingIcon,iconContainer:i.loadingIcon}}),a,n&&r.a.createElement(Rt,{text:n,className:i.info}))};Fn.defaultProps={children:null,loading:!1,tooltipText:null};var _n=Fn,Wn=Object(ka.a)((function(e){return{root:{display:"flex",margin:"15px 0",flexDirection:"row",alignItems:"center"},field:{minWidth:202},skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4}}})),Vn=function(e){var t=e.field,a=e.value,n=e.loading,i=Wn();return r.a.createElement("div",{className:i.root},r.a.createElement(se.a,{variant:"body2",color:"textSecondary",className:i.field},t),function(){if(n){var e=Math.floor(321*Math.random()+130);return r.a.createElement(ht.a,{height:22,width:e,variant:"rect",animation:"wave",classes:{root:i.skeletonRoot}})}return r.a.createElement(se.a,{noWrap:!0,variant:"body2",component:"div"},a)}())},zn=function(e){var t=e.loading,a=e.details,n=Object(te.a)().t,i=Object.entries(a);return r.a.createElement(ae.a,{padding:"24px 28px"},r.a.createElement(Ln,null,i.map((function(e){var a=Object(K.a)(e,2),i=a[0],o=a[1];return r.a.createElement(Vn,{key:i,value:o,loading:t,field:"".concat(n("sites.overview.".concat(i)),":")})}))))},Hn=Object(ka.a)((function(e){return{root:{display:"block",padding:0,borderTop:"1px solid ".concat(e.palette.palette.grey5)},stepContent:{height:73,display:"flex",padding:"0 20px",flexDirection:"row",alignItems:"center"},disabledOpacity:{opacity:function(e){return e.isStepDisabled?.5:"initial"}},stepNumber:{height:33,width:33,paddingTop:1,fontSize:21.7,borderRadius:"100%",border:"solid 1px ".concat(e.palette.palette.black),display:"flex",alignItems:"center",justifyContent:"center"},stepDetail:{flex:1,marginLeft:20,display:"flex",alignSelf:"stretch",justifyContent:"center",flexDirection:"column"},stepStatus:{display:"flex",alignSelf:"stretch",alignItems:"center",flexDirection:"row","& > div > svg":{position:"relative",top:3,fontSize:30,width:30,height:30,color:e.palette.palette.green}},stepAction:{padding:"8px 12px",fontSize:15,minWidth:230},title:{display:"flex"},subtitle:{marginTop:2,marginBottom:5,letterSpacing:0},cogIcon:{display:"flex","& svg":{marginLeft:5,color:e.palette.primary.main,fontSize:14}}}})),Gn=function(e){var t=e.orderNumber,a=e.title,n=e.subtitle,i=e.buttonText,o=e.buttonCallback,l=e.isDone,s=e.isCogIcon,c=e.isStepDisabled,u=Hn({isStepDisabled:c});return r.a.createElement("li",{className:u.root},r.a.createElement("div",{className:u.stepContent},r.a.createElement("div",{className:Bt()(u.stepNumber,u.disabledOpacity)},t),r.a.createElement("div",{className:Bt()(u.stepDetail,u.disabledOpacity)},r.a.createElement("div",{className:u.title},r.a.createElement(se.a,{variant:"body1"},a),s&&r.a.createElement(le.default,{icon:["fal","cog"],className:u.cogIcon})),r.a.createElement(se.a,{variant:"caption",color:"textSecondary",className:u.subtitle},n)),r.a.createElement("div",{className:u.stepStatus},l?r.a.createElement(le.default,{icon:["far","check"]}):r.a.createElement(oe.a,{disabled:c,onClick:o,buttonVariant:"primary",overrideClass:{button:u.stepAction}},i))))};Gn.defaultProps={buttonText:void 0,buttonCallback:void 0,isCogIcon:!1};var Kn=Gn,qn=Object(ka.a)((function(e){return{root:{display:"block",padding:0,borderTop:"1px solid ".concat(e.palette.palette.grey5)},stepContent:{display:"flex",padding:"15px 20px",alignItems:"center"},stepNumber:{height:33,width:33,paddingTop:1,fontSize:21.7,borderRadius:"100%",border:"solid 1px ".concat(e.palette.palette.black),display:"flex",alignItems:"center",justifyContent:"center"},stepDetail:{flexGrow:1,marginLeft:20},skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},titleSkeleton:{marginBottom:5}}})),$n=function(e){var t=e.orderNumber,a=qn();return r.a.createElement("li",{className:a.root},r.a.createElement("div",{className:a.stepContent},r.a.createElement("div",{className:a.stepNumber},t),r.a.createElement("div",{className:a.stepDetail},r.a.createElement(ht.a,{width:170,height:24,variant:"rect",animation:"wave",classes:{root:Bt()(a.skeletonRoot,a.titleSkeleton)}}),r.a.createElement(ht.a,{width:470,height:14,variant:"rect",animation:"wave",classes:{root:a.skeletonRoot}})),r.a.createElement(ht.a,{width:175,height:25,variant:"rect",animation:"wave",classes:{root:a.skeletonRoot}})))},Yn=Object(ka.a)((function(){return{headerContent:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px"},closeButton:{padding:0,height:18,minWidth:"auto",fontSize:18}}})),Qn=function(e){var t=e.onClose,a=Yn(),n=Object(te.a)().t;return r.a.createElement("div",{className:a.headerContent},r.a.createElement(se.a,{variant:"body1"},r.a.createElement(Dt.a,{fontWeight:500},n("sitesGettingStarted.title"))),r.a.createElement(oe.a,{overrideClass:{button:a.closeButton},onClick:t,disableRipple:!0,disableElevation:!0},r.a.createElement(le.default,{icon:["fal","times-circle"],fontSize:"inherit"})))},Zn=function(e){var t=!!$()(e,"data.getSiteBySlug.publishedDeploy"),a=$()(e,"data.getSiteBySlug.platform"),n=$()(e,"data.getSiteBySlug.id",[]),r=$()(e,"data.getSiteBySlug.domains",[]),i=r.filter((function(e){return e.status===L.b.PROPAGATED})),o=r.filter((function(e){return e.status===L.b.PENDING_PROPAGATION})),l=r.find((function(e){return e.type===L.c.PRIMARY})),s=$()(e,"data.getSiteBySlug.latestDeploy.id"),c=i.length>1,u=Object(te.a)().t,d=Object(S.g)(),m=Object(S.j)().params,p=t?"done":"instruction",b=c?"done":"instruction",f=o.length>0&&t?u("sitesGettingStarted.secondStep.instruction.verifyDomainButtonText"):u("sitesGettingStarted.secondStep.instruction.addDomainButtonText");return[{orderNumber:1,title:u("sitesGettingStarted.firstStep.".concat(p,".title")),isCogIcon:!t,subtitle:u("sitesGettingStarted.firstStep.".concat(p,".subtitle"),{platform:u("common.".concat(a))}),buttonText:t?void 0:u("sitesGettingStarted.firstStep.instruction.buttonText"),buttonCallback:function(){return d.push(E.s.buildUrl(null,"/sites/".concat(m.siteSlug,"/deploys/").concat(s)))},isStepDisabled:!1,isDone:t},{orderNumber:2,title:u("sitesGettingStarted.secondStep.".concat(b,".title")),subtitle:u("sitesGettingStarted.secondStep.".concat(b,".subtitle"),{domainName:l?l.name:""}),buttonText:c?void 0:f,buttonCallback:function(){return o.length>0?d.push(E.s.buildUrl(null,"/sites/".concat(m.siteSlug,"/settings/domain-management"))):(window.ga("send","event",L.d.SITES,"Add custom domain from Overview"),window.analytics.track("Add custom domain from Overview",{siteId:n,teamId:E.s.getAccountIdFromUrl()}),d.push(E.s.buildUrl(null,"/sites/".concat(m.siteSlug,"/add-domain"))))},isStepDisabled:!t,isDone:c}]},Jn=Object(ka.a)({list:{margin:0,padding:0,listStyleType:"none"},sectionWrapper:{marginBottom:16}}),Xn=function(e){var t=e.siteBySlug,a=Object(S.j)().params.siteSlug,i="".concat("hideSiteGettingStartedSection","_").concat(a),o=Zn(t),l=Object(n.useState)(!!window.localStorage.getItem(i)),s=Object(K.a)(l,2),c=s[0],u=s[1],d=Jn(),m=t.loading,p=t.data,b=m&&!p?$n:Kn;return c?null:r.a.createElement(ae.a,{padding:0,overrideClass:{wrapper:d.sectionWrapper}},r.a.createElement(Qn,{onClose:function(){window.localStorage.setItem(i,!0),u(!0)}}),r.a.createElement("ol",{className:d.list},o.map((function(e){return r.a.createElement(b,Object.assign({key:e.orderNumber},e))}))))},er=function(e){var t=e.t,a=e.dealData,n=e.siteBySlug,i=$()(n,"loading"),o=$()(n,"data.getSiteBySlug",{}),l=$()(o,"platform","ipfs")||"ipfs",s=$()(o,"dfinityCanisterId"),c=function(e){var t=$()(e,"data.getSiteBySlug.deploySettings.source.url","")||"",a=$()(e,"data.getSiteBySlug.deploySettings.source.branch","")||"",n=t.split("/");return"".concat(n.pop()," (branch: ").concat(a,")")}(n),u=Object(E.r)(o),d=$()(n,"data.getSiteBySlug.team.name","")||"",m=$()(n,"data.getSiteBySlug.createdAt","")||"",p=$()(n,"data.getSiteBySlug.publishedDeploy.completedAt","")||"",b=$()(n,"data.getSiteBySlug.publishedDeploy.ipfsHash","-"),f=$()(n,"data.getSiteBySlug.domains",[]),g=$()(n,"data.getSiteBySlug.deploySettings.source",{}),y=Kt(g),h=Object(E.p)(f),v=$()(h,"sslInfo.type","CLOUDFLARE"),O="ipfs"===l?{ipfsHash:b}:{canisterId:s},S=$()(a,"getDealStatus.dealId"),j=$()(a,"getDealStatus.proposalCid"),x=!("number"===typeof S&&S>0),k=r.a.createElement(_n,Object.assign({loading:x},x&&{tooltipText:t("storage.tooltips.filecoin",{item:"Deal ID"})}),x?t("common.pending"):S),w=r.a.createElement(_n,Object.assign({loading:!j},!j&&{tooltipText:t("storage.tooltips.filecoin",{item:"Proposal CID"})}),j||t("common.pending"));return Object(N.a)(Object(N.a)(Object(N.a)(Object(N.a)({name:u,owner:d},y===L.l.GITHUB&&{repository:c}),!n.loading&&O),"ipfs"===l&&!i&&{filecoinID:k,proposalCid:w}),{},{certificate:t("sites.overview.ssl.".concat(v)),created:m.length?Va()(m).calendar():"",lastPublished:p.length?Va()(p).calendar():""})},tr=function(e){var t=e.siteBySlug,a=Object(te.a)().t,n=Object(S.h)(),i=$()(t,"data.getSiteBySlug.publishedDeploy.ipfsHash"),o=Object(fe.b)(Q.c,{client:Y.b,fetchPolicy:"cache-and-network",skip:!i,variables:{hash:i?new _a.a(i).toV1().toString():i}}).data,l=er({t:a,siteBySlug:t,dealData:o});return r.a.useEffect((function(){window.analytics.page("Site - Overview",{path:n.pathname,search:n.search})}),[]),r.a.createElement("div",{id:"test-sites-overview"},r.a.createElement(Xn,{siteBySlug:t}),r.a.createElement(zn,{details:l,loading:t.loading&&!t.data}))},ar=Object(ce.a)((function(){return{sectionContent:{padding:0},dataRow:{display:"flex",padding:"13px 20px"},sectionFooter:{padding:function(e){return e.data.length%2?"7px 20px 20px":20}},description:{padding:"21px 20px 23px"},singleDataRow:{display:"flex",padding:"0 20px"},alertContent:{padding:"15px 20px 0 20px"},defaultValue:{color:"#666666"}}})),nr=Object(ce.a)((function(){return{value:{fontWeight:500},input:{width:330},info:{marginTop:5,fontSize:12,letterSpacing:0},label:{flexBasis:190,flexShrink:0,lineHeight:function(e){return e.isEditingMode?2.2:null}},bigInput:{"& input":{padding:"8px 0px"}}}})),rr=function(e){var t=e.stateKey,a=e.value,n=e.label,i=e.onChange,o=e.placeholder,l=e.editingInfo,s=e.isEditingMode,c=e.renderEditableComponent,u=e.hideLabelInEditMode,d=e.useBigInput,m=e.renderValue,p=nr({isEditingMode:s}),b=u&&s;return r.a.createElement(r.a.Fragment,null,!b&&r.a.createElement(se.a,{variant:"body2",className:p.label},n),s?r.a.createElement("div",{className:p.editInputWrapper},c?c(a,i):r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,{placeholder:o,className:Bt()(p.input,Object(B.a)({},p.bigInput,d)),value:a,onChange:function(e){return i(t,e)}}),l&&r.a.createElement(se.a,{color:"textSecondary",className:p.info},l))):r.a.createElement(se.a,{variant:"body2",className:p.value,color:a?void 0:"textSecondary"},m(a)||o))};rr.defaultProps={stateKey:"",value:"",placeholder:"",editingInfo:"",onChange:void 0,renderEditableComponent:void 0,label:null,hideLabelInEditMode:!1,useBigInput:!1,renderValue:function(e){return e}};var ir=rr,or=Object(ce.a)((function(){return{buttonsWrapper:{display:"flex"},button:{flex:"0 0 150px",marginRight:10}}})),lr=function(e){var t=e.onSave,a=e.loading,n=e.onCancel,i=e.disabled,o=e.isEditingMode,l=e.goToEditButtonText,s=e.setIsEditingMode,c=e.goToEditButtonClass,u=e.isSubmitButtonDisabled,d=Object(te.a)().t,m=or(),p={button:m.button},b=function(){return s(!1)};return o?r.a.createElement("div",{className:m.buttonsWrapper},r.a.createElement(oe.a,{buttonVariant:"primary",loading:a,onClick:function(){b(),t()},overrideClass:p,disabled:u},d("common.save")),r.a.createElement(oe.a,{buttonVariant:"secondary",onClick:function(){b(),n()},overrideClass:p},d("common.cancel"))):r.a.createElement("div",{className:m.buttonsWrapper},r.a.createElement(oe.a,{key:"go-to-edit",buttonVariant:"secondary",disabled:i,onClick:function(){return s(!0)},overrideClass:{button:Bt()(p.button,c)}},l))};lr.defaultProps={onSave:function(){},onCancel:function(){},loading:!1,disabled:!1,goToEditButtonText:"",goToEditButtonClass:"",isSubmitButtonDisabled:!1};var sr=lr,cr=function(e,t){var a=Object.keys(e).length===t.length,n=t.every((function(t){var a=t.stateKey;return t.value===e[a]}));return!a||!n},ur=function(e){var t=e.data,a=e.children,i=e.disabled,o=e.isFetchingData,l=e.onSubmitChanges,s=e.goToEditButtonText,c=e.goToEditButtonClass,u=t.reduce((function(e,t){return Object(N.a)(Object(N.a)({},e),{},Object(B.a)({},t.stateKey,t.value))}),{}),d=Object(n.useState)(!1),m=Object(K.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(u),g=Object(K.a)(f,2),y=g[0],h=g[1],v=ar(e),E=function(e,t){return h(Object(N.a)(Object(N.a)({},y),{},Object(B.a)({},e,t)))},O=function(){var e=Object(G.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(y);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){cr(y,t)&&h(u)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,null,t.map((function(e){var t=e.label,a=e.stateKey,n=e.placeholder,i=e.editingInfo,o=e.renderEditableComponent,l=e.hideIfNoValue,s=e.hideLabelInEditMode,c=e.useBigInput,u=e.renderValue,d=!!(a&&p&&E),m=y[a];return l&&""===m&&!d?null:r.a.createElement("div",{className:v.dataRow,key:t},r.a.createElement(ir,{label:t,stateKey:a,onChange:E,value:y[a],placeholder:n,editingInfo:i,renderEditableComponent:o,renderValue:u,isEditingMode:d,hideLabelInEditMode:s,useBigInput:c}))}))),r.a.createElement("div",{className:v.sectionFooter},a,r.a.createElement(sr,{onSave:O,loading:o,disabled:i,onCancel:function(){return h(u)},isEditingMode:p,setIsEditingMode:b,goToEditButtonText:s,goToEditButtonClass:c})))};ur.defaultProps={data:[],children:null,onSubmitChanges:function(){},goToEditButtonText:"",isFetchingData:!1,goToEditButtonClass:"",disabled:!1};var dr=ur,mr=Object(ce.a)((function(){return{sectionContent:{padding:0},link:{marginBottom:21},resetAnchorStyles:{textDecoration:"none"}}})),pr=function(e){var t=e.repo,a=e.siteId,n=e.buildSettings,i=$()(n,"buildCommand","")||"",o=$()(n,"baseDirectoryPath","")||"",l=$()(n,"publishDirectoryPath","")||"",s=Object(te.a)().t,c=mr(e),u=Object(fe.a)(Ka.d,{client:Y.b}),d=Object(K.a)(u,1)[0],m=function(){var e=Object(G.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.ga("send","event",L.d.SITES,"Edit deploy settings","".concat(t.buildCmd,", ").concat(t.publishDir)),window.analytics.track("Edit deploy settings",{siteId:a,buildCmd:t.buildCmd,publishDir:t.publishDir,teamId:E.s.getAccountIdFromUrl()}),e.prev=2,e.next=5,d({variables:{input:Object(N.a)(Object(N.a)(Object(N.a)({siteId:a},t.buildCmd!==i&&{buildCommand:t.buildCmd}),t.baseDir!==o&&{baseDirectoryPath:t.baseDir}),t.publishDir!==l&&{publishDirectoryPath:t.publishDir})},optimisticResponse:{__typename:"Mutation",editBuildSettings:{id:a,buildSettings:Object(N.a)(Object(N.a)(Object(N.a)(Object(N.a)({},n),t.buildCmd!==i&&{buildCommand:t.buildCmd}),t.baseDir!==o&&{baseDirectoryPath:t.baseDir}),t.publishDir!==l&&{publishDirectoryPath:t.publishDir}),__typename:"Site"}}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("Error editing build settings:",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),p=[{label:s("siteSettings.deployment.buildSettings.repository"),value:t},{stateKey:"baseDir",label:s("siteSettings.deployment.buildSettings.baseDirectory"),value:o,placeholder:s("siteSettings.deployment.buildSettings.notSet"),editingInfo:s("siteSettings.deployment.buildSettings.baseDirectoryTip")},{stateKey:"buildCmd",label:s("siteSettings.deployment.buildSettings.buildCommand"),value:i},{stateKey:"publishDir",label:s("siteSettings.deployment.buildSettings.publishDirectory"),value:l}];return r.a.createElement(oa.a,{mainContent:s("siteSettings.deployment.buildSettings.title"),classes:{content:c.sectionContent}},r.a.createElement(dr,{data:p,goToEditButtonText:s("siteSettings.editSettings"),onSubmitChanges:m},r.a.createElement("a",{href:"https://docs.fleek.co/hosting/site-deployment/#configuring-the-deployment",target:"_blank",rel:"noopener noreferrer",className:c.resetAnchorStyles},r.a.createElement(Me.a,{className:c.link},s("siteSettings.deployment.buildSettings.learnMore")))))};pr.defaultProps={repo:null,siteId:null};var br=pr,fr=a(2101),gr=Object(ce.a)((function(e){return{root:{display:"flex",alignItems:"flex-start",cursor:"pointer","&:not(:last-child)":{paddingBottom:8}},description:{fontSize:12},radioBtn:{padding:0,margin:"2px 8px 0 0",color:e.palette.palette.grey2,"&$radioBtnChecked":{color:e.palette.palette.linkBlue},"& svg":{fontSize:18}},radioBtnChecked:{}}})),yr=function(e){var t=e.checked,a=e.value,n=e.onChange,i=e.title,o=e.description,l=e.id,s=gr();return r.a.createElement("label",{className:s.root,htmlFor:l},r.a.createElement(fr.a,{checked:t,onChange:function(e){return n(e.target.value)},value:a,name:"auto-build-PRs",id:l,classes:{root:s.radioBtn,checked:s.radioBtnChecked}}),r.a.createElement("div",null,r.a.createElement(Dt.a,{fontWeight:500},r.a.createElement(se.a,{variant:"body2"},i)),r.a.createElement(se.a,{className:s.description,color:"textSecondary"},o)))},hr=function(e){var t=e.value,a=e.onChange,n=Object(te.a)().t;return r.a.createElement("div",null,r.a.createElement(yr,{checked:t,value:!0,onChange:a,title:n("siteSettings.deployment.deployContexts.previewPRs.onTitle"),description:n("siteSettings.deployment.deployContexts.previewPRs.onDescription"),id:"prs-preview-on"}),r.a.createElement(yr,{checked:!t,value:!1,onChange:function(e){return a("true"===e)},title:n("siteSettings.deployment.deployContexts.previewPRs.offTitle"),description:n("siteSettings.deployment.deployContexts.previewPRs.offDescription"),id:"prs-preview-off"}))},vr=Object(ce.a)((function(){return{sectionContent:{padding:0},link:{marginBottom:21},description:{padding:"21px 20px 10px"},resetAnchorStyles:{textDecoration:"none"},alertContent:{padding:"15px 20px 0 20px"},autoPublishContainer:{padding:"0px 20px 20px"}}})),Er=function(e){var t=e.siteId,a=e.deploySettings,i=e.repository,o=i.owner,l=i.name,s=$()(a,"source.branch",""),c=$()(a,"prDeployPreviews"),u=Object(te.a)().t,d=vr(e),m=Object(fe.a)(Ka.e,{client:Y.b}),p=Object(K.a)(m,1)[0],b=Object(n.useState)(!1),f=Object(K.a)(b,2),g=f[0],y=f[1],h=Object(n.useState)(s),v=Object(K.a)(h,2),O=v[0],S=v[1],j=function(){var e=Object(G.a)(H.a.mark((function e(n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.ga("send","event",L.d.SITES,"Edit deploy branch",n.prodBranch),window.analytics.track("Edit deploy branch",{siteId:t,prodBranch:n.prodBranch,teamId:E.s.getAccountIdFromUrl()}),e.prev=2,S(n.prodBranch),e.next=6,p({variables:{input:{siteId:t,prDeployPreviews:n.prDeployPreviews,githubSource:{branch:n.prodBranch}}},optimisticResponse:{__typename:"Mutation",editDeploySettings:{id:t,deploySettings:Object(N.a)(Object(N.a)({},a),{},{source:Object(N.a)(Object(N.a)({},a.source),{},{branch:n.prodBranch}),prDeployPreviews:!!n.prDeployPreviews}),__typename:"Site"}}});case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Error editing deploy setting:",e.t0.message),y(!0),S(s);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),x=[{stateKey:"prodBranch",label:u("siteSettings.deployment.deployContexts.productionBranch"),value:O||s,renderEditableComponent:function(e,t){return r.a.createElement(Fe,{defaultBranchName:s,branch:e,setBranch:function(e){return t("prodBranch",e)},githubAccountName:o,repositoryName:l})}},{stateKey:"prDeployPreviews",label:u("siteSettings.deployment.deployContexts.previewPRs.label"),value:c,renderValue:function(e){return"boolean"===typeof e?r.a.createElement(Dt.a,{color:"text.primary"},u(e?"siteSettings.deployment.deployContexts.previewPRs.onTitle":"siteSettings.deployment.deployContexts.previewPRs.offTitle")):null},renderEditableComponent:function(e,t){return r.a.createElement(hr,{value:e,onChange:function(e){t("prDeployPreviews",e)}})}}];return r.a.createElement(oa.a,{mainContent:u("siteSettings.deployment.deployContexts.title"),classes:{content:d.sectionContent}},g&&r.a.createElement("div",{className:d.alertContent},r.a.createElement(Xa.a,{type:"error",icon:["fal","times-circle"],message:u("siteSettings.deployment.deployContexts.error")})),r.a.createElement(se.a,{variant:"body2",className:d.description},u("siteSettings.deployment.deployContexts.subtitle")),r.a.createElement("div",{className:d.sectionFooter},r.a.createElement(dr,{data:x,goToEditButtonText:u("siteSettings.editSettings"),onSubmitChanges:j},r.a.createElement("a",{href:"https://docs.fleek.co/hosting/site-deployment/#previewing-a-deployment",target:"_blank",rel:"noopener noreferrer",className:d.resetAnchorStyles},r.a.createElement(Me.a,{className:d.link},u("siteSettings.deployment.deployContexts.learnMore"))))))},Or=Object(ce.a)((function(e){return{cardContent:{padding:0},paragraph:{display:"inline-block",width:630,fontSize:15,color:e.palette.palette.black,lineHeight:"19px",margin:"20px 20px 5px 20px"}}})),Sr=Object(ce.a)((function(e){return{footer:{margin:"10px 20px 20px 20px"},link:{color:e.palette.palette.primaryBlue,display:"inline-flex",textDecoration:"none"},docs:{padding:0,color:e.palette.palette.primaryBlue,marginRight:5},arrowIcon:{display:"flex",fontSize:15,marginLeft:5,color:e.palette.palette.primaryBlue},linkStyleReset:{textDecoration:"none"},button:{marginTop:10}}})),jr=function(e){var t=e.siteId,a=e.domainsLength,n=e.hasWaitingDomain,i=Sr(),o=Object(S.j)(),l=Object(te.a)().t,s=a>1&&n,c=a<=1||s,u=E.s.buildUrl(null,"/sites/".concat(o.params.siteSlug,"/add-domain")),d=l(s?"sites.tabs.settings.customDomains.learnAboutRedirect":"sites.tabs.settings.customDomains.learnAboutCustomDomains"),m=s?"https://docs.fleek.co/hosting/site-deployment/#monitoring-a-deployment":"https://docs.fleek.co/hosting/domain-management/#custom-domains";return r.a.createElement("div",{className:i.footer},c&&r.a.createElement("div",null,r.a.createElement("a",{href:m,className:i.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(se.a,{variant:"body2",className:i.docs},d),r.a.createElement(le.default,{className:i.arrowIcon,icon:["fal","long-arrow-right"],size:"inherit"}))),r.a.createElement("div",{className:i.button},r.a.createElement(O.b,{to:u,className:i.linkStyleReset},r.a.createElement(oe.a,{buttonVariant:"primary",className:i.button,onClick:function(){window.ga("send","event",L.d.SITES,"Add custom domain from domain management settings"),window.analytics.track("Add custom domain from domain management settings",{siteId:t,teamId:E.s.getAccountIdFromUrl()})}},l("sites.tabs.settings.customDomains.buttonText")))))},xr=a(2110),kr=a(2111),wr=Object(ce.a)((function(e){return{domainInfo:{flex:1,display:"inherit",alignItems:"flex-start",flexDirection:"column",justifyContent:"center"},domainText:{"&:before":{content:"''",display:"inline-block",width:6,height:6,marginRight:7,marginLeft:1,borderRadius:"100%"}},activeText:{color:e.palette.palette.primaryBlue,textDecoration:"none","&:before":{backgroundColor:e.palette.palette.primaryBlue},"&:hover":{textDecoration:"underline"}},inactiveText:{"&:before":{backgroundColor:e.palette.palette.grey2},color:e.palette.palette.grey2},typeText:{fontSize:13,marginLeft:15,color:e.palette.palette.grey2}}})),Cr=function(e){var t=e.type,a=e.domain,n=e.status,i=e.siteId,o=wr(),l=Object(te.a)().t;return r.a.createElement("div",{className:o.domainInfo},n===L.b.PROPAGATED?r.a.createElement(se.a,{variant:"body2"},r.a.createElement("a",{href:"https://".concat(a),target:"_blank",rel:"noopener noreferrer",className:Bt()(o.domainText,o.activeText),onClick:function(){t!==L.c.DEFAULT_SUBDOMAIN&&window.analytics.track("Propagated added custom domain click",{siteId:i,domain:a,teamId:E.s.getAccountIdFromUrl()})}},a)):r.a.createElement(se.a,{variant:"body2",className:Bt()(o.domainText,o.inactiveText)},a),r.a.createElement(se.a,{className:o.typeText},l("sites.tabs.settings.customDomains.types.".concat(t),"")))},Nr=Object(ce.a)((function(e){return{domainStatus:{flex:1,display:"inherit",alignItems:"center",justifyContent:"flex-end","& > *":{marginRight:10}},DNSBox:{backgroundColor:e.palette.palette.fadeOutBlue,borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center",padding:"2px 10px",textDecoration:"none"},DNSText:{color:e.palette.palette.primaryBlue,fontSize:13},waiting:{color:e.palette.palette.grey2,fontSize:15},check:{color:e.palette.palette.black,fontSize:15},warningWrapper:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",outline:"none","&:hover":{textDecoration:"underline"}},warningIcon:{marginRight:6,fontSize:16,color:e.palette.palette.yellowPending,position:"relative",top:2}}})),Ir=function(e){return"https://ipfs.io/ipns/".concat(e.replace("www.",""))},Dr=function(e){var t=e.domain,a=e.status,n=e.isTerminalDNS,i=e.checkDNSOnClick,o=e.dnsLinkVerified,l=e.dnsShouldUpgrade,s=Nr(),c=Object(te.a)().t,u=function(){return o?r.a.createElement("a",{href:Ir(t),target:"_blank",rel:"noopener noreferrer",className:s.DNSBox},r.a.createElement(se.a,{className:s.DNSText},c("sites.tabs.settings.customDomains.linkDNS"))):null};return l?r.a.createElement("div",{className:s.domainStatus},r.a.createElement("div",{tabIndex:0,role:"button",className:s.warningWrapper,onClick:function(){return i(!0)},onKeyDown:function(){return i(!0)}},r.a.createElement("div",{className:s.warningIcon},r.a.createElement(le.default,{icon:["fas","exclamation-triangle"],fontSize:"inherit",color:"inherit"})),r.a.createElement(se.a,{className:s.check},c("sites.tabs.settings.customDomains.upgradeDNS"))),u()):a===L.b.PROPAGATED&&n?r.a.createElement("div",{className:s.domainStatus},r.a.createElement("a",{href:"https://".concat(t),target:"_blank",rel:"noopener noreferrer",className:s.DNSBox},r.a.createElement(se.a,{className:s.DNSText},c("sites.tabs.settings.customDomains.terminalDNS")))):a===L.b.PENDING_PROPAGATION&&n?r.a.createElement("div",{className:s.domainStatus},r.a.createElement(se.a,{className:s.waiting},c("sites.tabs.settings.customDomains.waitingOnDNS")),u()):a===L.b.ERROR||a===L.b.PENDING_PROPAGATION&&!n?r.a.createElement("div",{className:s.domainStatus},r.a.createElement("div",{tabIndex:0,role:"button",className:s.warningWrapper,onClick:i,onKeyDown:i},r.a.createElement("div",{className:s.warningIcon},r.a.createElement(le.default,{icon:["fas","exclamation-triangle"],fontSize:"inherit",color:"inherit"})),r.a.createElement(se.a,{className:s.check},c("sites.tabs.settings.customDomains.checkDNS"))),u()):r.a.createElement("div",{className:s.domainStatus},u())},Tr=a(238),Ar=a.n(Tr),Br=a(1144),Pr=a(2121),Mr=a(87),Rr=Object(ce.a)((function(e){return{optionsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",minWidth:27},domainOption:{padding:0,fontSize:12,cursor:"pointer",color:e.palette.error.main},spinner:{marginLeft:10,"& > div":{display:"flex"},"& > div > div":{width:"12px !important",height:"12px !important",color:e.palette.error.main}},buttonBase:{flex:1,justifyContent:"flex-start",padding:"3px 0"},remove:{display:"flex",color:e.palette.palette.errorRed},linkText:{color:e.palette.palette.linkBlue},resetLinkStyles:{padding:"3px 0",textDecoration:"none"},iconButtonRoot:{width:5,padding:0,"&:hover":{backgroundColor:"transparent"}}}})),Lr=function(e){var t=e.domain,a=e.siteId,n=e.domainId,i=e.dnsLinkVerified,o=e.defaultDomain,l=e.isTerminalDNS,s=e.dnsShouldUpgrade,c=e.checkDNSOnClick,u=Rr(),d=Object(S.j)(),m=Object(te.a)().t,p=Object(g.b)(),b=r.a.useState({isLoading:!1,isOptionsOpen:!1}),f=Object(K.a)(b,2),y=f[0],h=f[1],v=Object(fe.a)(Mr.i,{client:Y.b,update:function(e){try{var t=e.readQuery({query:La.c,variables:{slug:d.params.siteSlug}}),a=t.getSiteBySlug.domains.filter((function(e){return e.domainId!==n}));e.writeQuery({query:La.c,variables:{slug:d.params.siteSlug},data:Object(N.a)(Object(N.a)({},t),{},{getSiteBySlug:Object(N.a)(Object(N.a)({},t.getSiteBySlug),{},{domains:a})})})}catch(r){console.error("Error when trying to update GET_SITE_BY_SLUG query: ",r.message)}}}),E=Object(K.a)(v,1)[0],O=function(){var e=Object(G.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(Object(N.a)(Object(N.a)({},y),{},{isLoading:!0})),e.prev=2,e.next=5,E({variables:{input:{siteId:a,domainId:n}}});case 5:xa.c.success(m("sites.tabs.settings.customDomains.success"),{autoClose:6e3}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Error when trying to remove a custom domain: ",e.t0.message),xa.c.error(m("sites.tabs.settings.customDomains.error"),{autoClose:6e3});case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){return p(Object(I.p)(I.i,{siteId:a,domainId:n,currentDomain:t,domain:o}))};return r.a.createElement("div",{className:u.optionsContainer},!l&&r.a.createElement(Pr.a,{menuId:"menu-dropdown-domain-options",trigger:r.a.createElement(Br.a,{disableRipple:!0,disableFocusRipple:!0,classes:{root:u.iconButtonRoot}},r.a.createElement(Ar.a,null))},r.a.createElement(kr.a,null,s?r.a.createElement(_e.a,{type:"button",className:u.buttonBase,onClick:function(){return c(!0)}},r.a.createElement(se.a,{variant:"subtitle1"},m("sites.tabs.settings.customDomains.upgradeDnsLink"))):i?r.a.createElement("a",{href:Ir(t),target:"_blank",rel:"noopener noreferrer",className:u.resetLinkStyles},r.a.createElement(se.a,{variant:"subtitle1",className:u.linkText},m("sites.tabs.settings.customDomains.dnsLinkVerified"))):r.a.createElement(_e.a,{type:"button",className:u.buttonBase,onClick:j},r.a.createElement(se.a,{variant:"subtitle1"},m("sites.tabs.settings.customDomains.dnsLink")))),r.a.createElement(kr.a,{className:u.domainOption},r.a.createElement(_e.a,{type:"button",className:u.buttonBase,onClick:O},r.a.createElement(se.a,{variant:"subtitle1",className:u.remove},m("sites.tabs.settings.customDomains.remove"),y.isLoading&&r.a.createElement("span",{className:u.spinner},r.a.createElement(Ve.a,{positioning:"inline"})))))))};Lr.defaultProps={domain:"",defaultDomain:null};var Ur=Lr,Fr=Object(ce.a)({domain:{minHeight:60,display:"flex",padding:"10px 20px"}}),_r=function(e){var t=e.siteId,a=e.domain,n=e.checkDNSOnClick,i=e.defaultDomain,o=Fr(),l=/\.tmnl\.co$/.test(a.domain)||/\.on\.fleek\.co/.test(a.domain)||!!a.stripeSessionId,s=$()(a,"domain","").split(".").length>2,c=a.dnsLinkStatus===L.b.PROPAGATED,u=a.proxyType!==L.j.BUNNY&&a.type!==L.c.DEFAULT_SUBDOMAIN;return r.a.createElement(kr.a,{className:o.domain},r.a.createElement(Cr,{siteId:t,type:a.type,domain:a.domain,status:a.status,isTerminalDNS:l}),r.a.createElement(Dr,{dnsShouldUpgrade:u,dnsLinkVerified:c,domain:a.domain,status:a.status,isTerminalDNS:l,checkDNSOnClick:function(){n(a)}}),r.a.createElement(Ur,{siteId:t,domain:a.domain,domainId:a.domainId,dnsLinkVerified:c,isTerminalDNS:l,defaultDomain:i,isSubDomain:s,dnsShouldUpgrade:u,checkDNSOnClick:function(){n(a)}}))};_r.defaultProps={defaultDomain:null};var Wr=_r,Vr=Object(ce.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},domainWrapper:{display:"flex",width:"100%",justifyContent:"space-between",margin:"5px 20px 5px 20px",padding:"10px 0px 10px 0px"},domainStatus:{display:"flex",justifyContent:"center",alignItems:"center",paddingRight:100},domainName:{marginBottom:5}}})),zr=function(){var e=Vr();return r.a.createElement("div",{className:e.domainWrapper},r.a.createElement("div",null,r.a.createElement("div",{className:e.domainName},r.a.createElement(ht.a,{width:210,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement(ht.a,{width:122,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.domainStatus},r.a.createElement(ht.a,{width:110,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})))},Hr=function(e){var t=e.siteId,a=e.loading,n=e.domains,i=e.checkDNSOnClick;if(a)return Array(2).fill().map((function(e,t){return r.a.createElement(zr,{key:t})}));var o=n.filter((function(e){return/\.tmnl\.co$/.test(e.domain)||/\.on(-\w+)?\.fleek\.co/.test(e.domain)})),l=Object(K.a)(o,1)[0];return r.a.createElement(xr.a,{striped:!0},n.map((function(e){return r.a.createElement(Wr,{siteId:t,domain:e,key:e.domainId,checkDNSOnClick:i,defaultDomain:$()(l,"domain")})})))},Gr=function(e){var t=e.siteId,a=e.domains,n=e.loading,i=e.checkDNSOnClick,o=Or(),l=Object(te.a)().t,s=a.filter((function(e){return e.type!==L.c.HNS}));return r.a.createElement(oa.a,{mainContent:l("sites.tabs.settings.customDomains.title"),classes:{content:o.cardContent}},r.a.createElement(se.a,{className:o.paragraph},l("sites.tabs.settings.customDomains.paragraph")),r.a.createElement(Hr,{siteId:t,domains:s,loading:n,checkDNSOnClick:i}),r.a.createElement(jr,{siteId:t,domainsLength:s.length,hasWaitingDomain:!!s.find((function(e){return"waiting"===e.status}))}))};Gr.defaultProps={siteId:"",domains:[],checkDNSOnClick:function(){}};var Kr=Gr,qr=Object(ce.a)((function(){return{sectionContent:{padding:0},link:{marginBottom:21},description:{padding:"21px 20px 10px"},resetAnchorStyles:{textDecoration:"none"},alertContent:{padding:"15px 20px 0 20px"},dockerFirstLine:{marginBottom:3}}})),$r=function(e){var t=e.siteId,a=e.buildSettings,i=$()(a,"dockerImage","")||"",o=Object(te.a)().t,l=qr(e),s=Object(fe.a)(Ka.d,{client:Y.b}),c=Object(K.a)(s,1)[0],u=Object(n.useState)(!1),d=Object(K.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(i||""),f=Object(K.a)(b,2),g=f[0],y=f[1];Object(n.useEffect)((function(){y(i)}),[i]);var h=function(){var e=Object(G.a)(H.a.mark((function e(n){var r,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dockerFile.trim(),o=""===r?null:r,e.prev=2,e.next=5,c({variables:{input:{siteId:t,dockerImage:o}},optimisticResponse:{__typename:"Mutation",editBuildSettings:{id:t,buildSettings:Object(N.a)(Object(N.a)({},a),{},{dockerImage:o}),__typename:"Site"}}});case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),y(i),p(!0),console.error("Error editing docker image:",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),v=[{stateKey:"dockerFile",placeholder:o("siteSettings.deployment.dockerFile.label"),label:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.dockerFirstLine},o("siteSettings.deployment.dockerFile.labelFirstLine")),r.a.createElement("div",null,o("siteSettings.deployment.dockerFile.labelSecondLine"))),value:g||"",hideIfNoValue:!0,hideLabelInEditMode:!0,useBigInput:!0}];return r.a.createElement(oa.a,{mainContent:o("siteSettings.deployment.dockerFile.title"),classes:{content:l.sectionContent}},m&&r.a.createElement("div",{className:l.alertContent},r.a.createElement(Xa.a,{type:"error",icon:["fal","times-circle"],message:o("siteSettings.deployment.dockerFile.error")})),r.a.createElement(se.a,{variant:"body2",className:l.description},o("siteSettings.deployment.dockerFile.subtitle")),r.a.createElement("div",{className:l.sectionFooter},r.a.createElement(dr,{data:v,goToEditButtonText:o("siteSettings.editSettings"),onSubmitChanges:h},r.a.createElement("a",{href:"https://docs.fleek.co/hosting/site-deployment/#configuring-the-deployment",target:"_blank",rel:"noopener noreferrer",className:l.resetAnchorStyles},r.a.createElement(Me.a,{className:l.link},o("siteSettings.deployment.dockerFile.learnMore"))))))},Yr=a(474),Qr=a.n(Yr),Zr=Object(ce.a)((function(){return{sectionContent:{padding:0},link:{marginBottom:21},description:{padding:"21px 20px 10px"},resetAnchorStyles:{textDecoration:"none"},alertContent:{padding:"15px 20px 0 20px"},dataWrapper:{padding:"13px 20px"},envVarRow:{display:"flex"},sectionFooter:{padding:function(e){var t=e.envVars;return 0===t.length||t.length%2?"7px 20px 20px":20}}}})),Jr=function(e){var t=e.siteId,a=e.buildSettings,i=$()(a,"environmentVariables",[]),o=Object(n.useState)([]),l=Object(K.a)(o,2),s=l[0],c=l[1],u=Object(n.useState)(!1),d=Object(K.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(!1),f=Object(K.a)(b,2),g=f[0],y=f[1],h=Object(te.a)().t,v=Zr({envVars:i}),E=Object(fe.a)(Ka.d,{client:Y.b}),O=Object(K.a)(E,1)[0],S=function(){var e=Object(G.a)(H.a.mark((function e(){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!1),n=s.filter((function(e){return!!e.name})).map(Qr()(["name","value"])),e.next=5,O({variables:{input:{siteId:t,environmentVariables:n}},optimisticResponse:{__typename:"Mutation",editBuildSettings:{id:t,buildSettings:Object(N.a)(Object(N.a)({},a),{},{environmentVariables:n.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{__typename:"EnvironmentVariable"})}))}),__typename:"Site"}}});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),y(!0),console.error("Error editing environment variables:",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){cr(i.map(Qr()(["name","value"])),s.map(Qr()(["name","value"])))&&c(i)}),[i]);var j=s.some((function(e){return e.errorMessage}));return r.a.createElement(oa.a,{mainContent:h("siteSettings.deployment.environmentVariables.title"),classes:{content:v.sectionContent}},g&&r.a.createElement("div",{className:v.alertContent},r.a.createElement(Xa.a,{type:"error",icon:["fal","times-circle"],message:h("siteSettings.deployment.environmentVariables.error")})),r.a.createElement(se.a,{variant:"body2",className:v.description},h("siteSettings.deployment.environmentVariables.subtitle")),m?r.a.createElement("div",{className:v.dataWrapper},r.a.createElement(ut,{variables:s,onChange:c})):r.a.createElement(yt.a,null,s.map((function(e,t){var a=e.name,n=e.value;return r.a.createElement("div",{className:Bt()(v.envVarRow,v.dataWrapper),key:t},r.a.createElement(ir,{label:a,value:n,isEditingMode:!1}))}))),r.a.createElement("div",{className:v.sectionFooter},r.a.createElement("a",{href:"https://docs.fleek.co/hosting/site-deployment/#configuring-the-deployment",target:"_blank",rel:"noopener noreferrer",className:v.resetAnchorStyles},r.a.createElement(Me.a,{className:v.link},h("siteSettings.deployment.environmentVariables.learnMore"))),r.a.createElement(sr,{goToEditButtonText:h("siteSettings.editSettings"),onSave:S,onCancel:function(){return c(i)},isEditingMode:m,setIsEditingMode:p,isSubmitButtonDisabled:j})))},Xr=a(2108),ei=Object(ce.a)({buttons:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginTop:function(e){return e.error?16:0},"& > button":{margin:"0 5px"}},modal:{color:"red","& > div:focus":{outline:"none"}},message:{margin:"23px 0"},form:{"& > div:first-child > p":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},urlContainer:{top:-16,position:"relative"}}),ti=function(e){var t=e.open,a=e.onClose,n=e.siteBySlug,i=Object(S.g)(),o=Object(te.a)().t,l=r.a.useState({error:null,loading:!1,inputValue:""}),s=Object(K.a)(l,2),c=s[0],u=s[1],d=Object(fe.a)(Mr.c,{client:Y.b}),m=Object(K.a)(d,1)[0],p=ei(c),b=$()(n,"data.getSiteBySlug.slug",""),f=$()(n,"data.getSiteBySlug.id",""),g=c.loading||!c.inputValue.length||c.inputValue===b||!!c.error,y=function(){var e=Object(G.a)(H.a.mark((function e(t){var a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(Object(N.a)(Object(N.a)({},c),{},{error:null,loading:!0})),e.prev=2,e.next=5,m({errorPolicy:"all",variables:{input:{siteId:f,name:c.inputValue}}});case 5:if(a=e.sent,!(n=a.errors)){e.next=11;break}return r=Array.isArray(n)?n[0].message:n.message,u(Object(N.a)(Object(N.a)({},c),{},{loading:!1,error:r})),e.abrupt("return");case 11:i.push(E.s.buildUrl(null,"/sites/".concat(c.inputValue,"/overview"))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),u(Object(N.a)(Object(N.a)({},c),{},{loading:!1,error:e.t0.message}));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Xr.a,{open:t,maxWidth:438,onClose:a,className:p.modal,title:o("modals.changeSiteName.title")},r.a.createElement(se.a,{variant:"body2",color:"textPrimary",className:p.message},o("modals.changeSiteName.message")),r.a.createElement("form",{id:"changeSiteNameForm",className:p.form,onSubmit:y},r.a.createElement(Pe.a,{error:!!c.error,value:c.inputValue,errorMessage:c.error,label:o("modals.changeSiteName.siteNameInput"),onChange:function(e){u(Object(N.a)(Object(N.a)({},c),{},{error:null,inputValue:e.target.value}))}}),!c.error&&r.a.createElement("div",{className:p.urlContainer},r.a.createElement(se.a,{variant:"subtitle2",color:"textSecondary"},r.a.createElement("span",null,"https://"),r.a.createElement(se.a,{component:"span",variant:"subtitle2"},c.inputValue||b),r.a.createElement("span",null,Object(Z.f)()))),r.a.createElement("div",{className:p.buttons},r.a.createElement(oe.a,{onClick:a,buttonVariant:"secondary",disabled:c.loading},o("common.cancel")),r.a.createElement(oe.a,{type:"submit",form:"changeSiteNameForm",buttonVariant:"primary",loading:c.loading,disabled:g},o("common.confirm")))))};ti.defaultProps={open:!1};var ai=ti,ni=Object(ce.a)((function(){return{sectionContent:{padding:0,maxWidth:715,"& li":{padding:"0px 20px"}},textContainer:{display:"flex",padding:10,"& > p:first-child":{width:"30%"},"& > p:last-child":{width:"70%"}},secondColumn:{fontWeight:500},buttonContainer:{padding:"10px 30px 22px 30px"}}})),ri=function(e){var t=e.i18n,a=e.siteBySlug,n=ni(),i=Object(te.a)().t,o=r.a.useState(!1),l=Object(K.a)(o,2),s=l[0],c=l[1],u=$()(a,"data.getSiteBySlug.publishedDeploy.ipfsHash"),d=Object(fe.b)(Q.c,{client:Y.b,fetchPolicy:"cache-and-network",skip:!u,variables:{hash:u?new _a.a(u).toV1().toString():u}}).data,m=er({t:i,siteBySlug:a,dealData:d});return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(ai,{open:!0,siteBySlug:a,onClose:function(){return c(!1)}}),r.a.createElement(oa.a,{mainContent:t.title,classes:{content:n.sectionContent}},r.a.createElement(yt.a,null,Object.entries(m).map((function(e){var t=Object(K.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",{key:a,className:n.textContainer},r.a.createElement(se.a,{variant:"body2"},"".concat(i("sites.overview.".concat(a)),":")),r.a.createElement(se.a,{noWrap:!0,variant:"body2",className:n.secondColumn},o))}))),r.a.createElement("div",{className:n.buttonContainer},r.a.createElement(oe.a,{buttonVariant:"secondary",onClick:function(){return c(!0)}},i("siteSettings.general.siteDetails.changeName")))))},ii=Object(ce.a)((function(){return{sectionContent:{display:"flex",flexDirection:"column",padding:"25px 30px"},button:{maxWidth:192,marginTop:15}}})),oi=function(e){var t=e.i18n,a=e.onDeleteSite,n=ii();return r.a.createElement(oa.a,{mainContent:t.title,classes:{content:n.sectionContent}},r.a.createElement(se.a,{variant:"body2"},t.content),r.a.createElement(oe.a,{overrideClass:{button:n.button},buttonVariant:"important",onClick:a},r.a.createElement(se.a,{variant:"body2"},t.deleteSite)))},li=Object(ce.a)((function(){return{sectionContent:{padding:0},link:{marginBottom:21},description:{padding:"21px 20px 10px"},resetAnchorStyles:{textDecoration:"none"},alertContent:{padding:"15px 20px 0 20px"}}})),si=function(e){var t=e.siteId,a=e.deploySettings,i=$()(a,"dfinityUseProxy"),o=Object(te.a)().t,l=li(e),s=Object(fe.a)(Ka.e,{client:Y.b}),c=Object(K.a)(s,1)[0],u=Object(n.useState)(!1),d=Object(K.a)(u,2),m=d[0],p=d[1],b=function(){var e=Object(G.a)(H.a.mark((function e(n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n.dfinityUseProxy){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,c({variables:{input:{siteId:t,dfinityUseProxy:n.dfinityUseProxy}},optimisticResponse:{__typename:"Mutation",editDeploySettings:{id:t,deploySettings:Object(N.a)(Object(N.a)({},a),{},{dfinityUseProxy:!!n.dfinityUseProxy,__typename:"DeploySettings"}),__typename:"Site"}}});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("Error editing deploy setting:",e.t0.message),p(!0);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),f=[{stateKey:"dfinityUseProxy",label:o("siteSettings.deployment.useProxy.label"),value:i,renderValue:function(e){return r.a.createElement(Dt.a,{color:"text.primary"},o(e?"siteSettings.deployment.useProxy.useProxyOption":"siteSettings.deployment.useProxy.useServiceWorkerOption"))},renderEditableComponent:function(e,t){return r.a.createElement(Xe.a,{value:e,onChange:function(e){t("dfinityUseProxy",e)}})}}];return r.a.createElement(oa.a,{mainContent:o("siteSettings.deployment.useProxy.title"),classes:{content:l.sectionContent}},m&&r.a.createElement("div",{className:l.alertContent},r.a.createElement(Xa.a,{type:"error",icon:["fal","times-circle"],message:o("siteSettings.deployment.useProxy.error")})),r.a.createElement(se.a,{variant:"body2",className:l.description},o("siteSettings.deployment.useProxy.subtitle")),r.a.createElement("div",{className:l.sectionFooter},r.a.createElement(dr,{data:f,goToEditButtonText:o("siteSettings.editSettings"),onSubmitChanges:b},r.a.createElement("a",{href:"https://docs.fleek.co/dfinity-hosting/site-deployment/#canister-proxy",target:"_blank",rel:"noopener noreferrer",className:l.resetAnchorStyles},r.a.createElement(Me.a,{className:l.link},o("siteSettings.deployment.useProxy.learnMore"))))))},ci=Object(ce.a)((function(){return{header:{padding:"5px 0 16px 0"},headerTitle:{fontWeight:500},spaceBetweenSections:{margin:0,border:"none",height:15}}})),ui=function(e){var t=e.siteBySlug,a=ci(e),n=Object(te.a)().t,i=$()(t,"data.getSiteBySlug.id",""),o=$()(t,"data.getSiteBySlug.platform",""),l=$()(t,"data.getSiteBySlug.buildSettings",{}),s=$()(t,"data.getSiteBySlug.deploySettings",{});return r.a.createElement("div",{id:"test-sites-continuos-deployment"},r.a.createElement(Sa.Element,{name:da.CONTINUOUS_DEPLOYMENT}),r.a.createElement("div",{className:a.header},r.a.createElement(se.a,{variant:"body1",className:a.headerTitle},n("siteSettings.sectionTitles.continuousDeployment")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},n("siteSettings.deployment.subtitle"))),r.a.createElement(br,{siteId:i,repo:$()(s,"source.url","")||"",buildSettings:l}),r.a.createElement("hr",{className:a.spaceBetweenSections}),r.a.createElement(Er,{siteId:i,deploySettings:s,repository:$()(t,"data.getSiteBySlug.latestDeploy.repository",{})}),r.a.createElement("hr",{className:a.spaceBetweenSections}),r.a.createElement(Sa.Element,{name:da.ADVANCED_BUILD_SETTINGS}),r.a.createElement("div",{className:a.header},r.a.createElement(se.a,{variant:"body1",className:a.headerTitle},n("siteSettings.deployment.advancedBuildSettings.title")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},n("siteSettings.deployment.advancedBuildSettings.subtitle"))),r.a.createElement(Jr,{siteId:i,buildSettings:l}),r.a.createElement("hr",{className:a.spaceBetweenSections}),r.a.createElement($r,{siteId:i,buildSettings:l}),"dfinity"===o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",{className:a.spaceBetweenSections}),r.a.createElement(si,{siteId:i,deploySettings:s})))};ui.defaultProps={siteBySlug:{loading:!0,data:null,error:null}};var di=ui,mi=a(165),pi=a.n(mi),bi=a(2099),fi=function(e){return{domains:{title:e("sites.tabs.settings.domains.title"),paragraph:e("sites.tabs.settings.domains.paragraph")},customDomains:{boxContent:{title:e("sites.tabs.settings.customDomains.title"),paragraph:e("sites.tabs.settings.customDomains.paragraph"),buttonText:e("sites.tabs.settings.customDomains.buttonText"),learnAboutCustomDomains:e("sites.tabs.settings.customDomains.learnAboutCustomDomains"),learnAboutRedirect:e("sites.tabs.settings.customDomains.learnAboutRedirect"),waitingOnDNS:e("sites.tabs.settings.customDomains.waitingOnDNS"),checkDNS:e("sites.tabs.settings.customDomains.checkDNS"),terminalDNS:e("sites.tabs.settings.customDomains.terminalDNS")},defaultSubdomain:e("sites.tabs.settings.customDomains.defaultSubdomain"),primaryDomain:e("sites.tabs.settings.customDomains.primaryDomain"),redirectsAutomatically:e("sites.tabs.settings.customDomains.redirectsAutomatically")},ens:{title:e("sites.tabs.settings.ens.title"),paragraph:e("sites.tabs.settings.ens.paragraph")},http:{title:e("sites.tabs.settings.http.title"),paragraph:e("sites.tabs.settings.http.paragraph")},ssl:{title:e("sites.tabs.settings.ssl.title"),errorParagraph:e("sites.tabs.settings.ssl.errorParagraph"),buttonText:e("sites.tabs.settings.ssl.buttonText"),errorlink:e("sites.tabs.settings.ssl.errorlink"),error:e("sites.tabs.settings.ssl.error"),waiting:e("sites.tabs.settings.ssl.waiting"),waitingParagraph:e("sites.tabs.settings.ssl.waitingParagraph"),httpEnabled:e("sites.tabs.settings.ssl.httpEnabled"),certificate:e("sites.tabs.settings.ssl.certificate"),domains:e("sites.tabs.settings.ssl.domains"),expires:e("sites.tabs.settings.ssl.expires"),created:e("sites.tabs.settings.ssl.created"),notDeployed:e("sites.tabs.settings.ssl.notDeployed"),notDeployedParagraph:e("sites.tabs.settings.ssl.notDeployedParagraph")},hns:{title:e("sites.tabs.settings.hns.title"),paragraph:e("sites.tabs.settings.hns.paragraph"),description:e("sites.tab.settings.hns.description")}}},gi=Object(ce.a)((function(e){return{titleWrapper:{marginBottom:13},paragraph:{color:e.palette.palette.grey2,fontSize:15},sectionWrapper:{marginBottom:30},comingSoon:{color:e.palette.palette.yellowPending,marginLeft:9},pollingMessage:{marginBottom:10}}})),yi=function(e,t){var a=$()(e,"type","CLOUDFLARE"),n=function(e){var t="waiting";return e&&(t="success"),$()(e,"error")&&(t="error"),t}(e),r=$()(e,"error"),i=$()(e,"createdAt"),o=Va()(i).format("MMM DD, YYYY"),l=$()(e,"expiresAt"),s=Va()(l).format("MMM DD, YYYY");return{certificate:t("sites.overview.ssl.".concat(a)),status:n,expires:s,errorMsg:r,created:o}},hi=a(201),vi=Object(ce.a)((function(e){return{contentWrapper:{margin:"5px 0 15px 0",padding:"10px 20px"},paragraph:{color:e.palette.palette.grey2,fontSize:15,lineHeight:"19px"},alertBoxWrapper:{marginBottom:15},resetAnchorStyles:{textDecoration:"none"},paragraphWrapper:{marginBottom:13},linkWrapper:{marginBottom:17},waitingWrapper:{marginBottom:8},waiting:{display:"inline-block",fontSize:15,color:e.palette.palette.black,fontWeight:500},gearIcon:{display:"inline-block",color:e.palette.palette.starYellow,fontSize:13,position:"relative",top:2,marginLeft:5,"& svg":{animation:"$spin 4s infinite linear"}},"@keyframes spin":{from:{transform:"rotWate(0deg)"},to:{transform:"rotate(360deg)"}},enabledTextWrapper:{display:"inline-block"},darkText:{fontSize:15,color:e.palette.palette.black,fontWeight:500,display:"inline-block"},checkIcon:{marginLeft:5,display:"inline-block",fontSize:11,color:e.palette.palette.green},tag:{width:190,fontSize:15,color:e.palette.palette.black,display:"inline-block"},infoLine:{padding:"11px 20px"},newDomain:{marginTop:5},enabledWrapper:{padding:"18px 20px 10px 20px"},cardTitledContent:{padding:0}}})),Ei=function(e){var t=e.i18n,a=e.certificate,n=e.domains,i=e.expires,o=e.created,l=vi();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.enabledWrapper},r.a.createElement("div",{className:l.enabledTextWrapper},r.a.createElement(se.a,{className:l.darkText},t.httpEnabled)),r.a.createElement("div",{className:l.checkIcon},r.a.createElement(le.default,{fontSize:"inherit",icon:["fal","check"]}))),r.a.createElement(yt.a,null,r.a.createElement("div",{className:l.infoLine},r.a.createElement(se.a,{className:l.tag},t.certificate),r.a.createElement(se.a,{className:l.darkText},a)),r.a.createElement("div",{className:l.infoLine},n.map((function(e,a){return 0===a?r.a.createElement("div",{key:e},r.a.createElement(se.a,{className:l.tag},t.domains),r.a.createElement(se.a,{className:l.darkText},e)):r.a.createElement("div",{className:l.newDomain},r.a.createElement(se.a,{className:l.tag}," "),r.a.createElement(se.a,{className:l.darkText},e))}))),r.a.createElement("div",{className:l.infoLine},r.a.createElement(se.a,{className:l.tag},t.expires),r.a.createElement(se.a,{className:l.darkText},i)),r.a.createElement("div",{className:l.infoLine},r.a.createElement(se.a,{className:l.tag},t.created),r.a.createElement(se.a,{className:l.darkText},o))))};Ei.defaultProps={i18n:{},certificate:"",domains:"",expires:"",created:""};var Oi=Ei,Si=function(e){var t=e.i18n,a=e.errorDocsLink,n=e.buttonOnClick,i=vi();return r.a.createElement("div",{className:i.contentWrapper},r.a.createElement("div",{className:i.alertBoxWrapper},r.a.createElement(Xa.a,{message:t.error,icon:["fal","info-circle"],type:"error"})),r.a.createElement("div",{className:i.paragraphWrapper},r.a.createElement(se.a,{className:i.paragraph},t.errorParagraph)),r.a.createElement("div",{className:i.linkWrapper},r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:i.resetAnchorStyles},r.a.createElement(Me.a,null,t.errorLink))),r.a.createElement(oe.a,{buttonVariant:"secondary",onClick:n},t.buttonText))};Si.defaultProps={i18n:{},buttonOnClick:function(){}};var ji=Si,xi=function(e){var t=e.i18n,a=e.buttonOnClick,n=vi();return r.a.createElement("div",{className:n.contentWrapper},r.a.createElement("div",{className:n.waitingWrapper},r.a.createElement(se.a,{className:n.waiting},t.waiting),r.a.createElement("div",{className:n.gearIcon},r.a.createElement(le.default,{fontSize:"inherit",icon:["fal","cog"]}))),r.a.createElement("div",{className:n.paragraphWrapper},r.a.createElement(se.a,{className:n.paragraph},t.waitingParagraph)),r.a.createElement(oe.a,{buttonVariant:"secondary",onClick:a},t.buttonText))};xi.defaultProps={i18n:{},buttonOnClick:function(){}};var ki=xi,wi=function(e){var t=e.i18n,a=vi();return r.a.createElement("div",{className:a.contentWrapper},r.a.createElement("div",{className:a.waitingWrapper},r.a.createElement(se.a,{className:a.waiting},t.notDeployed)),r.a.createElement(se.a,{className:a.paragraph},t.notDeployedParagraph))};wi.defaultProps={i18n:{}};var Ci={success:Oi,waiting:ki,error:ji,default:ji,not_deployed:wi},Ni=function(e){var t=e.i18n,a=e.status,n=Object(hi.a)(e,["i18n","status"]),i=vi();return r.a.createElement(oa.a,{mainContent:t.title,classes:{content:i.cardTitledContent}},function(){var e=Ci[a]||Ci.default;return r.a.createElement(e,Object.assign({i18n:t},n))}())};Ni.defaultProps={i18n:{},status:"error",buttonOnClick:function(){},certificate:"",domains:[""],expires:"",created:""};var Ii=Ni,Di=a(434),Ti={VERIFIED:"VERIFIED",NOT_VERIFED:"NOT_VERIFIED",PENDING:"PENDING_CONFIRMATION"},Ai=Object(ce.a)((function(e){return{container:{minHeight:60,display:"flex",paddingTop:10},domainStatus:{flex:1,alignItems:"center",display:"flex"},notVerifiedStatus:{display:"flex",flex:1,justifyContent:"flex-end"},verifiedStatus:{display:"flex",flex:1,justifyContent:"flex-end"},pendingChip:{marginRight:10},domainInfo:{display:"inherit",alignItems:"flex-start",flexDirection:"column",justifyContent:"center",width:325},domainLink:{"&:before":{content:"''",display:"inline-block",width:6,height:6,marginRight:7,marginLeft:1,borderRadius:"100%"},textDecoration:"none"},activeText:{cursor:"pointer",color:e.palette.palette.primaryBlue,textDecoration:"none","&:before":{backgroundColor:e.palette.palette.primaryBlue},"&:hover":{textDecoration:"underline"}},inactiveText:{"&:before":{backgroundColor:e.palette.palette.grey2},color:e.palette.palette.grey2},description:{fontSize:13,marginLeft:15,color:e.palette.palette.grey2},optionsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",minWidth:27},domainOption:{padding:0,fontSize:12,cursor:"pointer"},remove:{display:"flex",color:e.palette.error.main},spinner:{marginLeft:10,"& > div":{display:"flex"},"& > div > div":{width:"12px !important",height:"12px !important",color:e.palette.error.main}},buttonBase:{flex:1,justifyContent:"space-between",padding:"3px 0"},check:{color:e.palette.palette.black,fontSize:15},warningWrapper:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",outline:"none","&:hover":{textDecoration:"underline"}},warningIcon:{marginRight:6,fontSize:16,color:e.palette.palette.yellowPending,position:"relative",top:2},iconButtonRoot:{width:5,padding:0,"&:hover":{backgroundColor:"transparent"}}}})),Bi=function(e){var t,a=e.ensInfo,i=e.setEnsControllerOnClick,o=e.siteId,l=Ai(),s=Object(te.a)().t,c=a.domain,u=a.verificationStatus,d=Object(n.useState)(!1),m=Object(K.a)(d,2),p=m[0],b=m[1],f=Object(fe.a)(Di.a,{client:Y.b}),g=Object(K.a)(f,1)[0],y=u===Ti.ACTIVE?"https://".concat(c,"/"):null,h=function(){var e=Object(G.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),e.prev=2,e.next=5,g({variables:{input:{siteId:o}}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:b(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:l.container},r.a.createElement("div",{className:l.domainInfo},r.a.createElement(se.a,{variant:"body2"},r.a.createElement("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:Bt()(l.domainLink,(t={},Object(B.a)(t,l.activeText,u===Ti.ACTIVE),Object(B.a)(t,l.inactiveText,u!==Ti.ACTIVE),t))},c)),r.a.createElement(se.a,{className:l.description},s("sites.tabs.settings.ens.domainRow.ensDomain"))),function(){var e,t=(e={},Object(B.a)(e,Ti.NOT_VERIFED,r.a.createElement("div",{className:l.notVerifiedStatus},r.a.createElement("div",{tabIndex:0,role:"button",className:l.warningWrapper,onClick:i,onKeyDown:i},r.a.createElement("div",{className:l.warningIcon},r.a.createElement(le.default,{icon:["fas","exclamation-triangle"],fontSize:"inherit",color:"inherit"})),r.a.createElement(se.a,{className:l.check},s("sites.tabs.settings.ens.domainRow.setFleek"))))),Object(B.a)(e,Ti.PENDING,r.a.createElement("div",{className:l.verifiedStatus},r.a.createElement("div",{className:l.pendingChip},r.a.createElement(rn.a,{text:s("sites.tabs.settings.ens.domainRow.pending"),color:"yellow"})),r.a.createElement(rn.a,{text:s("sites.tabs.settings.ens.domainRow.fleekController"),color:"blue"}))),Object(B.a)(e,Ti.VERIFIED,r.a.createElement("div",{className:l.verifiedStatus},r.a.createElement(rn.a,{text:s("sites.tabs.settings.ens.domainRow.fleekController"),color:"blue"}))),e);return r.a.createElement("div",{className:l.domainStatus},t[u]||null)}(),r.a.createElement("div",{className:l.optionsContainer},r.a.createElement(Pr.a,{menuId:"menu-dropdown-ens-domain-options",trigger:r.a.createElement(Br.a,{disableRipple:!0,disableFocusRipple:!0,classes:{root:l.iconButtonRoot}},r.a.createElement(Ar.a,null))},r.a.createElement(kr.a,{className:l.domainOption},r.a.createElement(_e.a,{type:"button",className:l.buttonBase,onClick:h},r.a.createElement(se.a,{variant:"subtitle1",className:l.remove},s("sites.tabs.settings.ens.domainRow.remove"),p&&r.a.createElement("span",{className:l.spinner},r.a.createElement(Ve.a,{positioning:"inline"}))))))))},Pi=Object(ce.a)((function(e){return{resetAnchorStyles:{textDecoration:"none"},link:{marginTop:10,marginBottom:21,color:e.palette.palette.primaryBlue,textDecoration:"none"}}})),Mi=function(){var e=Pi(),t=Object(te.a)().t,a=Object(S.j)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"https://docs.fleek.co/hosting/domain-management/#ens-domains",target:"_blank",rel:"noopener noreferrer",className:e.resetAnchorStyles},r.a.createElement(Me.a,{className:e.link},t("sites.tabs.settings.ens.noDomain.learnMore"))),r.a.createElement(O.b,{to:E.s.buildUrl(null,"/sites/".concat(a.params.siteSlug,"/add-ens-domain")),className:e.resetAnchorStyles},r.a.createElement(oe.a,{buttonVariant:"primary",className:e.button},t("sites.tabs.settings.ens.noDomain.addEns"))))},Ri=Object(ce.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},domainWrapper:{display:"flex",width:"100%",justifyContent:"space-between",margin:"5px 0px 5px 0px",padding:"10px 0px 10px 0px"},domainStatus:{display:"flex",justifyContent:"center",alignItems:"center",paddingRight:60},domainName:{marginBottom:5}}})),Li=function(){var e=Ri();return r.a.createElement("div",{className:e.domainWrapper},r.a.createElement("div",null,r.a.createElement("div",{className:e.domainName},r.a.createElement(ht.a,{width:210,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement(ht.a,{width:122,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.domainStatus},r.a.createElement(ht.a,{width:110,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})))},Ui=Object(ce.a)((function(e){return{cardContent:{padding:20},paragraph:{display:"inline-block",width:666,fontSize:15,color:e.palette.palette.black,lineHeight:"19px"}}})),Fi=function(e){var t=e.ensInfo,a=e.setEnsControllerOnClick,n=e.loading,i=e.siteId,o=Object(te.a)().t,l=Ui();return r.a.createElement(oa.a,{mainContent:o("sites.tabs.settings.ens.ensBox.title"),classes:{content:l.cardContent}},r.a.createElement(se.a,{className:l.paragraph},o("sites.tabs.settings.ens.ensBox.description")),n?r.a.createElement(Li,null):t?r.a.createElement(Bi,{siteId:i,ensInfo:t,setEnsControllerOnClick:a}):r.a.createElement(Mi,null))};Fi.defaultProps={ensInfo:null};var _i=Fi,Wi=Object(ce.a)((function(e){return{cardContent:{padding:0},paragraph:{display:"inline-block",width:630,fontSize:15,color:e.palette.palette.black,lineHeight:"19px",margin:"20px 20px 5px 20px"}}})),Vi=Object(ce.a)((function(e){return{footer:{margin:"10px 20px 20px 20px"},link:{color:e.palette.palette.primaryBlue,display:"inline-flex",textDecoration:"none"},docs:{padding:0,color:e.palette.palette.primaryBlue,marginRight:5},arrowIcon:{display:"flex",fontSize:15,marginLeft:5,color:e.palette.palette.primaryBlue},linkStyleReset:{textDecoration:"none"},button:{marginTop:10}}})),zi=function(e){var t=e.domainsLength,a=Vi(),n=Object(S.j)(),i=Object(te.a)().t,o=E.s.buildUrl(null,"/sites/".concat(n.params.siteSlug,"/add-hns-domain")),l=i("sites.tabs.settings.hns.learnAboutHNSDomains"),s=t<=1;return r.a.createElement("div",{className:a.footer},s&&r.a.createElement("div",null,r.a.createElement("a",{href:"https://docs.fleek.co/hosting/domain-management/#hns-domains",className:a.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(se.a,{variant:"body2",className:a.docs},l),r.a.createElement(le.default,{className:a.arrowIcon,icon:["fal","long-arrow-right"],size:"inherit"}))),r.a.createElement("div",{className:a.button},r.a.createElement(O.b,{to:o,className:a.linkStyleReset},r.a.createElement(oe.a,{buttonVariant:"primary",className:a.button},i("sites.tabs.settings.hns.buttonText")))))},Hi=Object(ce.a)((function(e){return{domainInfo:{flex:1,display:"inherit",alignItems:"flex-start",flexDirection:"column",justifyContent:"center"},domainText:{"&:before":{content:"''",display:"inline-block",width:6,height:6,marginRight:7,marginLeft:1,borderRadius:"100%"}},activeText:{color:e.palette.palette.primaryBlue,textDecoration:"none","&:before":{backgroundColor:e.palette.palette.primaryBlue},"&:hover":{textDecoration:"underline"}},inactiveText:{"&:before":{backgroundColor:e.palette.palette.grey2},color:e.palette.palette.grey2},typeText:{fontSize:13,marginLeft:15,color:e.palette.palette.grey2}}})),Gi=function(e){var t=e.domain,a=e.status,n=Hi(),i=Object(te.a)().t;return r.a.createElement("div",{className:n.domainInfo},a===L.b.PROPAGATED?r.a.createElement(se.a,{variant:"body2"},r.a.createElement("a",{href:"http://".concat(t),target:"_blank",rel:"noopener noreferrer",className:Bt()(n.domainText,n.activeText)},t)):r.a.createElement(se.a,{variant:"body2",className:Bt()(n.domainText,n.inactiveText)},t),r.a.createElement(se.a,{className:n.typeText},i("sites.tabs.settings.hns.hnsDomain")))},Ki=Object(ce.a)((function(e){return{domainStatus:{flex:1,display:"inherit",alignItems:"center",justifyContent:"flex-end","& > *":{marginRight:10}},DNSBox:{backgroundColor:e.palette.palette.fadeOutBlue,borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center",padding:"2px 10px",textDecoration:"none"},DNSText:{color:e.palette.palette.primaryBlue,fontSize:13},waiting:{color:e.palette.palette.grey2,fontSize:15},check:{color:e.palette.palette.black,fontSize:15},warningWrapper:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",outline:"none","&:hover":{textDecoration:"underline"}},warningIcon:{marginRight:6,fontSize:16,color:e.palette.palette.yellowPending,position:"relative",top:2}}})),qi=function(e){var t=e.status,a=e.checkHNSOnClick,n=Ki(),i=Object(te.a)().t;return t===L.b.ERROR||t===L.b.PENDING_PROPAGATION?r.a.createElement("div",{className:n.domainStatus},r.a.createElement("div",{tabIndex:0,role:"button",className:n.warningWrapper,onClick:a,onKeyDown:a},r.a.createElement("div",{className:n.warningIcon},r.a.createElement(le.default,{icon:["fas","exclamation-triangle"],fontSize:"inherit",color:"inherit"})),r.a.createElement(se.a,{className:n.check},i("sites.tabs.settings.hns.checkHNS")))):null},$i=Object(ce.a)((function(e){return{optionsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",minWidth:27},domainOption:{padding:0,fontSize:12,cursor:"pointer",color:e.palette.error.main},spinner:{marginLeft:10,"& > div":{display:"flex"},"& > div > div":{width:"12px !important",height:"12px !important",color:e.palette.error.main}},buttonBase:{flex:1,justifyContent:"flex-start",padding:"3px 0"},remove:{display:"flex",color:e.palette.palette.errorRed},linkText:{color:e.palette.palette.linkBlue},resetLinkStyles:{padding:"3px 0",textDecoration:"none"},iconButtonRoot:{width:5,padding:0,"&:hover":{backgroundColor:"transparent"}}}})),Yi=function(e){var t=e.siteId,a=e.domainId,n=$i(),i=Object(te.a)().t,o=Object(S.j)(),l=r.a.useState({isLoading:!1,isOptionsOpen:!1}),s=Object(K.a)(l,2),c=s[0],u=s[1],d=Object(fe.a)(Mr.j,{client:Y.b,update:function(e){try{var t=e.readQuery({query:La.c,variables:{slug:o.params.siteSlug}}),n=t.getSiteBySlug.domains.filter((function(e){return e.domainId!==a}));e.writeQuery({query:La.c,variables:{slug:o.params.siteSlug},data:Object(N.a)(Object(N.a)({},t),{},{getSiteBySlug:Object(N.a)(Object(N.a)({},t.getSiteBySlug),{},{domains:n})})})}catch(r){console.error("Error when trying to update GET_SITE_BY_SLUG query: ",r.message)}}}),m=Object(K.a)(d,1)[0],p=function(){var e=Object(G.a)(H.a.mark((function e(n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),u(Object(N.a)(Object(N.a)({},c),{},{isLoading:!0})),e.prev=2,e.next=5,m({variables:{input:{siteId:t,domainId:a}}});case 5:xa.c.success(i("sites.tabs.settings.hns.success"),{autoClose:6e3}),u(Object(N.a)(Object(N.a)({},c),{},{isLoading:!1})),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error when trying to remove a handshake domain: ",e.t0.message),xa.c.error(i("sites.tabs.settings.hns.error"),{autoClose:6e3}),u(Object(N.a)(Object(N.a)({},c),{},{isLoading:!1}));case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:n.optionsContainer},r.a.createElement(Pr.a,{menuId:"menu-dropdown-domain-options",trigger:r.a.createElement(Br.a,{disableRipple:!0,disableFocusRipple:!0,classes:{root:n.iconButtonRoot}},r.a.createElement(Ar.a,null))},r.a.createElement(kr.a,{className:n.domainOption},r.a.createElement(_e.a,{type:"button",className:n.buttonBase,onClick:p},r.a.createElement(se.a,{variant:"subtitle1",className:n.remove},i("sites.tabs.settings.hns.remove"),c.isLoading&&r.a.createElement("span",{className:n.spinner},r.a.createElement(Ve.a,{positioning:"inline"})))))))},Qi=Object(ce.a)({domain:{minHeight:60,display:"flex",padding:"10px 20px"}}),Zi=function(e){var t=e.siteId,a=e.domain,n=e.checkHNSOnClick,i=Qi(),o=$()(a,"domain","").split(".").length>2;return r.a.createElement(kr.a,{className:i.domain},r.a.createElement(Gi,{domain:a.domain,status:a.status}),r.a.createElement(qi,{domain:a.domain,status:a.status,checkHNSOnClick:function(){n(a)}}),r.a.createElement(Yi,{siteId:t,domain:a.domain,domainId:a.domainId,isSubDomain:o}))},Ji=Object(ce.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},domainWrapper:{display:"flex",width:"100%",justifyContent:"space-between",margin:"5px 20px 5px 20px",padding:"10px 0px 10px 0px"},domainStatus:{display:"flex",justifyContent:"center",alignItems:"center",paddingRight:100},domainName:{marginBottom:5}}})),Xi=function(){var e=Ji();return r.a.createElement("div",{className:e.domainWrapper},r.a.createElement("div",null,r.a.createElement("div",{className:e.domainName},r.a.createElement(ht.a,{width:210,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement(ht.a,{width:122,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.domainStatus},r.a.createElement(ht.a,{width:110,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})))},eo=function(e){var t=e.siteId,a=e.loading,n=e.domains,i=e.checkHNSOnClick;return a?Array(2).fill().map((function(e,t){return r.a.createElement(Xi,{key:t})})):r.a.createElement(xr.a,{striped:!0},n.map((function(e){return r.a.createElement(Zi,{siteId:t,domain:e,key:e.domainId,checkHNSOnClick:i})})))},to=function(e){var t=e.siteId,a=e.domains,n=e.loading,i=e.checkHNSOnClick,o=Wi(),l=Object(te.a)().t,s=a.filter((function(e){return e.type===L.c.HNS}));return r.a.createElement(oa.a,{mainContent:l("sites.tabs.settings.hns.title"),classes:{content:o.cardContent}},r.a.createElement(se.a,{className:o.paragraph},l("sites.tabs.settings.hns.description")),r.a.createElement(eo,{siteId:t,domains:s,loading:n,checkHNSOnClick:i}),r.a.createElement(zi,{domainsLength:s.length}))};to.defaultProps={siteId:"",domains:[],checkHNSOnClick:function(){}};var ao,no,ro=to,io=a(1119),oo=a.n(io),lo=a(1121),so=a.n(lo),co=a(1122),uo=a.n(co),mo=a(1123),po=a.n(mo),bo=a(1124),fo=a.n(bo),go=a(177),yo=a(366),ho=a.n(yo),vo=function(e){var t=e.state,a=e.setState,n=e.t;a(Object(N.a)(Object(N.a)({},t),{},{error:{type:"error",message:n("sites.tabs.settings.ens.setControllerModal.errors.generic")}}))},Eo=function(e){var t=e.state,a=e.setState,n=e.t;a(Object(N.a)(Object(N.a)({},t),{},{error:{type:"error",message:n("sites.tabs.settings.ens.setControllerModal.errors.failedToSignMessage")}}))},Oo=function(e){var t=e.state,a=e.setState,n=e.t;a(Object(N.a)(Object(N.a)({},t),{},{error:{type:"error",message:n("sites.tabs.settings.ens.setControllerModal.errors.failedToConnect")}}))},So=function(e){var t=e.state,a=e.setState,n=e.t,r=Object(go.a)().network,i="".concat(r.charAt(0).toUpperCase()).concat(r.substring(1));a(Object(N.a)(Object(N.a)({},t),{},{error:{type:"warning",message:n("sites.tabs.settings.ens.setControllerModal.errors.wrongNetId",{network:i})}}))},jo=function(e){var t=e.state,a=e.setState,n=e.t;a(Object(N.a)(Object(N.a)({},t),{},{error:{type:"error",message:n("sites.tabs.settings.ens.setControllerModal.errors.notOwnerOfDomain")}}))},xo=function(e){var t=e.state,a=e.setState,n=e.t;a(Object(N.a)(Object(N.a)({},t),{},{error:{type:"error",message:n("sites.tabs.settings.ens.setControllerModal.errors.failedTransaction")}}))},ko=function(e){var t=e.state,a=e.setState,n=e.t;a(Object(N.a)(Object(N.a)({},t),{},{loading:!1,error:{type:"error",message:n("sites.tabs.settings.ens.setControllerModal.errors.rejectedTransaction")}}))},wo=function(){var e=Object(G.a)(H.a.mark((function e(t){var a,n,r,i,o,l,s,c,u;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.siteId,n=t.domain,r=t.state,i=t.setState,o=t.txHash,l=void 0===o?null:o,s=t.signature,c=void 0===s?null:s,u=t.verifySiteEnsDomain,e.prev=1,!l){e.next=7;break}return e.next=5,u({variables:{input:{siteId:a,domain:n,transactionHash:l}}});case 5:e.next=9;break;case 7:return e.next=9,u({variables:{input:{siteId:a,domain:n,signedData:{signature:c}}}});case 9:i(Object(N.a)(Object(N.a)({},r),{},{loading:!1,open:!1})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),vo(t),i(Object(N.a)(Object(N.a)({},r),{},{loading:!1}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),Co=[{inputs:[{internalType:"contract ENS",name:"_ens",type:"address"},{internalType:"bytes32",name:"_baseNode",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"controller",type:"address"}],name:"ControllerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"controller",type:"address"}],name:"ControllerRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"expires",type:"uint256"}],name:"NameMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"expires",type:"uint256"}],name:"NameRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"expires",type:"uint256"}],name:"NameRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"controller",type:"address"}],name:"addController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"available",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"baseNode",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"controllers",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ens",outputs:[{internalType:"contract ENS",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"nameExpires",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"reclaim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"register",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"registerOnly",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"controller",type:"address"}],name:"removeController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"renew",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"resolver",type:"address"}],name:"setResolver",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],No=[{inputs:[{internalType:"contract ENS",name:"_old",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"ttl",type:"uint64"}],name:"NewTTL",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"old",outputs:[{internalType:"contract ENS",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"owner",type:"address"}],name:"setOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setRecord",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"resolver",type:"address"}],name:"setResolver",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"label",type:"bytes32"},{internalType:"address",name:"owner",type:"address"}],name:"setSubnodeOwner",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"label",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setSubnodeRecord",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setTTL",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"}],Io=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Do=function(){var e=Object(G.a)(H.a.mark((function e(t){var a,n,r,i,o,l,s,c,u,d,m,p,b,f,g,y,h,v;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.web3,n=t.domain,r=t.fleekControllerAddress,i=t.state,o=t.setState,l=t.ensContractRegistryAddress,s=t.ensContractStorageAddress,c=t.registrantAddress,e.prev=1,e.next=4,Io(100);case 4:return u=ho.a.normalize(n),d=u.split("."),m=d.length>2,p=d[0],b=d.slice(1,d.length).join("."),f=ho.a.hash(b),g=new a.eth.Contract(Co,l),y=new a.eth.Contract(No,s),h=g.methods.reclaim(a.utils.sha3(p),r),v=y.methods.setSubnodeOwner(f,a.utils.sha3(p),r),(m?v:h).send({from:c}).on("transactionHash",(function(e){wo(Object(N.a)(Object(N.a)({},t),{},{txHash:e}))})).on("error",(function(){ko(t)})),e.abrupt("return",null);case 19:return e.prev=19,e.t0=e.catch(1),xo(t),e.abrupt("return",o(Object(N.a)(Object(N.a)({},i),{},{loading:!1})));case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),To=function(){var e=Object(G.a)(H.a.mark((function e(t){var a,n,r,i,o,l,s,c,u,d,m,p,b,f,g,y,h,v;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state,n=t.setState,r=t.ensDomain,i=t.siteId,n(Object(N.a)(Object(N.a)({},a),{},{error:null})),o=r.registrantAddress,l=r.isFleekControlled,s=r.domain,c=r.ownerAddress,u=Object(go.a)(),d={walletconnect:{package:fo.a,options:{infuraId:u.infuraId}},torus:{package:po.a},authereum:{package:uo.a}},e.prev=5,(b=new so.a({cacheProvider:!1,providerOptions:d})).providerController.cachedProvider=null,e.next=10,b.connect();case 10:return f=e.sent,p=new oo.a(f),e.next=14,p.eth.net.getId();case 14:m=e.sent,e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(5),Oo(t),e.abrupt("return");case 21:return e.next=23,p.eth.getAccounts();case 23:if((g=e.sent)[0]===o||g[0]===c){e.next=27;break}return jo(t),e.abrupt("return");case 27:if(!l){e.next=41;break}return e.prev=28,n(Object(N.a)(Object(N.a)({},a),{},{loading:!0})),e.next=32,p.eth.personal.sign("I registered site ".concat(r.domain),g[0]);case 32:y=e.sent,wo(Object(N.a)(Object(N.a)({},t),{},{domain:s,state:a,setState:n,signature:y})),e.next=40;break;case 36:e.prev=36,e.t1=e.catch(28),Eo(t),n(Object(N.a)(Object(N.a)({},a),{},{loading:!1}));case 40:return e.abrupt("return");case 41:if(m===u.netId){e.next=44;break}return So(t),e.abrupt("return");case 44:return n(Object(N.a)(Object(N.a)({},a),{},{loading:!0})),h=null,e.prev=46,e.next=49,Y.b.query({query:Q.d,variables:{siteId:i}});case 49:v=e.sent,h=v.data.getEnsControllerAddress,e.next=58;break;case 53:return e.prev=53,e.t2=e.catch(46),vo(t),n(Object(N.a)(Object(N.a)({},a),{},{loading:!1})),e.abrupt("return");case 58:Do(Object(N.a)(Object(N.a)({},t),{},{domain:s,fleekControllerAddress:h,state:a,setState:n,web3:p,ensContractRegistryAddress:u.ENSRegistryContractAddress,ensContractStorageAddress:u.ENSStorageContractAddress,registrantAddress:o}));case 59:case"end":return e.stop()}}),e,null,[[5,17],[28,36],[46,53]])})));return function(t){return e.apply(this,arguments)}}(),Ao=Object(ye.a)(ao||(ao=Object(ge.a)(["\n  mutation verifyDns($input: VerifyDnsInput!) {\n    verifyDns(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"])),he.c),Bo=Object(ye.a)(no||(no=Object(ge.a)(["\n  mutation verifyHns($input: VerifyHnsInput!) {\n    verifyHns(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"])),he.c),Po=function(e){var t=e.siteBySlug,a=Object(S.g)(),i=Object(S.h)(),o=Object(g.b)(),l=Object(n.useState)(!1),s=Object(K.a)(l,2),c=s[0],u=s[1],d=Object(n.useState)(!1),m=Object(K.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)({}),y=Object(K.a)(f,2),h=y[0],v=y[1],O=Object(n.useState)({}),j=Object(K.a)(O,2),x=j[0],k=j[1],w=Object(n.useState)(!1),C=Object(K.a)(w,2),D=C[0],T=C[1],A=Object(n.useState)({error:null,loading:!1,open:!1}),B=Object(K.a)(A,2),P=B[0],M=B[1],R=$()(t,"data.getSiteBySlug.id"),U=$()(t,"data.getSiteBySlug.domains",[]),F=$()(t,"data.getSiteBySlug.ensDomain"),_=$()(t,"data.getSiteBySlug.platform"),W="dfinity"===_?"ic0-lb.fleek.co":"ipfs-ha.fleek.co",V=$()(t,"data.getSiteBySlug.pullZoneUrl"),z=$()(t,"data.getSiteBySlug.slug"),q=t.loading,Q=gi(),Z=Object(te.a)().t,J=fi(Z),X=Object(fe.a)(Mr.p,{client:Y.b}),ee=Object(K.a)(X,1)[0];Object(n.useEffect)((function(){var e=pi.a.parse(i.search),t=e.errorPayment,n=e.successPayment,r=E.s.buildUrl(null,null,["successPayment","errorPayment"]);n?xa.c.success(Z("sites.tabs.settings.customDomains.successPayment"),{autoClose:6e3}):t&&xa.c.error(Z("sites.tabs.settings.customDomains.errorPayment"),{autoClose:6e3}),a.push(r)}),[]);var ae=Object(fe.a)(Ao,{client:Y.b,onCompleted:function(){return function(e){e(!1)}(u)}}),ne=Object(K.a)(ae,1)[0],re=Object(fe.a)(Bo,{client:Y.b,onCompleted:function(){b(!1),T(!1)}}),ie=Object(K.a)(re,2),oe=ie[0],le=ie[1].loading,ce=function(){var e=Object(G.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!1),e.prev=1,e.next=4,oe({variables:{input:{siteId:R,domain:x.domain,domainId:x.domainId}}});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),b(!0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(G.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.ga("send","event",L.d.SITES,"Verify DNS configuration"),a={siteId:R,domain:h.domain,domainId:h.domainId,teamId:E.s.getAccountIdFromUrl()},e.prev=2,e.next=5,ne({variables:{input:{siteId:R,domainId:t.domainId}}});case 5:window.analytics.track("Verify DNS configuration",a),e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(2),a.error=e.t0.message,window.analytics.track("Failed Verify DNS configuration",a),console.error(e.t0),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),de=function(e){var t=/^[\w,-]+\.([\w,-]+\.)+[\w,-]+$/.test(e.domain);window.ga("send","event",L.d.SITES,"Check DNS Configuration"),window.analytics.track("Check DNS Configuration",{siteId:R,domain:e.domain,domainId:h.domainId,teamId:E.s.getAccountIdFromUrl()}),v(e),e.proxyType===L.j.BUNNY||e.type===L.c.DEFAULT_SUBDOMAIN?o(t?Object(I.p)(I.h,{onSubmit:function(){return ue(e)},domain:e.domain,proxyType:e.proxyType,terminalRecord:W,pullZoneUrl:V}):Object(I.p)(I.g,{onSubmit:function(){return ue(e)},server:"http://rihana.ns.cloudflare.com/",ip:"44.233.93.166",domain:e.domain,error:c,proxyType:e.proxyType,pullZoneUrl:V})):o(Object(I.p)(I.d,{siteId:R,teamId:E.s.getAccountIdFromUrl(),domainId:e.domainId,customDomain:e.domain,siteSlug:z}))},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter((function(e){return e.boughtWithTerminal&&"PENDING_PROPAGATION"===e.status}));return t}(U).length>0;return r.a.createElement("div",{id:"test-sites-domain-managment"},r.a.createElement("div",{id:da.CUSTOM_DOMAINS},r.a.createElement(Sa.Element,{name:da.CUSTOM_DOMAINS}),r.a.createElement("div",{className:Q.titleWrapper},r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"body1"},J.domains.title),r.a.createElement(se.a,{className:Q.paragraph},J.domains.paragraph))),r.a.createElement("div",{className:Q.sectionWrapper},me&&r.a.createElement(bi.a,{className:Q.pollingMessage,severity:"info"},Z("sites.tabs.settings.customDomains.pollingMessage")),r.a.createElement(Kr,{siteId:R,domains:U,checkDNSOnClick:de,loading:q}))),"ipfs"===_&&r.a.createElement("div",{id:da.ENS},r.a.createElement(Sa.Element,{name:da.ENS}),r.a.createElement("div",{className:Q.titleWrapper},r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"body1"},J.ens.title),r.a.createElement(se.a,{className:Q.paragraph},J.ens.paragraph))),r.a.createElement("div",{className:Q.sectionWrapper},r.a.createElement(_i,{ensInfo:F,setEnsControllerOnClick:function(){M(Object(N.a)(Object(N.a)({},P),{},{open:!0}))},loading:q,siteId:R}))),r.a.createElement("div",{id:da.HNS},r.a.createElement(Sa.Element,{name:da.HNS}),r.a.createElement("div",{className:Q.titleWrapper},r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"body1"},J.hns.title),r.a.createElement(se.a,{className:Q.paragraph},J.hns.paragraph))),r.a.createElement("div",{className:Q.sectionWrapper},r.a.createElement(ro,{siteId:R,domains:U,checkHNSOnClick:function(e){k(e),T(!0)},loading:!1}))),r.a.createElement("div",{id:da.TTL},r.a.createElement(Sa.Element,{name:da.TTL}),r.a.createElement("div",{className:Q.titleWrapper},r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"body1"},J.http.title),r.a.createElement(se.a,{className:Q.paragraph},J.http.paragraph))),r.a.createElement("div",{className:Q.sectionWrapper},function(){var e=$()(t,"data.getSiteBySlug.publishedDeploy.id",null),a=Object(E.p)(U),n=$()(a,"sslInfo"),i=yi(n,Z);return r.a.createElement(Ii,{i18n:J.ssl,errorDocsLink:"https://docs.fleek.co/hosting/site-deployment/#monitoring-a-deployment",buttonOnClick:function(){return de(Object(N.a)(Object(N.a)({},a),{},{value:a.domain,id:a.domainId}))},status:e?i.status:"not_deployed",certificate:i.certificate,domains:[$()(a,"domain","")],expires:i.expires,errorMsg:i.errorMsg,created:i.created})}())),r.a.createElement(E.k,{open:P.open,onClose:function(){M(Object(N.a)(Object(N.a)({},P),{},{open:!1}))},state:P,setState:M,onSubmit:function(){To({state:P,setState:M,ensDomain:F,siteId:R,t:Z,verifySiteEnsDomain:ee,verifyOwnership:!1})},ensDomain:F,siteId:R}),r.a.createElement(E.d,{open:D,onClose:function(){T(!1),b(!1)},onSubmit:function(){return ce()},domain:x.domain,proxyUrl:"hns-ha.fleek.co",error:p,loading:le,proxyIp:"52.32.209.208"}))};Po.defaultProps={siteBySlug:{loading:!0,data:null,error:null}};var Mo=Po,Ro=Object(ce.a)({buttons:{display:"flex",flexDirection:"row",justifyContent:"flex-end",margin:"0 -5px","& > button":{margin:"0 5px"}},modal:{color:"red","& > div:focus":{outline:"none"}},message:{margin:"10px 0 18px 0","& > span":{color:"#000000"}},alert:{margin:"15px 0"}}),Lo=function(e){var t=e.open,a=e.onClose,i=e.siteBySlug,o=$()(i,"data.getSiteBySlug.id",""),l=$()(i,"data.getSiteBySlug.slug",""),s=$()(i,"data.getSiteBySlug.team.id",""),c=Ro(),u=Object(S.g)(),d=Object(te.a)().t,m=Object(n.useState)({error:null,loading:!1,inputValue:""}),p=Object(K.a)(m,2),b=p[0],f=p[1],g=Object(fe.a)(Mr.k,{client:Y.b,update:function(e,t){return function(e,t,a){try{var n=e.readQuery({query:Ee.a,variables:{teamId:a,limit:L.h}}),r=n.getSitesByTeam.sites.filter((function(e){return e.id!==t.id}));e.writeQuery({query:Ee.a,variables:{teamId:a,limit:L.h},data:Object(N.a)(Object(N.a)({},n),{},{getSitesByTeam:Object(N.a)(Object(N.a)({},n.getSitesByTeam),{},{sites:r})})})}catch(i){console.error("Error when trying to update GET_SITES_BY_TEAM query: ",i.message)}}(e,t.data.removeSite,s)}}),y=Object(K.a)(g,1)[0],h=function(){var e=Object(G.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f(Object(N.a)(Object(N.a)({},b),{},{error:null,loading:!0})),window.ga("send","event",L.d.SITES,"Confirm delete site",o),window.analytics.track("Confirm delete site",{teamId:s,siteId:o}),e.prev=4,e.next=7,y({variables:{input:{siteId:o}}});case 7:f(Object(N.a)(Object(N.a)({},b),{},{loading:!1})),u.replace(Z.o.buildUrl({},"/teams/".concat(s,"/sites"))),Y.b.cache.evict("Site:".concat(o)),Y.b.cache.gc(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error("Delete Site error: ",e.t0.message),f(Object(N.a)(Object(N.a)({},b),{},{loading:!1,error:d("modals.deleteSite.error")}));case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Xr.a,{open:t,maxWidth:438,onClose:a,className:c.modal,title:d("modals.deleteSite.title")},b.error&&r.a.createElement(Xa.a,{type:"error",message:b.error,className:c.alert,icon:["fal","times-circle"]}),r.a.createElement(se.a,{className:c.message,variant:"body2",color:"textSecondary"},d("modals.deleteSite.message.part1"),"\xa0",r.a.createElement("span",{className:c.siteSlug},"".concat(l,"?")),"\xa0",d("modals.deleteSite.message.part2")),r.a.createElement("form",{id:"deleteSiteForm",onSubmit:h},r.a.createElement(Pe.a,{value:b.value,label:d("modals.deleteSite.siteNameInput"),onChange:function(e){f(Object(N.a)(Object(N.a)({},b),{},{inputValue:e.target.value}))}}),r.a.createElement("div",{className:c.buttons},r.a.createElement(oe.a,{onClick:a,buttonVariant:"secondary",disabled:b.loading},d("common.cancel")),r.a.createElement(oe.a,{type:"submit",form:"deleteSiteForm",buttonVariant:"important",loading:b.loading,disabled:b.loading||b.inputValue!==l},d("common.delete")))))};Lo.defaultProps={open:!1};var Uo=Lo,Fo=function(e){var t=e.siteBySlug,a=ci(),i=Object(te.a)().t,o=Object(n.useState)(!1),l=Object(K.a)(o,2),s=l[0],c=l[1];return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(Uo,{open:!0,siteBySlug:t,onClose:function(){return c(!1)}}),r.a.createElement(Sa.Element,{name:da.GENERAL}),r.a.createElement(Sa.Element,{name:da.SITE_DETAILS}),r.a.createElement("div",{className:a.header},r.a.createElement(se.a,{variant:"body1",className:a.headerTitle},i("siteSettings.sectionTitles.siteDetails")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},i("siteSettings.general.siteDetails.subtitle"))),r.a.createElement(ri,{siteBySlug:t,i18n:{title:i("siteSettings.general.siteDetails.title"),siteName:i("siteSettings.general.siteDetails.siteName"),owner:i("siteSettings.general.siteDetails.owner"),siteId:i("siteSettings.general.siteDetails.siteId"),created:i("siteSettings.general.siteDetails.created"),lastUpdate:i("siteSettings.general.siteDetails.lastUpdate")}}),r.a.createElement("hr",{className:a.spaceBetweenSections}),r.a.createElement(Sa.Element,{name:da.DANGER_ZONE}),r.a.createElement("div",{className:a.header},r.a.createElement(se.a,{variant:"body1",className:a.headerTitle},i("siteSettings.sectionTitles.dangerZone")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},i("siteSettings.general.dangerZone.subtitle"))),r.a.createElement(oi,{onDeleteSite:function(){return c(!0)},i18n:{title:i("siteSettings.general.dangerZone.title"),content:i("siteSettings.general.dangerZone.content"),deleteSite:i("siteSettings.general.dangerZone.deleteSite")}}))};Fo.defaultProps={siteBySlug:{}};var _o=Fo,Wo=Object(ce.a)((function(){return{root:{display:"flex"},content:{flexGrow:1,paddingBottom:30},header:{padding:"5px 0 16px 0"},headerTitle:{fontWeight:500},spaceBetweenSections:{margin:0,border:"none",height:15},navigationLink:{textDecoration:"none"}}})),Vo=function(e){var t=e.siteBySlug,a=$()(t,"data.getSiteBySlug.platform"),i=Wo(e),o=Object(te.a)().t,l=Object(S.j)(),s=Object(S.g)(),c=Object(S.h)(),u=$()(t,"data.getSiteBySlug.deploySettings.source",{}),d=Kt(u),m=Object(n.useState)(l.params.section),p=Object(K.a)(m,2),b=p[0],f=p[1],g=ba(o,b,a,d),y=function(e){return Sa.scroller.scrollTo(e,{duration:1500,delay:100,smooth:!0,containerId:L.f,offset:-10})};Object(n.useEffect)((function(){window.analytics.page("Site - Settings",{path:c.pathname,search:c.search});var e=pa.includes(l.params.section),t=ma.includes(l.params.section);e&&y(l.params.section),e||t||s.push("/sites/".concat(l.params.siteSlug,"/settings/").concat(da.GENERAL))}),[]);return r.a.createElement("section",{className:i.root},r.a.createElement(E.c,{items:g,renderItem:function(e,t){var a=t.id,n=t.type;return r.a.createElement(O.b,{to:E.s.buildUrl(null,"/sites/".concat(l.params.siteSlug,"/settings/").concat(a)),className:i.navigationLink,onClick:function(){f(a),"subsection"===n&&y(a)}},e)}}),r.a.createElement("div",{className:i.content},function(){switch(l.params.section){case da.GENERAL:case da.SITE_DETAILS:case da.DANGER_ZONE:return r.a.createElement(_o,{siteBySlug:t});case da.BUILD_AND_DEPLOY:case da.CONTINUOUS_DEPLOYMENT:case da.ADVANCED_BUILD_SETTINGS:return r.a.createElement(di,{siteBySlug:t,setActiveSectionId:f});case da.DOMAIN_MANAGEMENT:case da.CUSTOM_DOMAINS:case da.ENS:case da.HNS:case da.TTL:default:return r.a.createElement(Mo,{siteBySlug:t,setActiveSectionId:f})}}()))};Vo.defaultProps={siteBySlug:{loading:!0,data:null,error:null}};var zo=Vo,Ho=a(2115),Go=a(2114),Ko=Object(ka.a)({tabsContent:{display:"inline-block"}}),qo=function(){var e=Ko(),t=Object(S.j)(),a=Object(S.h)(),n=Object(te.a)().t,i=a.pathname.split("/")[3];return r.a.createElement("div",{className:e.tabsContent},r.a.createElement(Go.a,{value:i,"aria-label":"site-tabs"},r.a.createElement(Ho.a,{disableRipple:!0,value:"overview",component:O.b,to:E.s.buildUrl(null,"".concat(t.url,"/overview")),label:n("sites.tabs.overview")}),r.a.createElement(Ho.a,{disableRipple:!0,value:"deploys",component:O.b,to:E.s.buildUrl(null,"".concat(t.url,"/deploys")),label:n("sites.tabs.deploys.title")}),r.a.createElement(Ho.a,{disableRipple:!0,value:"settings",component:O.b,to:E.s.buildUrl(null,"".concat(t.url,"/settings/").concat(da.GENERAL)),label:n("sites.tabs.settings.title")})))},$o=Object(ka.a)({tabContent:{paddingTop:20},siteCardContent:{marginBottom:12}}),Yo=function(){var e=$o(),t=Object(S.j)(),a=Object(fe.b)(La.c,{client:Y.b,fetchPolicy:"cache-and-network",variables:{slug:t.params.siteSlug}}),i=r.a.createElement(E.a,null);Object(n.useEffect)((function(){var e=a.subscribeToMore({document:Tn,variables:{slug:t.params.siteSlug},updateQuery:function(e,t){var a=t.subscriptionData;if(!a.data)return e;try{var n=a.data.siteBySlugSubscription.id,r=Ht()(a.data.siteBySlugSubscription.latestDeploy),i=Y.b.readQuery({query:La.a,variables:{siteId:n,limit:L.g}}),o=Ht()(i);-1===i.getDeploysBySite.deploys.findIndex((function(e){return e.id===r.id}))&&(o.getDeploysBySite.deploys.unshift(r),Y.b.writeQuery({query:La.a,variables:{siteId:n,limit:L.g},data:o}))}catch(l){console.error("No deploys to update")}return{getSiteBySlug:Object(N.a)(Object(N.a)({},e.getSiteBySlug),a.data.siteSubscription)}}});return function(){e&&e()}}),[t.params.siteSlug]);var o=E.s.getAccountIdFromUrl(),l=Object(fe.b)(Q.k,{client:Y.b,variables:{id:o},skip:!o}),s=$()(l,"data.getTeamById.status")===L.m.SUSPENDED;return r.a.createElement(Xt.a,{topBarContent:i},r.a.createElement(ra,{isShownOverlay:s}),r.a.createElement("div",{className:e.siteCardContent,id:"test-sites-header"},r.a.createElement(Jt,{siteBySlug:a})),r.a.createElement(qo,null),r.a.createElement("div",{className:e.tabContent},r.a.createElement(S.d,null,r.a.createElement(S.b,{path:"".concat(t.path,"/overview"),exact:!0},r.a.createElement(tr,{siteBySlug:a})),r.a.createElement(S.b,{path:"".concat(t.path,"/deploys")},r.a.createElement(Mn,{siteBySlug:a})),r.a.createElement(S.b,{path:"".concat(t.path,"/settings/:section")},r.a.createElement(zo,{siteBySlug:a})))))},Qo={getTeamBillingInformation:{activePlan:{currentBuildMinutesInMonth:"10",currentBandwidthInMonth:"10",activatedAt:"2019-12-12T00:05:45.466Z",expiresAt:"2020-01-19T00:05:45.466Z",selectedPlan:{id:"business",name:"business",description:"pro plan",priceMonthly:"49.99",priceYearly:"600.00",limitBandwidthInMB:"300",limitBuildTimeInMins:"500"}},stripeCustomerId:"stripeId",paymentMethod:{type:"CARD",issuer:"VISA",lastCardNumbers:"4444"},billingInformation:{name:"Royce Moroch",email:"morochroyce@gmail.com"}}},Zo=Object(ce.a)((function(){return{title:{marginBottom:2,fontWeight:500},link:{display:"inline-flex",margin:"10px 0 23px",textDecoration:"none"},inputWrapper:{width:330}}})),Jo=function(e){var t=e.error,a=e.domainName,n=e.enableEdit,i=e.onChangeDomainName,o=Zo(),l=Object(te.a)().t;return r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h6",className:o.title},l("addCustomDomain.title")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},l("addCustomDomain.description")),r.a.createElement("a",{href:"https://docs.fleek.co/hosting/domain-management/#custom-domains",target:"_blank",rel:"noopener noreferrer",className:o.link},r.a.createElement(Me.a,null,l("addCustomDomain.linkToDocs"))),r.a.createElement("div",{className:o.inputWrapper},r.a.createElement(Pe.a,{error:!!t,value:a,errorMessage:t,disabled:!n,className:o.input,onChange:function(e){i(e.target.value)},label:l("addCustomDomain.inputLabel")})))};Jo.defaultProps={error:"",enableEdit:!0};var Xo=Jo,el=Object(ce.a)((function(){return{question:{display:"flex",padding:"17px 0 35px"},actionsWrapper:{display:"flex"},confirmButton:{marginRight:10}}})),tl=function(e){var t=e.onCancel,a=e.onConfirm,n=e.loading,i=e.domainName,o=el(),l=Object(te.a)().t;return r.a.createElement("div",null,r.a.createElement("div",{className:o.question},r.a.createElement(se.a,{variant:"body2"},i),"\xa0",r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},l("addCustomDomain.ownerPart.question"))),r.a.createElement("div",{className:o.actionsWrapper},r.a.createElement(oe.a,{loading:n,disabled:n,buttonVariant:"primary",onClick:a,overrideClass:{button:o.confirmButton}},l("addCustomDomain.ownerPart.confirm")),r.a.createElement(oe.a,{disabled:n,buttonVariant:"secondary",onClick:t},l("addCustomDomain.ownerPart.cancel"))))},al=Object(ce.a)((function(){return{root:{display:"flex",paddingTop:9},confirmButton:{width:145,marginRight:10}}})),nl=function(e){var t=e.loading,a=e.onVerify,n=e.onCancel,i=e.isFormValid,o=al(),l=Object(te.a)().t;return r.a.createElement("div",{className:o.root},r.a.createElement(oe.a,{loading:t,buttonVariant:"primary",onClick:a,disabled:!i,overrideClass:{button:o.confirmButton}},l("addCustomDomain.verifyDomain")),r.a.createElement(oe.a,{disabled:t,onClick:n,buttonVariant:"secondary"},l("common.cancel")))},rl=Object(ce.a)((function(e){return{title:{fontWidth:600},accentInfo:{margin:"3px 0 4px",color:e.palette.palette.yellowPending},confirmButton:{marginTop:20}}})),il=function(e){var t=e.domainName,a=e.onConfirm,n=rl(),i=Object(te.a)().t;return r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h6",className:n.title},i("addCustomDomain.purchasing.title",{domainName:t})),r.a.createElement(se.a,{variant:"body2",className:n.accentInfo},i("common.comingSoon")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},i("addCustomDomain.purchasing.description")),r.a.createElement(oe.a,{buttonVariant:"primary",onClick:a,overrideClass:{button:n.confirmButton}},i("addCustomDomain.purchasing.submit")))},ol=Object(ce.a)((function(e){return{textContainer:{minWidth:650,"& > h6":{marginBottom:6}},detail:{color:e.palette.palette.grey2},ctaSection:{marginTop:20},buyButton:{minWidth:228,display:"block",marginBottom:40,color:e.palette.palette.white},addDomainButton:{marginRight:15},paymentMethodDetail:{display:"flex"},addPaymentButton:{marginLeft:20},paymentContainer:{marginTop:15,"& > p":{marginBottom:10}},noPaymentMethod:{display:"flex",alignItems:"center"},subtitle:{marginBottom:4}}})),ll=function(e){var t=e.cost,a=e.onBuy,n=e.domain,i=e.loading,o=e.onCancel,l=e.renewCost,s=e.paymentMethod,c=e.onAddPaymentMethod,u=ol(),d=s.cardNumber&&s.type;return r.a.createElement("div",null,r.a.createElement("div",{className:u.textContainer},r.a.createElement(se.a,{variant:"h6"},r.a.createElement(Ba.a,{i18nKey:"addCustomDomain.buyDomain.title",values:{domainName:n}})),r.a.createElement(se.a,{variant:"body2",className:u.subtitle},r.a.createElement(Dt.a,{fontWeight:500},r.a.createElement(Ba.a,{i18nKey:"addCustomDomain.buyDomain.subtitle",values:{cost:t}}))),r.a.createElement(se.a,{variant:"body2",className:u.detail},r.a.createElement(Ba.a,{i18nKey:"addCustomDomain.buyDomain.detail",values:{renewCost:l}}))),r.a.createElement("div",{className:u.paymentContainer},r.a.createElement(se.a,{variant:"body1"},r.a.createElement(Ba.a,{i18nKey:"addCustomDomain.buyDomain.availablePM"})),r.a.createElement("div",{className:u.paymentMethodDetail},d?r.a.createElement(E.b,{fourLastDigits:s.cardNumber,cardType:s.type}):r.a.createElement(se.a,{variant:"body2",className:u.noPaymentMethod},r.a.createElement(Ba.a,{i18nKey:"addCustomDomain.buyDomain.noPaymentMethod"})),r.a.createElement(ta.a,{color:"primary",onClick:c,className:u.addPaymentButton},r.a.createElement(Ba.a,{i18nKey:d?"addCustomDomain.buyDomain.changePaymentMehtod":"addCustomDomain.buyDomain.addPaymentMethod"})))),r.a.createElement("div",{className:u.ctaSection},r.a.createElement(oe.a,{onClick:d?a:c,loading:i,buttonVariant:"primary",overrideClass:{button:u.buyButton}},r.a.createElement(Ba.a,{i18nKey:"addCustomDomain.buyDomain.buyCTA",values:{domain:n}})),r.a.createElement(oe.a,{disabled:!0,buttonVariant:"primary",overrideClass:{button:u.addDomainButton}},r.a.createElement(Ba.a,{i18nKey:"addCustomDomain.ownerPart.confirm"})),r.a.createElement(oe.a,{onClick:o,disabled:i,buttonVariant:"secondary"},r.a.createElement(Ba.a,{i18nKey:"addCustomDomain.ownerPart.cancel"}))))};ll.defaultProps={cost:0,domain:null,renewCost:0,loading:!1,onBuy:function(){},paymentMethod:{},onCancel:function(){},onAddPaymentMethod:function(){}};var sl=ll,cl="VERIFYING_DOMAIN",ul="OWNING_CONFIRMATION",dl="PURCHASING_DOMAIN",ml="BUY_DOMAIN",pl={OWNING_CONFIRMATION:"VERIFYING_DOMAIN",PURCHASING_DOMAIN:"OWNING_CONFIRMATION"},bl=function(e){var t=e.siteId,a=e.siteSlug,i=Object(te.a)().t,o=Object(S.g)(),l=Object(S.j)(),s=Object(g.b)(),c=Object(E.t)(),u=Object(fe.b)(Q.j,{client:Y.b,variables:{teamId:c}}),d=u.refetch,m=u.data,p=void 0===m?Qo:m,b=$()(p,"getTeamBillingInformation.paymentMethod"),f=Object(fe.a)(Ka.a,{client:Y.b}),y=Object(K.a)(f,1)[0],h=Object(n.useState)({error:null,loading:!1,domainName:"",rootDomain:"",step:cl,enableEdit:!0,price:0,period:0,currency:null}),v=Object(K.a)(h,2),O=v[0],j=v[1];Object(n.useEffect)((function(){return O.step===ml?j(Object(N.a)(Object(N.a)({},O),{},{enableEdit:!1})):j(Object(N.a)(Object(N.a)({},O),{},{enableEdit:!0})),function(){return j(Object(N.a)(Object(N.a)({},O),{},{enableEdit:!0}))}}),[O.step]);var x=function(){var e=Object(G.a)(H.a.mark((function e(){var a,n,r,o,l,s,u,d,m,p;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Object(N.a)(Object(N.a)({},O),{},{loading:!0})),a=/^www\./.test(O.domainName),n=a?O.domainName.substring(4):O.domainName,r=n.split(".").slice(-2).join("."),window.ga("send","event",L.d.SITES,"Verify Domain on Add custom domain",n),window.analytics.track("Verify Domain on Add custom domain",{teamId:c,siteId:t,domain:n}),e.prev=6,e.next=9,Y.b.query({query:La.d,variables:{domain:n}});case 9:o=e.sent,l=o.data,s=$()(l,"verifyDomainAvailability.price"),u=$()(l,"verifyDomainAvailability.period"),d=$()(l,"verifyDomainAvailability.currency"),m=$()(l,"verifyDomainAvailability.available"),p=m?ml:ul,j(Object(N.a)(Object(N.a)({},O),{},{rootDomain:r,loading:!1,step:p,price:s/1e6,period:u,currency:d})),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(6),console.error("Error verifying custom domain: ",e.t0.message),j(Object(N.a)(Object(N.a)({},O),{},{loading:!1,error:i("addCustomDomain.errors.invalidDomain")}));case 23:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(G.a)(H.a.mark((function e(){var a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(Object(N.a)(Object(N.a)({},O),{},{loading:!0})),window.ga("send","event",L.d.SITES,"Yes I own the domain",O.domainName),a={teamId:c,siteId:t,domain:O.domainName},e.prev=3,e.next=6,y({variables:{input:{siteId:t,domainName:O.domainName,teamId:E.s.getAccountIdFromUrl()}}});case 6:n=e.sent,r=n.data,window.analytics.track("Yes I own the domain",a),$()(r,"addCustomDomain")&&o.push(E.s.buildUrl(null,"/sites/".concat(l.params.siteSlug,"/settings/").concat(da.DOMAIN_MANAGEMENT))),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(3),a.error=e.t0.message,window.analytics.track("Yes I own the domain failed",a),console.error("Error verifying custom domain: ",e.t0.message),j(Object(N.a)(Object(N.a)({},O),{},{loading:!1,error:e.t0.message}));case 19:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(G.a)(H.a.mark((function e(){var n,r,i,l,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/sites/".concat(a,"/settings/domain-management"),r=E.s.buildUrl({successPayment:!0},n),i=E.s.buildUrl({errorPayment:!0},n),j(Object(N.a)(Object(N.a)({},O),{},{loading:!0})),window.ga("send","event",L.d.SITES,"Buy domain",O.domainName),window.analytics.track("Buy Domain",{teamId:c,siteId:t,domain:O.domainName}),e.prev=6,e.next=9,y({variables:{input:{siteId:t,domainName:O.rootDomain,teamId:E.s.getAccountIdFromUrl(),buyDomainWithSavedPaymentMethod:!0}}});case 9:l=e.sent,s=l.data,$()(s,"addCustomDomain")&&o.push(r),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),console.error(e.t0),o.push(i);case 19:j(Object(N.a)(Object(N.a)({},O),{},{loading:!1}));case 20:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(){return e.apply(this,arguments)}}(),C=function(){s(Object(I.p)(I.m,{onSuccess:function(){return d()}}))};return r.a.createElement("div",{id:"test-add-custom-domain"},r.a.createElement(be,{onClick:O.step!==cl?function(){return j(Object(N.a)(Object(N.a)({},O),{},{step:pl[O.step]}))}:void 0}),r.a.createElement(ae.a,{padding:"37px 290px 48px 58px"},r.a.createElement(Xo,{error:O.error,domainName:O.domainName,enableEdit:O.enableEdit,onChangeDomainName:function(e){var t=Object(N.a)(Object(N.a)({},O),{},{domainName:e.replace(/\s/,"").toLowerCase(),step:cl});O.error&&(t.error=null),j(t)}}),function(){switch(O.step){case cl:return r.a.createElement(nl,{loading:O.loading,onVerify:x,onCancel:o.goBack,isFormValid:O.domainName.length>0&&!O.error});case ul:return r.a.createElement(tl,{loading:O.loading,domainName:O.domainName,onConfirm:k,onCancel:function(){return j(Object(N.a)(Object(N.a)({},O),{},{step:cl}))}});case dl:return r.a.createElement(il,{domainName:O.domainName,onConfirm:function(){return o.push("/sites/".concat(l.params.siteSlug,"/settings/").concat(da.DOMAIN_MANAGEMENT))}});case ml:return r.a.createElement(sl,{cost:O.price,period:O.period,loading:O.loading,renewCost:O.price,domain:O.rootDomain,onBuy:w,onCancel:function(){return j(Object(N.a)(Object(N.a)({},O),{},{step:cl}))},onAddPaymentMethod:C,paymentMethod:{cardNumber:$()(b,"card.lastCardNumbers"),type:$()(b,"type")}});default:return null}}()))},fl=function(){var e=Object(S.j)(),t=Object(te.a)().t,a=Object(fe.b)(La.c,{client:Y.b,variables:{slug:e.params.siteSlug},fetchPolicy:"cache-and-network"}).data,n=$()(a,"getSiteBySlug.id",""),i=r.a.createElement(E.a,null);return r.a.createElement(E.h,{topBarContent:i},r.a.createElement(ee.Helmet,null,r.a.createElement("title",null,t("addCustomDomain.pageTitle"))),r.a.createElement(bl,{siteId:n,siteSlug:e.params.siteSlug}))},gl=Object(ce.a)((function(){return{title:{marginBottom:2,fontWeight:500},link:{display:"inline-flex",margin:"10px 0 23px",textDecoration:"none"},inputWrapper:{width:330}}})),yl=function(e){var t=e.error,a=e.domainName,n=e.enableEdit,i=e.onChangeDomainName,o=gl(),l=Object(te.a)().t;return r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h6",className:o.title},l("addHNSDomain.title")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},l("addHNSDomain.description")),r.a.createElement("a",{href:"https://docs.fleek.co/hosting/domain-management/#hns-domains",target:"_blank",rel:"noopener noreferrer",className:o.link},r.a.createElement(Me.a,null,l("addHNSDomain.linkToDocs"))),r.a.createElement("div",{className:o.inputWrapper},r.a.createElement(Pe.a,{error:!!t,value:a,errorMessage:t,disabled:!n,className:o.input,onChange:function(e){i(e.target.value)},label:l("addHNSDomain.inputLabel")})))};yl.defaultProps={error:"",enableEdit:!0};var hl=yl,vl=Object(ce.a)((function(){return{question:{display:"flex",padding:"17px 0 35px"},actionsWrapper:{display:"flex"},confirmButton:{marginRight:10}}})),El=function(e){var t=e.onCancel,a=e.onConfirm,n=e.loading,i=e.domainName,o=vl(),l=Object(te.a)().t;return r.a.createElement("div",null,r.a.createElement("div",{className:o.question},r.a.createElement(se.a,{variant:"body2"},i),"\xa0",r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},l("addCustomDomain.ownerPart.question"))),r.a.createElement("div",{className:o.actionsWrapper},r.a.createElement(oe.a,{loading:n,disabled:n,buttonVariant:"primary",onClick:a,overrideClass:{button:o.confirmButton}},l("addCustomDomain.ownerPart.confirm")),r.a.createElement(oe.a,{disabled:n,buttonVariant:"secondary",onClick:t},l("addCustomDomain.ownerPart.cancel"))))},Ol=Object(ce.a)((function(){return{root:{display:"flex",paddingTop:9},confirmButton:{width:145,marginRight:10}}})),Sl=function(e){var t=e.loading,a=e.onVerify,n=e.onCancel,i=e.isFormValid,o=Ol(),l=Object(te.a)().t;return r.a.createElement("div",{className:o.root},r.a.createElement(oe.a,{loading:t,buttonVariant:"primary",onClick:a,disabled:!i,overrideClass:{button:o.confirmButton}},l("addHNSDomain.verifyDomain")),r.a.createElement(oe.a,{disabled:t,onClick:n,buttonVariant:"secondary"},l("common.cancel")))},jl=Object(ce.a)((function(e){return{title:{fontWidth:600},accentInfo:{margin:"3px 0 4px",color:e.palette.palette.yellowPending},confirmButton:{marginTop:20}}})),xl=function(e){var t=e.domainName,a=e.onConfirm,n=jl(),i=Object(te.a)().t;return r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h6",className:n.title},i("addHNSDomain.purchasing.title",{domainName:t})),r.a.createElement(se.a,{variant:"body2",className:n.accentInfo},i("common.comingSoon")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},i("addHNSDomain.purchasing.description")),r.a.createElement(oe.a,{buttonVariant:"primary",onClick:a,overrideClass:{button:n.confirmButton}},i("addHNSDomain.purchasing.submit")))},kl=Object(ce.a)((function(e){return{textContainer:{minWidth:650,"& > h6":{marginBottom:6}},detail:{color:e.palette.palette.grey2},ctaSection:{marginTop:20},buyButton:{minWidth:228,display:"block",marginBottom:40,color:e.palette.palette.white},addDomainButton:{marginRight:15},paymentMethodDetail:{display:"flex"},addPaymentButton:{marginLeft:20},paymentContainer:{marginTop:15,"& > p":{marginBottom:10}},noPaymentMethod:{display:"flex",alignItems:"center"},subtitle:{marginBottom:4}}})),wl=function(e){var t=e.onBuy,a=e.domain,n=e.loading,i=e.onCancel,o=kl();return r.a.createElement("div",null,r.a.createElement("div",{className:o.textContainer},r.a.createElement(se.a,{variant:"h6"},r.a.createElement(Ba.a,{i18nKey:"addHNSDomain.buyDomain.title",values:{domainName:a}})),r.a.createElement(se.a,{variant:"body2",className:o.subtitle},r.a.createElement(Dt.a,{fontWeight:500},r.a.createElement(Ba.a,{i18nKey:"addHNSDomain.buyDomain.subtitle"}))),r.a.createElement(se.a,{variant:"body2",className:o.detail},r.a.createElement(Ba.a,{i18nKey:"addHNSDomain.buyDomain.detail"}))),r.a.createElement("div",{className:o.ctaSection},r.a.createElement(oe.a,{onClick:t,loading:n,buttonVariant:"primary",overrideClass:{button:o.buyButton}},r.a.createElement(Ba.a,{i18nKey:"addHNSDomain.buyDomain.buyCTA",values:{domain:a}})),r.a.createElement(oe.a,{disabled:!0,buttonVariant:"primary",overrideClass:{button:o.addDomainButton}},r.a.createElement(Ba.a,{i18nKey:"addHNSDomain.ownerPart.confirm"})),r.a.createElement(oe.a,{onClick:i,disabled:n,buttonVariant:"secondary"},r.a.createElement(Ba.a,{i18nKey:"addHNSDomain.ownerPart.cancel"}))))};wl.defaultProps={domain:null,loading:!1,onBuy:function(){},onCancel:function(){}};var Cl=wl,Nl="VERIFYING_DOMAIN",Il="OWNING_CONFIRMATION",Dl="PURCHASING_DOMAIN",Tl="BUY_DOMAIN",Al={OWNING_CONFIRMATION:"VERIFYING_DOMAIN",PURCHASING_DOMAIN:"OWNING_CONFIRMATION"},Bl=function(e){var t=e.siteId,a=Object(te.a)().t,i=Object(S.g)(),o=Object(S.j)(),l=Object(fe.a)(Ka.b,{client:Y.b}),s=Object(K.a)(l,1)[0],c=Object(n.useState)({error:null,loading:!1,domainName:"",rootDomain:"",step:Nl,enableEdit:!0,price:0,period:0,currency:null}),u=Object(K.a)(c,2),d=u[0],m=u[1];Object(n.useEffect)((function(){return d.step===Tl?m(Object(N.a)(Object(N.a)({},d),{},{enableEdit:!1})):m(Object(N.a)(Object(N.a)({},d),{},{enableEdit:!0})),function(){return m(Object(N.a)(Object(N.a)({},d),{},{enableEdit:!0}))}}),[d.step]);var p=function(){var e=Object(G.a)(H.a.mark((function e(){var t,n,r,i,o,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Object(N.a)(Object(N.a)({},d),{},{loading:!0})),t=d.domainName.replace("/",""),e.prev=2,n=t.split(".").slice(-1)[0],e.next=6,Y.b.query({query:La.b,variables:{tld:n}});case 6:r=e.sent,i=r.data,o=$()(i,"getHnsTldInfo.hasOwner"),l=!o?Tl:Il,m(Object(N.a)(Object(N.a)({},d),{},{domainName:t,rootDomain:n,loading:!1,step:l})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Error verifying custom domain: ",e.t0.message),m(Object(N.a)(Object(N.a)({},d),{},{loading:!1,error:a("addHNSDomain.errors.verifying")}));case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(G.a)(H.a.mark((function e(){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Object(N.a)(Object(N.a)({},d),{},{loading:!0})),e.prev=1,e.next=4,s({variables:{input:{siteId:t,domain:d.domainName}}});case 4:a=e.sent,n=a.data,$()(n,"addHnsDomain")&&i.push(E.s.buildUrl(null,"/sites/".concat(o.params.siteSlug,"/settings/").concat(da.DOMAIN_MANAGEMENT))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error verifying custom domain: ",e.t0.message),m(Object(N.a)(Object(N.a)({},d),{},{loading:!1,error:e.t0.message}));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(G.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("https://namebase.io/domains/".concat(d.rootDomain));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"test-add-custom-domain"},r.a.createElement(be,{onClick:d.step!==Nl?function(){return m(Object(N.a)(Object(N.a)({},d),{},{step:Al[d.step]}))}:void 0}),r.a.createElement(ae.a,{padding:"37px 290px 48px 58px"},r.a.createElement(hl,{error:d.error,domainName:d.domainName,enableEdit:d.enableEdit,onChangeDomainName:function(e){var t=Object(N.a)(Object(N.a)({},d),{},{domainName:e.replace(/\s/,"").toLowerCase(),step:Nl});d.error&&(t.error=null),m(t)}}),function(){switch(d.step){case Nl:return r.a.createElement(Sl,{loading:d.loading,onVerify:p,onCancel:i.goBack,isFormValid:d.domainName.length>0&&!d.error});case Il:return r.a.createElement(El,{loading:d.loading,domainName:d.domainName,onConfirm:b,onCancel:function(){return m(Object(N.a)(Object(N.a)({},d),{},{step:Nl}))}});case Dl:return r.a.createElement(xl,{domainName:d.domainName,onConfirm:function(){return i.push("/sites/".concat(o.params.siteSlug,"/settings/").concat(da.DOMAIN_MANAGEMENT))}});case Tl:return r.a.createElement(Cl,{loading:d.loading,domain:d.domainName,onBuy:f,onCancel:function(){return m(Object(N.a)(Object(N.a)({},d),{},{step:Nl}))}});default:return null}}()))},Pl=function(){var e=Object(S.j)(),t=Object(te.a)().t,a=Object(fe.b)(La.c,{client:Y.b,variables:{slug:e.params.siteSlug},fetchPolicy:"cache-and-network"}).data,n=$()(a,"getSiteBySlug.id",""),i=r.a.createElement(E.a,null);return r.a.createElement(E.h,{topBarContent:i},r.a.createElement(ee.Helmet,null,r.a.createElement("title",null,t("addHNSDomain.pageTitle"))),r.a.createElement(Bl,{siteId:n,siteSlug:e.params.siteSlug}))},Ml=Object(ce.a)((function(e){return{title:{fontSize:21,fontWeight:500,marginBottom:5},description:{fontSize:15,color:e.palette.palette.grey2,lineHeight:1.25,letterSpacing:0},resetAnchorStyles:{textDecoration:"none"},link:{marginTop:10,marginBottom:21,color:e.palette.palette.primaryBlue}}})),Rl=function(){var e=Ml(),t=Object(te.a)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{className:e.title},t("sites.tabs.settings.ens.addEns.title")),r.a.createElement(se.a,{className:e.description},t("sites.tabs.settings.ens.addEns.description")),r.a.createElement("a",{href:"https://docs.fleek.co/hosting/domain-management/#ens-domains",target:"_blank",rel:"noopener noreferrer",className:e.resetAnchorStyles},r.a.createElement(Me.a,{className:e.link},t("sites.tabs.settings.ens.addEns.learnMore"))))},Ll="VERIFY",Ul="BUY_A_DOMAIN",Fl="ALREADY_HAS_OWNER",_l=Object(ce.a)((function(e){return{title:{fontSize:21,fontWeight:500,marginBottom:5},resetAnchorStyles:{textDecoration:"none"},link:{marginTop:10,marginBottom:21,color:e.palette.palette.primaryBlue,textDecoration:"none"},container:{display:"flex",justifyContent:"flex-start"},inputContainer:{minWidth:330},chipContainer:{marginBottom:16}}})),Wl=function(e){var t=e.state,a=e.setState,n=_l(),i=Object(te.a)().t,o=$()(t,"ensDomainInfo.isAlreadyInUse");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:n.container},r.a.createElement("div",{className:n.inputContainer},r.a.createElement(Pe.a,{value:t.domain,label:i("sites.tabs.settings.ens.addEns.ensDomain"),onChange:function(e){a(Object(N.a)(Object(N.a)({},t),{},{domain:e.target.value,step:Ll}))}}))),o&&r.a.createElement("div",{className:n.chipContainer},r.a.createElement(rn.a,{text:i("sites.tabs.settings.ens.addEns.domainRegistered"),color:"yellow"})))},Vl=Object(ce.a)((function(){return{container:{display:"flex",justifyContent:"flex-start"},button:{height:38},link:{textDecoration:"none",marginLeft:10}}})),zl=function(e){var t=e.state,a=e.setState,n=Object(te.a)().t,i=Vl(),o=Object(S.j)(),l=function(){var e=Object(G.a)(H.a.mark((function e(){var n,r,i,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Object(N.a)(Object(N.a)({},t),{},{loading:!0})),n=t.domain.trim(),e.prev=2,r=Object(go.a)(),e.next=6,Y.b.query({query:Q.e,variables:{domain:n,network:r.network},fetchPolicy:"network-only"});case 6:if(i=e.sent,(o=i.data.getEnsDomainInfo).ownerAddress){e.next=11;break}return a(Object(N.a)(Object(N.a)({},t),{},{domain:n,step:Ul,loading:!1,ensDomainInfo:o})),e.abrupt("return");case 11:a(Object(N.a)(Object(N.a)({},t),{},{domain:n,loading:!1,step:Fl,ensDomainInfo:o})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0),a(Object(N.a)(Object(N.a)({},t),{},{loading:!1}));case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(oe.a,{loading:t.loading,disabled:!function(e){var t=e.trim();return/^([\w-]+.)+eth$/.test(t)}(t.domain),onClick:l,buttonVariant:"primary",className:i.button},r.a.createElement(se.a,{variant:"body2"},n("common.verify"))),r.a.createElement(O.b,{to:E.s.buildUrl(null,"/sites/".concat(o.params.siteSlug,"/settings/").concat(da.ENS)),className:i.link},r.a.createElement(oe.a,{buttonVariant:"secondary"},r.a.createElement(se.a,{variant:"body2"},n("common.cancel")))))},Hl=Object(ce.a)((function(e){return{text:{fontSize:15,color:e.palette.palette.grey2,marginBottom:28},domainText:{color:e.palette.palette.black}}})),Gl=function(e){var t=e.state,a=Hl();return r.a.createElement("div",null,r.a.createElement(se.a,{className:a.text},r.a.createElement(Ba.a,{i18nKey:"sites.tabs.settings.ens.addEns.alreadyOwner",components:[r.a.createElement("span",{className:a.domainText},"owner")],values:{domain:t.domain,owner:Object(Z.n)(t.ensDomainInfo.registrantAddress)}})))},Kl=a(95),ql=a(433),$l=Object(ce.a)((function(e){return{container:{display:"flex",justifyContent:"flex-start"},button:{height:38},cancelBtn:{marginLeft:10},errorBox:{backgroundColor:e.palette.palette.lightErrorRed,color:e.palette.palette.saturatedRed,marginTop:10,borderRadius:5,padding:5}}})),Yl=function(e){var t=e.state,a=e.setState,n=e.siteId,i=Object(te.a)().t,o=$l(),l=Object(S.g)(),s=Object(S.j)(),c=Object(Kl.useMutation)(ql.a,{client:Y.b}),u=Object(K.a)(c,1)[0],d=function(){var e=Object(G.a)(H.a.mark((function e(){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Object(N.a)(Object(N.a)({},t),{},{loading:!0})),r=Object(go.a)(),e.prev=2,e.next=5,u({variables:{input:{siteId:n,domain:t.domain,ownerAddress:t.ensDomainInfo.ownerAddress,network:r.network}}});case 5:l.push(Z.o.buildUrl(null,"/sites/".concat(s.params.siteSlug,"/settings/").concat(da.ENS))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:a(Object(N.a)(Object(N.a)({},t),{},{loading:!1}));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(oe.a,{loading:t.loading,disabled:!t.ensDomainInfo.ownerAddress||""===n,onClick:d,buttonVariant:"primary",className:o.button},r.a.createElement(se.a,{variant:"body2"},i("sites.tabs.settings.ens.addEns.yesAdd"))),r.a.createElement(oe.a,{buttonVariant:"secondary",className:o.cancelBtn,onClick:function(){a(Object(N.a)(Object(N.a)({},t),{},{domain:"",step:Ll,ensDomainInfo:null}))}},r.a.createElement(se.a,{variant:"body2"},i("sites.tabs.settings.ens.addEns.noAnother"))))},Ql=Object(ce.a)((function(e){return{title:{fontSize:21,marginBottom:4},subTitle:{fontSize:15,fontWeight:500,marginBottom:4},description:{fontSize:15,color:e.palette.palette.grey2,marginBottom:27},link:{textDecoration:"none",marginBottom:32}}})),Zl=function(e){var t=e.state,a=e.setState,i=Ql(),o=Object(te.a)().t,l=Object(go.a)(),s=Object(fe.b)(Q.e,{client:Y.b,variables:{network:l.network,domain:t.domain}}),c=s.data,u=s.startPolling,d=s.stopPolling,m=$()(c,"getEnsDomainInfo.ownerAddress"),p=t.domain.split("."),b=p.length>=3;Object(n.useEffect)((function(){return u(3e3),function(){return d()}})),Object(n.useEffect)((function(){m&&(a(Object(N.a)(Object(N.a)({},t),{},{ensDomainInfo:c.getEnsDomainInfo})),d())}),[m]);return r.a.createElement(r.a.Fragment,null,b?r.a.createElement(se.a,{className:i.description},o("sites.tabs.settings.ens.addEns.addYourselfAsOwnerOfSubdomainDescription")):r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{className:i.title},o("sites.tabs.settings.ens.addEns.isAvailable",{domain:t.domain})),r.a.createElement(se.a,{className:i.subTitle},o("sites.tabs.settings.ens.addEns.wouldYouLike")),r.a.createElement(se.a,{className:i.description},o("sites.tabs.settings.ens.addEns.byClicking"))),r.a.createElement("a",{href:function(){if(b){var e=p.slice(1,p.length+1).join(".");return"https://app.ens.domains/name/".concat(e,"/subdomains")}return"https://app.ens.domains/name/".concat(t.domain)}(),className:i.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(oe.a,{buttonVariant:"primary"},r.a.createElement(se.a,{variant:"body2"},b?o("sites.tabs.settings.ens.addEns.addYourselfAsOwnerOfSubdomain"):o("sites.tabs.settings.ens.addEns.buyDomain",{domain:t.domain})))))},Jl=function(){var e,t=Object(n.useState)({domain:"",loading:!1,step:Ll,ensDomainInfo:null}),a=Object(K.a)(t,2),i=a[0],o=a[1],l=Object(S.j)(),s=Object(fe.b)(La.c,{client:Y.b,variables:{slug:l.params.siteSlug},fetchPolicy:"cache-and-network"}).data,c=$()(s,"getSiteBySlug.id",""),u=(e={},Object(B.a)(e,Ll,r.a.createElement(r.a.Fragment,null,r.a.createElement(Wl,{state:i,setState:o}),r.a.createElement(zl,{state:i,setState:o}))),Object(B.a)(e,Fl,r.a.createElement(r.a.Fragment,null,r.a.createElement(Wl,{state:i,setState:o}),r.a.createElement(Gl,{state:i}),r.a.createElement(Yl,{state:i,setState:o,siteId:c}))),Object(B.a)(e,Ul,r.a.createElement(r.a.Fragment,null,r.a.createElement(Wl,{state:i,setState:o}),r.a.createElement(Zl,{state:i,setState:o}),r.a.createElement(Yl,{state:i,setState:o,siteId:c}))),e);return r.a.createElement(ae.a,{padding:"37px 290px 48px 58px"},r.a.createElement(Rl,null),u[i.step]||null)},Xl=function(){var e=Object(S.j)(),t=Object(te.a)().t,a=Object(fe.b)(La.c,{client:Y.b,variables:{slug:e.params.siteSlug}}).data,n=$()(a,"getSiteBySlug.id",""),i=r.a.createElement(E.a,null);return r.a.createElement(E.h,{topBarContent:i},r.a.createElement(ee.Helmet,null,r.a.createElement("title",null,t("addCustomDomain.pageTitle"))),r.a.createElement(Jl,{siteId:n}))},es=function(){var e=Object(S.j)(),t=Object(te.a)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.Helmet,null,r.a.createElement("title",null,t("sites.page_title"))),r.a.createElement(S.d,null,r.a.createElement(S.b,{path:"".concat(e.path,"/:siteSlug/add-domain")},r.a.createElement(fl,null)),r.a.createElement(S.b,{path:"".concat(e.path,"/:siteSlug/add-hns-domain")},r.a.createElement(Pl,null)),r.a.createElement(S.b,{path:"".concat(e.path,"/:siteSlug/add-ens-domain")},r.a.createElement(Xl,null)),r.a.createElement(S.b,{path:"".concat(e.path,"/:siteSlug")},r.a.createElement(Yo,null))))},ts=a(1136),as="SITES_LIST",ns=a(1125),rs=a.n(ns),is=function(e){var t,a=e.history,n=e.classes;return Object(B.a)({},as,{ImageComponent:(t=rs.a,function(e){var a=e.className;return r.a.createElement("img",{className:a,src:t,alt:""})}),transKeys:{title:"noDataInfo.sitesList.title",subtitle:"noDataInfo.sitesList.subtitle",description:"noDataInfo.sitesList.description",goToDocs:"noDataInfo.sitesList.goToDocs",buttonText:"noDataInfo.sitesList.buttonText"},link:"https://docs.fleek.co/hosting/overview/",onClickButton:function(){return a.push("/start/connect-repository?accountId=".concat(Object(Ie.a)()))},overrideClasses:{description:n.thinnerDescription}})},os=Object(ce.a)((function(){return{thinnerDescription:{paddingRight:105},backdrop:{zIndex:9}}})),ls=function(e){var t=e.isContentActive,a=function(e){var t=Object(te.a)().t,a=Object(S.g)(),n=os(),r=is({history:a,classes:n})[e],i=r.transKeys,o=r.link,l=r.ImageComponent,s=r.onClickButton,c=r.overrideClasses;return{i18n:{title:t(i.title),subtitle:t(i.subtitle),description:t(i.description),buttonText:t(i.buttonText),linkText:t(i.goToDocs),chipsText:t(i.chipsText)},ImageComponent:l,link:o,onClickButton:s,overrideClasses:c}}(e.type),n=a.i18n,i=a.onClickButton,o=a.link,l=a.ImageComponent,s=a.overrideClasses,c=os();return r.a.createElement(ts.a,{i18n:n,onClickButton:i,link:o,ImageComponent:l,overrideClasses:Object(N.a)(Object(N.a)({},s),{},{backdrop:c.backdrop}),isShownOverlay:!t},null)},ss=Object(ce.a)((function(e){return{root:{minHeight:68,display:"flex",alignItems:"center",flexDirection:"row",paddingLeft:27,paddingRight:27},rowContainer:{display:"inline-flex",width:"100%",alignItems:"center"},imageContainer:{paddingRight:28,height:48,display:"inline-block"},siteInfoContainer:{display:"inline-flex",flexDirection:"column",width:290},siteOwnerInfoContainer:{display:"inline-block",width:390},endArrowContainer:{display:"inline-flex",fontSize:10,flexGrow:1,justifyContent:"flex-end"},endArrowBasic:{outline:0,display:"inline-block",width:10},endArrowClickable:{cursor:"pointer"},image:{width:"100%",height:"100%",objectFit:"cover"},placeholderIconContainer:{display:"inline-block",height:20,fontSize:20},imagePlaceholder:{width:66,height:48,borderRadius:3,border:"1px solid ".concat(e.palette.grey[300]),color:e.palette.grey[300],display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},mainText:{fontSize:15,fontWeight:500},subText:{fontSize:13,color:"#666666"},greyColor:{color:"#666666"},cardLink:{flex:1,color:"inherit",textDecoration:"none"},deployLink:{color:e.palette.common.black,textDecoration:"underline"}}})),cs=function(e){var t=e.i18n,a=e.site,n=e.isPlaceholder,i=a.ipfsUrl,o=a.imageUrl,l=a.siteName,s=a.githubUrl,c=a.siteOwner,u=a.lastPublishedTimestamp,d=a.cardOnClickDestination,m=a.status,p=a.source,b=Object(te.a)().t,f=ss(e),g=function(){var e,d;return r.a.createElement("div",{className:f.rowContainer},r.a.createElement("div",{className:f.imageContainer},o&&!n?r.a.createElement("div",{className:f.imagePlaceholder},r.a.createElement("img",{src:o,alt:"site preview",className:f.image})):r.a.createElement("div",{className:f.imagePlaceholder},r.a.createElement("div",{className:f.placeholderIconContainer},r.a.createElement(le.default,{icon:["fal","image"],fontSize:"inherit"})))),r.a.createElement("div",{className:f.siteInfoContainer},n||!l?r.a.createElement(se.a,{className:Bt()(f.mainText,f.greyColor)},t.addNewSite):r.a.createElement(se.a,{className:f.mainText},l),function(){var e=null,o=null;o=n||!s?r.a.createElement("span",null,t.github):r.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:f.deployLink,onClick:function(e){return e.stopPropagation()}},t.github),e=n||!s?r.a.createElement("span",null,t.ipfs):r.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:f.deployLink,onClick:function(e){return e.stopPropagation()}},t.ipfs);var l="ipfs"===a.platform?e:t.dfinity;return Kt(p)===L.l.LOCAL?r.a.createElement(se.a,{className:f.subText},t.deployLocally):r.a.createElement(se.a,{className:f.subText},"".concat(t.deployFrom," "),o," ".concat(t.andSymbol," "),l)}()),r.a.createElement("div",{className:f.siteOwnerInfoContainer},function(){var e=t.ownedBy;return!n&&c&&(e+=" ".concat(c)),r.a.createElement(se.a,{className:Bt()(f.mainText,Object(B.a)({},f.greyColor,n||!c))},e)}(),function(){var e;switch(m){case L.a.DEPLOYED:if(e=t.lastPublished,u){var a=Va()(u).fromNow(),i=Object(E.q)(b,{isPublished:!0,createdAt:void 0,lastPublishAt:u});e="".concat(i," (").concat(a,")")}break;case L.a.FAILED:case L.a.CANCELLED:case L.a.TIMEOUT:e=t.failedDeploy;break;case L.a.IN_PROGRESS:e=t.deployInProgress;break;default:e=""}return n&&(e=t.lastPublished),r.a.createElement(se.a,{className:f.subText},e)}()),r.a.createElement("div",{className:Bt()((e={},Object(B.a)(e,f.endArrowContainer,!0),Object(B.a)(e,f.greyColor,n),e))},r.a.createElement("div",{className:Bt()((d={},Object(B.a)(d,f.endArrowClickable,!n),Object(B.a)(d,f.endArrowBasic,!0),d))},r.a.createElement(le.default,{icon:["fal","angle-right"],fontSize:"inherit",color:"inherit"}))))};return!n&&d?r.a.createElement(kr.a,{className:f.root},r.a.createElement(O.b,{to:d,className:f.cardLink},g())):r.a.createElement(kr.a,{className:f.root},g())};cs.defaultProps={isPlaceholder:!1,site:{imageUrl:null,githubUrl:null,ipfsUrl:null,isPlaceholder:!1,siteName:null,siteOwner:null,lastPublishedTimestamp:null,cardOnClickDestination:null,status:"",platform:"ipfs",source:{}}};var us=cs,ds=a(135),ms=Object(ce.a)((function(){return{rowContainer:{width:"100%",paddingLeft:27,paddingRight:27,margin:0,minHeight:68,display:"flex",alignItems:"center"},imageContainer:{paddingRight:28,display:"inline-block"},siteInfoContainer:{display:"inline-flex",flexDirection:"column",width:290},siteOwnerInfoContainer:{display:"inline-block",width:390},endArrowContainer:{display:"inline-flex",fontSize:10,flexGrow:1,justifyContent:"flex-end"}}})),ps=function(){var e=ms();return r.a.createElement(kr.a,{className:e.rowContainer},r.a.createElement("div",{className:e.imageContainer},r.a.createElement(ds.a,{width:66,height:48})),r.a.createElement("div",{className:e.siteInfoContainer},r.a.createElement(ds.a,{width:133,height:19}),r.a.createElement(ds.a,{width:166,height:14})),r.a.createElement("div",{className:e.siteOwnerInfoContainer},r.a.createElement(ds.a,{width:202,height:19}),r.a.createElement(ds.a,{width:264,height:14})),r.a.createElement("div",{className:e.endArrowContainer},r.a.createElement(ds.a,{width:16,height:22})))},bs=function(e){var t=$()(e,"slug"),a=Object(E.r)(e),n=$()(e,"team.name","-"),r=$()(e,"latestDeploy.ipfsHash"),i=$()(e,"latestDeploy.previewImage"),o=$()(e,"latestDeploy.repository.url"),l=$()(e,"latestDeploy.completedAt",""),s=$()(e,"publishedDeploy.status",null)||$()(e,"latestDeploy.status","");return{ipfsUrl:r?"https://ipfs.io/ipfs/".concat(r):null,siteName:a,imageUrl:i,githubUrl:o,siteOwner:n,cardOnClickDestination:E.s.buildUrl(null,"/sites/".concat(t,"/overview")),lastPublishedTimestamp:l,status:s,platform:$()(e,"platform","ipfs"),source:$()(e,"deploySettings.source",{})}},fs=Object(ce.a)({buttonContainer:{marginBottom:23,alignSelf:"flex-end",paddingRight:27},linkButton:{textDecoration:"none"}}),gs=function(e,t){var a=$()(e,"getSitesByTeam.sites",[]),n=$()(t,"getSitesByTeam.sites",[]),r=$()(t,"getSitesByTeam.nextToken",null);return{getSitesByTeam:{sites:[].concat(Object(P.a)(a),Object(P.a)(n)),nextToken:r,__typename:"SiteConnection"}}},ys=function(){var e=Object(S.j)(),t=Object(S.h)(),a=Object(te.a)().t,n=Object(Ie.a)(),i=Object(fe.b)(Ee.a,{client:Y.b,variables:{teamId:e.params.teamId,limit:L.h},notifyOnNetworkStatusChange:!0}),o=i.loading,l=i.data,s=i.fetchMore,c=$()(l,"getSitesByTeam.nextToken");an({nextToken:c,updateCache:gs,fetchMore:s});var u=fs(),d=o||!!$()(l,"getSitesByTeam.sites.length");return r.a.useEffect((function(){window.analytics.page("Sites",{path:t.pathname,search:t.search})}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ls,{type:as,isContentActive:d}),r.a.createElement(ae.a,{padding:"15px 0 25px 0"},r.a.createElement("div",{className:u.buttonContainer},r.a.createElement(O.b,{to:"/start/connect-repository?accountId=".concat(n),className:u.linkButton},r.a.createElement(oe.a,{buttonVariant:"primary",className:u.button},a("sites.addNewSite")))),function(){if(o&&!l)return r.a.createElement(xr.a,{striped:!0},Array(4).fill().map((function(e,t){return r.a.createElement(ps,{key:"skeleton-".concat(t)})})));var e={at:a("sites.at"),ipfs:a("sites.ipfs"),github:a("sites.github"),ownedBy:a("sites.ownedBy"),dfinity:a("sites.dfinity"),andSymbol:a("sites.andSymbol"),deployFrom:a("sites.deployFrom"),addNewSite:a("sites.addNewSite"),lastPublished:a("sites.lastPublished"),deployInProgress:a("sites.deployInProgress"),failedDeploy:a("sites.failedDeploy"),deployLocally:a("sites.deployLocally")},t=$()(l,"getSitesByTeam.sites",[]);return r.a.createElement("div",{id:"test-sites"},0===t.length&&r.a.createElement(us,{isPlaceholder:!0,i18n:e}),r.a.createElement(xr.a,{striped:!0},t.map((function(t){var a=bs(t);return r.a.createElement(us,{key:t.id,i18n:e,site:a})})),c&&o&&r.a.createElement(ps,{amountRows:1})))}()))},hs=Object(ce.a)((function(e){return{memberInfo:{flex:1,display:"inherit",flexDirection:"row",alignItems:"center"},memberData:{width:"auto",marginLeft:22,"& > p":{margin:0},"& > .user-name":{fontSize:15,fontWeight:500,color:e.palette.text.primary},"& > .user-email":{fontSize:13,color:e.palette.palette.grey2,display:function(e){return e.name?"inherit":"none"}}},memberAvatar:{display:"inherit",alignItems:"center",justifyContent:"center",border:"solid 1px ".concat(e.palette.palette.grey4),"&, & > img":{width:48,height:48,borderRadius:4,objectFit:"cover"},backgroundColor:e.palette.palette.whiteThree,"& > div, & > div > svg":{height:21,width:"18px !important"},"& > div":{fontSize:20,color:e.palette.palette.grey4}}}})),vs=function(e){var t=e.name,a=e.email,n=e.profilePic,i=hs({name:t}),o=n?r.a.createElement("img",{alt:t,src:n}):r.a.createElement(le.default,{icon:["fal","user"]});return r.a.createElement("div",{className:i.memberInfo},r.a.createElement("div",{className:i.memberAvatar},o),r.a.createElement("div",{className:i.memberData},r.a.createElement("p",{className:"user-name"},t||a),r.a.createElement("p",{className:"user-email"},a)))};vs.defaultProps={name:null,profilePic:null};var Es=vs,Os="member",Ss="PENDING",js="MEMBER",xs="INVITATION",ks=Object(ce.a)((function(e){return{memberStatus:{flex:1,"& > p":{margin:0},"& > p:nth-child(1)":{fontSize:15,fontWeight:500,color:function(t){return t.status===Ss?e.palette.palette.grey2:"#000000"}},"& > p:nth-child(2)":{fontSize:13,color:e.palette.palette.grey2,display:function(e){return e.status===Ss?"none":"flex"}}}}})),ws=function(e){var t=e.role,a=e.status,n=Object(te.a)().t,i=ks({status:a});return r.a.createElement("div",{className:i.memberStatus},r.a.createElement("p",null,n(a===Ss?"members.invited":"members.roles.".concat(t))),r.a.createElement("p",null,n("members.allSites")))},Cs=Object(ce.a)((function(e){return{optionsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",minWidth:27},memberOption:{padding:0,fontSize:12,cursor:"pointer",color:e.palette.error.main},spinner:{paddingLeft:5,"& > div":{display:"flex"},"& > div > div":{width:"12px !important",height:"12px !important",color:e.palette.error.main}},iconButtonRoot:{width:5,padding:0,"&:hover":{backgroundColor:"transparent"}}}})),Ns=function(e){var t=e.id,a=e.type,n=Cs(),i=Object(S.j)(),o=Object(te.a)().t,l=r.a.useState({isLoading:!1}),s=Object(K.a)(l,2),c=s[0],u=s[1],d=i.params.teamId,m=Object(Kl.useMutation)(Mr.l,{client:Y.b,update:function(e){try{var a=e.readQuery({query:Q.g,variables:{teamId:d}}),n=a.getMembersByTeam.filter((function(e){return e.member?e.member.id!==t:e.pendingMember.id!==t}));e.writeQuery({query:Q.g,variables:{teamId:d},data:Object(N.a)(Object(N.a)({},a),{},{getMembersByTeam:n})})}catch(r){console.error("Error when trying to update GET_TEAM_MEMBERS query: ",r.message)}}}),p=Object(K.a)(m,1)[0],b=function(){var e=Object(G.a)(H.a.mark((function e(n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),u({isLoading:!0}),e.prev=2,e.next=5,p({variables:{input:{type:a,teamId:d,memberSlotId:t}}});case 5:xa.c.success(o("members.removeMember.success"),{autoClose:6e3}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),u((function(e){return Object(N.a)(Object(N.a)({},e),{},{isLoading:!1})})),console.error("Error when trying to remove a member: ",e.t0.message),xa.c.error(o("members.removeMember.error"),{autoClose:6e3});case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Pr.a,{menuId:"menu-dropdown-member-options",trigger:r.a.createElement(Br.a,{disableRipple:!0,disableFocusRipple:!0,classes:{root:n.iconButtonRoot}},r.a.createElement(Ar.a,null))},r.a.createElement(kr.a,{className:n.memberOption,onClick:b},r.a.createElement(_e.a,{type:"button",className:"remove-domain-button",onClick:b},o("members.remove"),c.isLoading&&r.a.createElement("span",{className:n.spinner},r.a.createElement(Ve.a,{positioning:"inline"})))))},Is=Object(ce.a)({member:{minHeight:78,display:"flex",alignItems:"center",padding:"15px 25px"}}),Ds=function(e){var t=e.member,a=e.isCurrentUserTeamOwner,n=Is(),i=$()(t,"member.lastname"),o=$()(t,"member.email"),l=$()(t,"member.firstname"),s=$()(t,"accessLevel")||"member",c=$()(t,"pendingMember.status")||"",u=$()(t,"member.profilePic",null),d=$()(t,"pendingMember.email"),m=function(e){return e.member?js:xs}(t),p=function(e){var t=e.firstname,a=e.lastname;return t?a?"".concat(t," ").concat(a):t:a||null}({firstname:l,lastname:i});return r.a.createElement(kr.a,{className:n.member},r.a.createElement(Es,{name:p,profilePic:u,email:o||d}),r.a.createElement(ws,{role:s,status:c}),a&&s===Os&&r.a.createElement(Ns,{type:m,id:t.id}))},Ts=Object(ce.a)({skeletonRoot:{borderRadius:4},member:{display:"flex",alignItems:"center",padding:"15px 25px"},memberInfo:{flex:1,display:"inherit",flexDirection:"row","& > div":{flex:1,marginLeft:22,display:"flex",flexDirection:"column",justifyContent:"space-around"}},memberStatus:{flex:1,display:"inherit",alignSelf:"stretch",flexDirection:"column",justifyContent:"space-around"}}),As=function(){var e=Ts();return r.a.createElement(kr.a,{className:e.member},r.a.createElement("div",{className:e.memberInfo},r.a.createElement(ht.a,{width:48,height:48,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}),r.a.createElement("div",null,r.a.createElement(ht.a,{width:97,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}),r.a.createElement(ht.a,{height:18,width:146,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))),r.a.createElement("div",{className:e.memberStatus},r.a.createElement(ht.a,{height:20,width:46,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}),r.a.createElement(ht.a,{width:47,height:18,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement(ht.a,{width:5,height:21,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))},Bs=function(e){var t=e.loading,a=e.members,n=e.isCurrentUserTeamOwner;return r.a.createElement(xr.a,{striped:!0},t&&Array(2).fill().map((function(e,t){return r.a.createElement(As,{key:t})})),!t&&a.map((function(e){var t=$()(e,"member.id"),a=$()(e,"pendingMember.id");return r.a.createElement(Ds,{key:t||a,isCurrentUserTeamOwner:n,member:Object(N.a)(Object(N.a)({},e),{},{id:t||a})})})))},Ps=Object(ce.a)({buttonContainer:{marginBottom:23,alignSelf:"flex-end",paddingRight:27},linkButton:{textDecoration:"none"},linkButtonDisabled:{pointerEvents:"none"},alertRoot:{margin:"5px 25px 0px 25px"}}),Ms=function(){var e,t=Ps(),a=Object(S.j)(),n=Object(S.h)(),i=Object(te.a)().t,o=a.params.teamId,l=Object(Kl.useQuery)(Q.a,{client:Y.c,variables:{id:o}}),s=Object(Kl.useQuery)(Q.k,{client:Y.b,variables:{id:o}}),c=Object(Kl.useQuery)(Q.g,{client:Y.b,variables:{teamId:o}}),u=c.error,d=c.data,m=c.loading,p=$()(d,"getMembersByTeam",[]),b=$()(s,"data.getTeamById.creatorId",""),f=$()(l,"data.getCurrentUser.user.id",""),g=$()(s,"data.getTeamById.status")===L.m.SUSPENDED;return r.a.useEffect((function(){window.analytics.page("Team Members",{path:n.pathname,search:n.search})}),[]),r.a.createElement(ae.a,{padding:"15px 0 35px 0"},f&&b&&f===b&&r.a.createElement("div",{className:t.buttonContainer},r.a.createElement(O.b,{className:Bt()((e={},Object(B.a)(e,t.linkButton,!0),Object(B.a)(e,t.linkButtonDisabled,g),e)),to:"/teams/".concat(o,"/members/add?accountId=").concat(o)},r.a.createElement(oe.a,{buttonVariant:"primary",className:t.button,disabled:g},i("members.add")))),u&&r.a.createElement(bi.a,{severity:"error",classes:{root:t.alertRoot},action:r.a.createElement(ta.a,{size:"small",color:"inherit",onClick:function(){return window.location.reload()}},i("members.tryAgain"))},i("members.error")),r.a.createElement(Bs,{loading:m,members:p,ownerId:b,isCurrentUserTeamOwner:f===b}))},Rs=a(300),Ls=a(302),Us=Object(ce.a)((function(e){return{title:{fontSize:17,color:e.palette.palette.black,fontWeight:500},creditCardInfoContainer:{display:"inline-flex",justifyContent:"center",alignItems:"center",margin:"15px 0 17px"},addPaymentBtn:{marginLeft:10}}})),Fs=function(e){var t=e.showTitle,a=e.creditCardFourLastDigits,n=e.creditCardType,i=e.newCreditCardAction,o=e.loading,l=Object(te.a)().t,s=Us();return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(se.a,{className:s.title},l("billing.changePlan.step2Payment.whichPayment")),a?r.a.createElement("div",{className:s.creditCardInfoContainer},r.a.createElement(Ls.a,{cardType:n,fourLastDigits:a}),r.a.createElement(oe.a,{disabled:o,onClick:i,className:s.addPaymentBtn},l("billing.changePlan.step2Payment.changePaymentMethod"))):r.a.createElement("div",{className:s.creditCardInfoContainer},r.a.createElement(oe.a,{buttonVariant:"primary",disabled:o,onClick:i},l("billing.changePlan.step2Payment.addPaymentMethod"))))};Fs.defaultProps={creditCardFourLastDigits:null,creditCardType:null,showTitle:!0,newCreditCardAction:function(){},loading:!1};var _s=Fs,Ws=Object(ce.a)((function(e){return{title:{fontWeight:500,fontSize:22},subtitle:{color:e.palette.palette.grey2,fontSize:15},sectionTitle:{fontSize:17,fontWeight:500},emailContainer:{marginTop:28},emailInput:{marginTop:13,width:330},submitButton:{marginTop:15,width:170},extraSeatsContainer:{marginBottom:10},boldText:{fontWeight:500},alert:{margin:"-5px 0px 8px 0px"},boxWrapper:{alignItems:"flex-start"}}})),Vs=function(e){var t=e.totalNewMembers,a=e.extraSeats,n=e.monthlyCost,i=Object(te.a)().t,o=Ws(),l=E.l.getDollarsFromCents(i,n);return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{className:o.sectionTitle},i("members.addMember.extraSeats.title")),r.a.createElement(se.a,{className:o.subtitle},r.a.createElement(Ba.a,{i18nKey:"members.addMember.extraSeats.description",values:{totalNewMembers:t,extraSeats:a,monthlyCost:l},components:[null,r.a.createElement("span",{className:o.boldText},"LAST_4_DIGITS")]})))},zs=function(){var e=Object(S.j)(),t=Object(S.g)(),a=Ws(),i=Object(te.a)().t,o=Object(g.b)(),l=Object(S.h)(),s=Object(n.useState)(""),c=Object(K.a)(s,2),u=c[0],d=c[1],m=Object(n.useState)(null),p=Object(K.a)(m,2),b=p[0],f=p[1],y=Object(n.useState)(!1),h=Object(K.a)(y,2),v=h[0],O=h[1],j=Object(n.useState)(!1),x=Object(K.a)(j,2),k=x[0],w=x[1],C=e.params.teamId,D=Object(fe.b)(Q.g,{client:Y.b,variables:{teamId:C}}),T=Object(fe.b)(Rs.a,{client:Y.b,variables:{teamId:C}}),A=T.refetch,B=T.data,M=Object(fe.a)(Mr.h,{client:Y.b,update:function(e,t){var a=t.data.inviteUser;try{var n=e.readQuery({query:Q.g,variables:{teamId:C}}),r=Object(P.a)(n.getMembersByTeam);a.forEach((function(e){r.push({member:null,accessLevel:null,__typename:"MemberSlot",pendingMember:Object(N.a)({},e)})})),e.writeQuery({query:Q.g,variables:{teamId:C},data:Object(N.a)(Object(N.a)({},n),{},{getMembersByTeam:r})})}catch(i){console.error("Error when trying to update GET_SITES_BY_TEAM query: ",i.message)}}}),R=Object(K.a)(M,2),L=R[0],U=R[1].loading,F=function(){return o(Object(I.p)(I.m,{onSuccess:function(){A()}}))},_=Object(fe.b)(Q.k,{client:Y.b,fetchPolicy:"network-only",variables:{id:C}}),W=$()(_,"data.getTeamById.seatCount",0),V=$()(D,"data.getMembersByTeam",[]),z=$()(_,"data.getTeamById.membersCount",0),q=$()(_,"data.getTeamById.pendingInviteCount",0),Z=$()(B,"getTeamBillingInformation.activePlan.selectedPlan.id",""),J=$()(B,"getTeamBillingInformation.paymentMethod",null),X=$()(B,"getTeamBillingInformation.activePlan.selectedPlan.extraTeamMemberPrice","0"),ee=""===u||U||k&&!J,ne=function(e){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,a=!0;return e.forEach((function(e){t.test(e)||(a=!1)})),a},re=function(e){var t=[];return e.forEach((function(e){V.find((function(t){return t.member?t.member.email===e:t.pendingMember.email===e}))&&t.push(e)})),t},ie=function(){var a=E.s.buildUrl(null,"/teams/".concat(e.params.teamId,"/members"));t.push(a)},le=function(){var e=Object(G.a)(H.a.mark((function e(){var t,a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v&&O(!1),""!==(t=u.replace(/ /g,""))){e.next=5;break}return f(i("members.addMember.emails.noEmailAddress")),e.abrupt("return");case 5:if(t=t.split(","),ne(t)){e.next=10;break}return f(i("members.addMember.emails.invalidEmail")),e.abrupt("return");case 10:if(!((a=re(t)).length>0)){e.next=14;break}return f(i("members.addMember.emails.duplicate",{count:a.length,emails:a.join(", ")})),e.abrupt("return");case 14:if(k){e.next=20;break}if(n=u.split(",").length,!(n+z+q>W||"basic_plan"===Z)){e.next=20;break}return w(!0),e.abrupt("return");case 20:return window.analytics.track("Member(s) invited",{teamId:C}),e.prev=21,e.next=24,L({variables:{teamId:C,emails:t}});case 24:ie(),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(21),console.error(e.t0),O(!0);case 31:case"end":return e.stop()}}),e,null,[[21,27]])})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){window.analytics.page("Add Team Member",{path:l.pathname,search:l.search})}),[]),r.a.createElement("div",null,r.a.createElement(be,{onClick:function(){ie()}}),r.a.createElement(ae.a,{padding:"37px 290px 48px 58px",overrideClass:{wrapper:a.boxWrapper}},r.a.createElement(se.a,{className:a.title},i("members.addMember.title")),r.a.createElement(se.a,{className:a.subtitle},i("members.addMember.subtitle")),r.a.createElement("div",{className:a.emailContainer},r.a.createElement(se.a,{className:a.sectionTitle},i("members.addMember.emails.title")),r.a.createElement(se.a,{className:a.subtitle},i("members.addMember.emails.subtitle")),r.a.createElement(Pe.a,{value:u,label:i("members.addMember.emails.fieldLabel"),onChange:function(e){d(e.target.value),b&&f(null),k&&w(!1),v&&O(!1)},error:!!b,errorMessage:b,className:a.emailInput})),v&&r.a.createElement(Xa.a,{type:"error",message:i("members.addMember.error.errorSendingInvitations"),className:a.alert,icon:["fal","times-circle"]}),k&&function(){var e=u.split(",").length,t=e+z+q,a=Math.abs(t-W),n=parseInt(X,10)*a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vs,{totalNewMembers:e,extraSeats:a,monthlyCost:n}),"basic_plan"===Z&&r.a.createElement(_s,{showTitle:!1,newCreditCardAction:F,creditCardType:$()(J,"issuer",""),creditCardFourLastDigits:$()(J,"card.lastCardNumbers","")}))}(),r.a.createElement(oe.a,{onClick:le,buttonVariant:"primary",color:"primary",disabled:ee,loading:U,className:a.submitButton},i("members.addMember.buttonText"))))},Hs=a(174),Gs=a(239),Ks=Object(ce.a)((function(){return{link:{display:"inline-flex",margin:"10px 0 23px",textDecoration:"none"},inputWrapper:{margin:"8px 0 9px",width:330}}})),qs=function(e){var t=e.initialValue,a=e.setTeamName,i=Object(n.useState)(t),o=Object(K.a)(i,2),l=o[0],s=o[1],c=Ks(),u=Object(te.a)().t,d="team.create.stepper.step1.teamName.";return r.a.createElement(Ce,{title:u("".concat(d,"title")),subtitle:u("".concat(d,"subtitle"))},r.a.createElement("div",null,r.a.createElement("div",{className:c.inputWrapper},r.a.createElement(Pe.a,{value:l,className:c.input,onChange:function(e){s(e.target.value)},label:u("".concat(d,"inputLabel"))})),r.a.createElement(oe.a,{buttonVariant:"primary",onClick:function(){a(l)},disabled:!l},u("".concat(d,"pickPlan")))))};qs.defaultProps={initialValue:""};var $s=qs,Ys=Object(ce.a)((function(e){return{wrapper:{"&&& > div:nth-child(n+2)":{marginTop:15}},container:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid ".concat(e.palette.palette.grey5),padding:"16px 25px",borderRadius:4},title:{fontWeight:"normal"},subtitle:{color:e.palette.palette.grey2},defaultButton:{"&&&":{width:170}},disabledButton:{"&&&":{"& p":{fontWeight:500,color:e.palette.palette.grey3},backgroundColor:"unset",border:"1px solid ".concat(e.palette.palette.grey5)}},pickPlanButton:{"&&&":{"& p":{color:e.palette.palette.whiteThree},"&:hover":{transition:"all 0.2s ease",backgroundColor:e.palette.primary.main,opacity:.8},border:"unset",backgroundColor:e.palette.primary.main}},contactUs:{marginTop:20,fontSize:15},emailLink:{color:e.palette.palette.primaryBlue,textDecoration:"none","&:hover":{textDecoration:"underline"}},resetAnchorStyles:{textDecoration:"none"}}})),Qs=function(e){return{title:e("billing.changePlan.pickPlan.title"),subtitle:e("billing.changePlan.pickPlan.subtitle"),plans:{title:function(t){return e("billing.changePlan.pickPlan.plans.title",Object(N.a)({},t))},pickPlan:e("billing.changePlan.pickPlan.plans.pickPlan"),contactSales:e("billing.changePlan.pickPlan.plans.contactSales"),currentPlan:e("billing.changePlan.pickPlan.plans.currentPlan"),perMonth:function(t){return e("billing.changePlan.pickPlan.plans.perMonth",{price:t})}}}},Zs=function(e){return 0===e.priceMonthly},Js=function(e){var t=e.onClickPlan,a=e.currentPlan,n=e.plans,i=e.supportEmail,o=Object(te.a)().t,l=Ys(),s=Qs(o),c=a.id&&n.length>0,u=function(e){var t=$()(e,"priceMonthly",0),a=Z.a.getUnlimitedOrValue(o,t);if(a.wasConverted)return a.value;var n=Z.a.getDollarsFromCents(o,a.value);return s.plans.perMonth(n)},d=function(e,t,a){var n;return r.a.createElement(oe.a,{disabled:t,onClick:a,overrideClass:{button:Bt()(l.defaultButton,(n={},Object(B.a)(n,l.disabledButton,t),Object(B.a)(n,l.pickPlanButton,!t&&a),n))},buttonVariant:"secondary"},e)};return r.a.createElement(Ce,{title:s.title,subtitle:s.subtitle},r.a.createElement("div",{className:l.wrapper},c&&n.map((function(e){var n=a.id===e.id,i=e.priceMonthly===L.i,o=function(e,t){return e?s.plans.currentPlan:t?s.plans.contactSales:s.plans.pickPlan}(n,i);return Zs(e)?null:r.a.createElement("div",{className:l.container,key:e.id},r.a.createElement("div",{className:l.textContainer},r.a.createElement(se.a,{variant:"body2",className:l.title},s.plans.title({name:e.name,price:u(e)})),r.a.createElement(se.a,{variant:"body2",className:l.subtitle},e.description)),i?r.a.createElement("a",{href:"https://fleek.co/pricing",target:"_blank",rel:"noopener noreferrer",className:l.resetAnchorStyles},d(o,n)):d(o,n,(function(){return function(e){t({plan:e})}(e)})))})),c&&function(){if(Zs(a))return null;var e=n.find(Zs);return r.a.createElement(se.a,{className:l.contactUs},r.a.createElement(Ba.a,{i18nKey:"billing.changePlan.pickPlan.plans.contactUs",values:{supportEmail:i,startPlan:e.name},components:[null,r.a.createElement("a",{href:"mailto:".concat(i),className:l.emailLink},"EMAIL")]}))}()))};Js.defaultProps={onClickPlan:function(){}};var Xs=Js,ec=a(82),tc=function(e){var t=e.selectPlan,a=Object(fe.b)(Gs.a,{client:Y.b}).data,n=$()(a,"getPlans",[]);return r.a.createElement(Xs,{onClickPlan:t,plans:n,currentPlan:{id:"basic_plan"},supportEmail:ec.a.supportEmail})},ac=Object(ce.a)((function(e){return{title:{fontSize:17,color:e.palette.palette.black,fontWeight:500},subtitle:{fontSize:15,color:e.palette.palette.grey2,marginTop:-3},additionText:{fontSize:15,color:e.palette.palette.black},totalText:{fontSize:15,color:e.palette.palette.black,fontWeight:500},billLineContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0px 22px",height:46}}})),nc=function(e){var t=e.itemsList,a=Object(te.a)().t,n=ac(),i=t.reduce((function(e,t){return e+t.price}),0),o=E.l.getDollarsFromCents(a,i);return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{className:n.title},a("billing.changePlan.step2Payment.summary")),r.a.createElement(se.a,{className:n.subtitle},a("billing.changePlan.step2Payment.summarySubtitle")),r.a.createElement(yt.a,null,t.map((function(e){return r.a.createElement("div",{className:n.billLineContainer,key:e.name},r.a.createElement(se.a,{className:n.additionText},e.name),r.a.createElement(se.a,{className:n.additionText},E.l.getDollarsFromCents(a,e.price)))})).concat([r.a.createElement("div",{className:n.billLineContainer,key:"total"},r.a.createElement(se.a,{className:n.totalText},a("billing.changePlan.step2Payment.total")),r.a.createElement(se.a,{className:n.totalText},o))])))};nc.defaultProps={itemsList:[]};var rc=nc,ic=Object(ce.a)((function(e){return{planInfoContainer:{marginBottom:25},title:{fontSize:17,color:e.palette.palette.black,fontWeight:500},subtitle:{fontSize:15,color:e.palette.palette.grey2,marginTop:-3}}})),oc=function(e){var t=e.name,a=e.description,n=e.price,i=Object(te.a)().t,o=ic(),l=E.l.getDollarsFromCents(i,n);return r.a.createElement("div",{className:o.planInfoContainer},r.a.createElement(se.a,{className:o.title},i("billing.changePlan.step2Payment.pickedPlan",{type:t,price:l})),r.a.createElement(se.a,{className:o.subtitle},a))};oc.defaultProps={name:"",description:"",price:0};var lc,sc=oc,cc=function(e,t,a){var n=E.l.getUnlimitedOrValue(e,t);return{limit:n.wasConverted?n.value.toLowerCase():e("billing.changePlan.step2Payment.upTo",{limit:n.value}),text:n.wasConverted||1!==n.value?e("billing.changePlan.step2Payment.".concat(a,"Plural")):e("billing.changePlan.step2Payment.".concat(a,"Singular"))}},uc=function(e,t){var a=e("billing.changePlan.step2Payment.typePlan",{type:t.name}),n=$()(t,"limitTeamMembers",0),r=cc(e,t.limitNumberOfSites,"site"),i=cc(e,n,"user");return e("billing.changePlan.step2Payment.including",{plan:a,siteLimit:r.limit,sitesText:r.text,userLimit:i.limit,usersText:i.text})},dc=Object(ye.a)(lc||(lc=Object(ge.a)(["\n  mutation addTeam($input: AddTeamInput!) {\n    addTeam(input: $input) {\n      id\n      name\n    }\n  }\n"]))),mc=function(e,t){var a=t.data;try{var n=e.readQuery({query:Q.f}),r=n.getMemberships.memberships,i={teamId:a.addTeam.id,teamName:a.addTeam.name,accessLevel:"admin",createdAt:(new Date).toUTCString(),__typename:"Membership"};e.writeQuery({query:Q.f,data:Object(N.a)(Object(N.a)({},n),{},{getMemberships:Object(N.a)(Object(N.a)({},n.getMemberships),{},{memberships:[].concat(Object(P.a)(r),[i])})})})}catch(o){console.log("Error: Updating memberships cache",o)}},pc=function(){var e=Object(S.g)(),t=Object(fe.a)(dc,{client:Y.b,update:mc,onCompleted:function(t){var a=$()(t,"addTeam");if(a){var n=E.s.buildUrl({accountId:a.id},"/teams/".concat(a.id,"/sites"));e.push(n)}}}),a=Object(K.a)(t,2);return{addTeam:a[0],loading:a[1].loading}},bc=Object(ce.a)((function(e){return{title:{fontSize:17,color:e.palette.palette.black,fontWeight:500,marginBottom:17},input:{width:330},submitButton:{marginTop:20}}})),fc=function(e){var t=e.teamName,a=e.selectedPlan,i=Object(te.a)().t,o=pc(),l=o.addTeam,s=o.loading,c=Object(n.useState)(),u=Object(K.a)(c,2),d=u[0],m=u[1],p=Object(n.useState)({}),b=Object(K.a)(p,2),f=b[0],y=b[1],h=Object(n.useState)(Math.max(a.limitTeams,3)),v=Object(K.a)(h,2),E=v[0],O=v[1],S=Object(g.b)(),j=bc();Object(n.useEffect)((function(){(function(){var e=Object(G.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=11;break}return e.prev=1,e.next=4,Y.b.query({query:Q.h,variables:{paymentMethodId:d}});case 4:t=e.sent,y($()(t,"data.getPaymentMethodInformation",{})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[d]);var x=$()(a,"limitTeamMembers",0),k=$()(a,"extraTeamMemberPrice",0),w=[{name:uc(i,a),price:a.priceMonthly}],C=E-x;C>0&&w.push({name:i("team.create.stepper.step3.additionalUsersLabel",{userNumber:C,pricePerUser:k/100}),price:k*C});var N=function(){var e=Object(G.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({variables:{input:{name:t,paymentMethodId:d,planId:a.id,seatCount:E}}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),D=$()(f,"card.lastCardNumbers"),T=$()(f,"issuer");return r.a.createElement(r.a.Fragment,null,r.a.createElement(sc,{name:a.name,description:a.description,price:a.priceMonthly}),r.a.createElement(se.a,{className:j.title},i("team.create.stepper.step3.howManyPeople")),r.a.createElement(Pe.a,{value:E,className:j.input,onChange:function(e){e.target.value||O("");var t=parseInt(e.target.value,10);"number"===typeof t&&t>0&&O(t<3?3:t)},onBlur:function(){var e=parseInt(E,10);O("number"===typeof e&&e>0?e:3)},label:i("team.create.stepper.step3.inputLabel"),type:"number"}),r.a.createElement(_s,{creditCardFourLastDigits:D,creditCardType:T,newCreditCardAction:function(){return S(Object(I.p)(I.m,{useTeamId:!1,onSuccess:function(e){var t=$()(e,"setupIntent.payment_method","");m(t)}}))},loading:s}),r.a.createElement(rc,{itemsList:w}),r.a.createElement(oe.a,{loading:s,disabled:!D,buttonVariant:"primary",onClick:N,className:j.submitButton},i("team.create.stepper.step3.createTeam")))};fc.defaultProps={teamName:""};var gc=fc,yc="/summary/:teamName/:planId",hc=function(){var e=Object(S.g)(),t=Object(te.a)().t,a=Object(S.j)(),i=Object(S.h)(),o=Object(Hs.a)(),l=Object(fe.b)(Gs.a,{client:Y.b}),s=["".concat(a.url).concat("/team-name"),"".concat(a.url).concat("/pick-plan/:teamName"),"".concat(a.url).concat(yc)].findIndex((function(e){return Object(S.f)(i.pathname,{path:e,exact:!0})})),c=function(){var t;switch(s){case 0:t="/teams/".concat(o,"/sites");break;case 1:t="".concat(a.url).concat("/team-name");break;case 2:var n=Object(S.f)(i.pathname,{path:"".concat(a.url).concat(yc),exact:!0}).params;t="".concat(a.url,"/pick-plan/").concat(n.teamName)}e.push(E.s.buildUrl(null,t))},u=[t("team.create.stepper.step1.title"),t("team.create.stepper.step2.title"),t("team.create.stepper.step3.title")],d=Object(S.f)(i.pathname,{path:"".concat(a.url).concat(yc),exact:!0}),m=$()(d,"params.planId"),p=$()(l,"data.getPlans",[]).find((function(e){return e.id===m}));Object(n.useEffect)((function(){var e=!p&&!l.loading;d&&e&&c()}),[d,l.loading]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(be,{onClick:c}),r.a.createElement(ae.a,{padding:"37px 57px 42px"},r.a.createElement(re.a,{title:t("team.create.stepper.title"),description:t("team.create.stepper.description"),stepTitles:u,indexOfActiveStep:s},r.a.createElement(S.d,null,r.a.createElement(S.b,{path:"".concat(a.url).concat("/team-name"),exact:!0},r.a.createElement($s,{setTeamName:function(t){e.push(E.s.buildUrl(null,"".concat(a.url,"/pick-plan/").concat(t)))}})),r.a.createElement(S.b,{path:"".concat(a.url).concat("/pick-plan/:teamName"),exact:!0},r.a.createElement(tc,{selectPlan:function(t){var n=t.plan,r=Object(S.f)(i.pathname,{path:"".concat(a.url).concat("/pick-plan/:teamName"),exact:!0}).params;e.push(E.s.buildUrl(null,"".concat(a.url,"/summary/").concat(r.teamName,"/").concat(n.id)))}})),r.a.createElement(S.b,{path:"".concat(a.url).concat(yc),exact:!0},p?r.a.createElement(gc,{teamName:d.params.teamName,selectedPlan:p}):null),r.a.createElement(S.a,{to:E.s.buildUrl(null,"".concat(a.url).concat("/team-name"))})))))},vc=a(2116),Ec=a(2123),Oc=Object(ce.a)((function(e){return{root:{height:135,display:"flex",flexDirection:"row",alignItems:"center"},fileName:{fontWeight:500,marginRight:15,minWidth:0},ipfsIcon:{width:15,height:15,margin:"3px 9px 0 0"},ipfsPending:{color:e.palette.palette.grey2},ipfs:{textDecoration:"underline",color:"black"},row:{display:"flex",alignItems:"center",flexDireciton:"row"},textContainer:{flex:1,paddingRight:10,display:"flex",flexDirection:"column",maxWidth:"calc(100% - 250px)"},skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},objectUrl:{margin:"13px 0","& a":{textDecoration:"none"},"& p":{display:"list-item"}},lastModifiedDate:{flexShrink:0}}})),Sc=function(e){var t=e.url,a=e.icon,n=e.status,i=e.ipfsHash,o=e.fileName,l=e.imageSrc,s=e.loadingHash,c=e.loadingInfo,u=e.lastModification,d=Oc(),m=Object(te.a)().t;return r.a.createElement(ae.a,{padding:"11px 15px 11px 27px",overrideClass:{wrapper:d.root}},r.a.createElement("div",{className:d.textContainer},r.a.createElement("div",{className:d.row},r.a.createElement(se.a,{variant:"h6",display:"inline",className:d.fileName,noWrap:!0},o),c?r.a.createElement(ht.a,{width:150,height:20,variant:"rect",animation:"wave",classes:{root:d.skeletonRoot}}):r.a.createElement(se.a,{variant:"body2",display:"inline",color:"textSecondary",className:d.lastModifiedDate},u)),r.a.createElement("div",{className:d.objectUrl},r.a.createElement("a",{href:"https://".concat(t),target:"_blank",rel:"noopener noreferrer",className:d.urlLink},r.a.createElement(Ec.b,{noWrap:!0,status:n,variant:"body2"},t))),r.a.createElement("div",{className:d.row},r.a.createElement("img",{alt:"Ipfs logo",className:d.ipfsIcon,src:"https://storage.googleapis.com/terminal-assets/images/wallets/ipfs.svg"}),!i&&s?r.a.createElement(ht.a,{width:130,height:20,variant:"rect",animation:"wave",classes:{root:d.skeletonRoot}}):i?r.a.createElement("a",{href:Object(Z.g)(i),target:"_blank",rel:"noopener noreferrer",className:d.ipfs},r.a.createElement(se.a,{variant:"body2"},m("sites.siteHeader.ipfs.verify"))):r.a.createElement(se.a,{variant:"body2",className:d.ipfsPending},m("sites.siteHeader.ipfs.pending")))),r.a.createElement("div",null,a?c?r.a.createElement(ht.a,{width:250,height:112,variant:"rect",animation:"wave",classes:{root:d.skeletonRoot}}):r.a.createElement(vc.b,{icon:a,imageSrc:l}):null))};Sc.defaultProps={fileName:"",lastModification:"",url:"",status:Ec.a.Success,ipfsHash:null,imageSrc:null,icon:null,loadingHash:!1,loadingInfo:!1};var jc=Sc,xc=function(e){var t=e.loading,a=e.details,n=Object(te.a)().t,i=Object.entries(a);return r.a.createElement(Ln,null,i.map((function(e){var a=Object(K.a)(e,2),i=a[0],o=a[1];return r.a.createElement(Vn,{key:i,value:o,loading:t,field:"".concat(n("storage.details.".concat(i)),":")})})))},kc=Object(ce.a)({option:{height:25,alignItems:"stretch","&:hover":{backgroundColor:"#f4f4f4"},"& > button":{flex:1,padding:"0 10px",justifyContent:"flex-start"}}}),wc=function(e){var t=e.name,a=e.warning,n=e.onClick,i=kc(),o=a?"error":"primary";return r.a.createElement(kr.a,{className:i.option},r.a.createElement(_e.a,{type:"button",onClick:n},r.a.createElement(se.a,{color:o,variant:"caption"},t)))};wc.defaultProps={warning:!1};var Cc=wc,Nc=Object(ce.a)((function(e){return{divider:{height:1,margin:"3px 0",backgroundColor:e.palette.palette.whiteSmoke}}})),Ic=function(){var e=Nc();return r.a.createElement(kr.a,{className:e.divider})},Dc=a(436),Tc=a.n(Dc),Ac=Object(ce.a)((function(e){return{buttonContent:{height:18,display:"flex",flexDirection:"row","& > div":{fontSize:11,marginLeft:5,display:"inline-flex"}},button:{borderColor:e.palette.primary.main,"&:hover":{backgroundColor:"unset !important"}},disabledButton:{borderColor:"transparent",color:"white !important"},list:{padding:"5px 0"}}})),Bc=function(e){var t=e.btnName,a=e.disabled,n=e.children,i=Ac();return r.a.createElement(Pr.a,{offsetTop:7,className:i.list,menuId:"actions-menu-dropdown",trigger:r.a.createElement(Tc.a,{disableRipple:!0,disableFocusRipple:!0,disabled:a,buttonVariant:"secondary",overrideClass:{button:"".concat(a?i.disabledButton:i.button)}},r.a.createElement("div",{className:i.buttonContent},r.a.createElement("span",null,t),r.a.createElement(le.default,{icon:["fal","angle-down"]})))},n)};Bc.defaultProps={children:null,disabled:!1};var Pc=Bc,Mc=Object(ka.a)({root:{display:"inherit",flex:1,justifyContent:"flex-end",alignItems:"stretch"},group:{margin:"0 -5px","& > *":{margin:"0 5px"}}}),Rc=function(){var e=Object(G.a)(H.a.mark((function e(){var t,a,n,r,i=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"",a=i.length>1&&void 0!==i[1]?i[1]:[],n=i.length>2&&void 0!==i[2]?i[2]:function(){},r=a[0]){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Object(Y.a)();case 8:e.sent.getSignedUrl("getObject",{Bucket:t,Key:r.key},(function(e,t){return n(e,t,r)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Lc={open:function(e){var t=e.bucket,a=e.selectedObjects,n=(void 0===a?[]:a)[0];if(n){var r=Object(Z.m)(t,n.key);window.open("https://".concat(r),"_blank").focus()}},view:function(e){var t=e.bucket,a=e.history,n=e.accountId,r=e.selectedObjects,i=(void 0===r?[]:r)[0];if(i){var o="folder"===i.type?"folder":"object",l="folder"===i.type?i.name:i.key,s=E.s.buildUrl(null,"/teams/".concat(n,"/storage/").concat(t,"/").concat(o,"/").concat(l));a.push(s)}},rename:function(){},download:function(e){var t=e.t,a=e.toast,n=e.bucket,r=e.selectedObjects;Rc(n,void 0===r?[]:r,(function(e,n,r){if(e)return c.a(e,{tags:{scope:"s3",method:"getSignedUrl"}}),console.error(e);a.success(t("storage.actionsMessage.downloadSuccess"),{autoClose:6e3}),fetch(n).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.style.display="none",a.download=r.name,a.href=t,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t),document.body.removeChild(a)})).catch((function(e){c.a(e,{tags:{scope:"s3",method:"fetchSignedUrl"}})}))}))},"copy-path":function(e){var t=e.t,a=e.toast,n=e.bucket,r=e.selectedObjects,i=(void 0===r?[]:r)[0];if(i){var o=Object(Z.m)(n,i.key);Object(ja.copyToClipboard)("https://".concat(o)),a.success(t("storage.actionsMessage.copyPathSuccess"))}},"download-as":function(){}},Uc=function(e){var t=e.file,a=e.disabled,n=e.objectUrl,i=Mc(),o=Object(te.a)().t,l=Object(S.j)(),s=Object(g.b)();return r.a.createElement("div",{className:i.root},r.a.createElement("div",{className:i.group},r.a.createElement(oe.a,{disabled:a||!n,buttonVariant:"primary",target:"_blank",rel:"noopener noreferrer",href:"https://".concat(n)},o("storage.open")),r.a.createElement(oe.a,{disabled:a,buttonVariant:"primary",onClick:function(e){e.preventDefault(),Lc.download({t:o,toast:xa.c,bucket:t.bucket,selectedObjects:[t]})}},o("storage.download")),r.a.createElement(oe.a,{disabled:a,buttonVariant:"primary",onClick:function(e){e.preventDefault(),Lc["copy-path"]({t:o,toast:xa.c,bucket:t.bucket,selectedObjects:[t]})}},o("storage.copyPath")),r.a.createElement(Pc,{disabled:a,btnName:o("storage.actions")},r.a.createElement(Cc,{warning:!0,name:"Delete",onClick:function(e){e.preventDefault();var a=l.params,n=a.teamId,r=a.bucketName,i=t.key.split("/"),o=i.slice(0,i.length-1).join("/"),c=""===o?"":"/folder/".concat(o),u=E.s.buildUrl(null,"/teams/".concat(n,"/storage/").concat(r).concat(c));s(Object(I.p)(I.f,{itemsToRemove:[t],redirectUrl:u}))}}))))};Uc.defaultProps={objectUrl:null};var Fc=Uc,_c=Object(ka.a)((function(e){return{divider:{height:1,margin:"20px -27px",backgroundColor:e.palette.palette.whiteSmoke},header:{display:"flex",alignItems:"center",flexDirection:"row"}}})),Wc=a(191),Vc=/\.(png|jpeg|jpg|gif)$/i,zc=function(){var e=_c(),t=Object(g.b)(),a=Object(te.a)().t,i=Object(S.j)().params,o=Object(S.h)().pathname,l=Object(n.useState)({url:null,loading:!0}),s=Object(K.a)(l,2),u=s[0],d=s[1],m=o.split("/"),p=m.indexOf("object"),b=m.slice(p+1).join("/"),f=m.pop(),y=Object(g.c)((function(e){return{isLoading:e.storage.loading,file:e.storage.objects.find((function(e){return e.fullKey==="".concat(i.bucketName,"/").concat(b)}))}})),h=y.file,v=y.isLoading;r.a.useEffect((function(){t(Object(U.p)({Key:b,Bucket:i.bucketName}))}),[]),r.a.useEffect((function(){!v&&h&&function(){var e=Object(G.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.a)();case 2:e.sent.getSignedUrl("getObject",{Bucket:i.bucketName,Key:b},(function(e,t){if(e)return c.a(e,{tags:{scope:"s3",method:"getSignedUrl"}}),console.error(e),void d({url:null,loading:!1});d({url:t,loading:!1})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[b,v,i.bucketName]);var E=Object(fe.b)(Wc.b,{client:Y.b,fetchPolicy:"cache-and-network",variables:{bucket:i.bucketName,key:b}}),O=E.data,j=E.loading,x=$()(O,"getStorageObject.hash"),k=Object(fe.b)(Q.c,{client:Y.b,fetchPolicy:"cache-and-network",skip:!x,variables:{hash:x?new _a.a(x).toV1().toString():x}}).data,w=Object(Z.m)(i.bucketName,b),C=$()(k,"getDealStatus.dealId"),N=$()(k,"getDealStatus.proposalCid"),I=!("number"===typeof C&&C>0),D=r.a.createElement(_n,Object.assign({loading:I},I&&{tooltipText:a("storage.tooltips.filecoin",{item:"Deal ID"})}),I?a("common.pending"):C),T=r.a.createElement(_n,Object.assign({loading:!N},!N&&{tooltipText:a("storage.tooltips.filecoin",{item:"Proposal CID"})}),N||a("common.pending"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(jc,{loadingHash:j||u.loading,ipfsHash:$()(O,"getStorageObject.hash","")||"",status:"success",fileName:f,loadingInfo:!h&&v,icon:h&&"archive"===h.subtype?vc.a.Zip:vc.a.File,url:Object(Z.m)(i.bucketName,b),imageSrc:Vc.test(b)?u.url:null,lastModification:h?a("storage.lastModified",{date:Va()(h.lastModified).calendar()}):""}),r.a.createElement("br",null),r.a.createElement(ae.a,{padding:"20px 27px 28px 27px"},r.a.createElement("div",{className:e.header},r.a.createElement(se.a,{variant:"h6"},a("storage.header")),r.a.createElement(Fc,{file:h||{},objectUrl:w,disabled:!h&&v})),r.a.createElement("div",{className:e.divider}),r.a.createElement(xc,{loading:!h&&v,details:{name:f,size:h?h.bytesSize:"",hash:x||"--",filecoinID:D,proposalCid:T,objectUrl:w}})))},Hc=function(e,t,a){var n=e?"".concat(e,"/"):"",r=t?"".concat(t,"/"):"",i="".concat(n).concat(r).replace(/\//g,"\\/"),o="[^".concat(a,"]*").concat(a,"?$").replace(/\//g,"\\/");return new RegExp(i+o)},Gc=function(e,t,a,n){var r=e.storage,i=r.objects,o=void 0===i?[]:i,l=r.searchTerm,s=void 0===l?"":l,c=Hc(t,a,n);return o.filter((function(e){if(".keep"===e.name)return!1;var r=a?"/".concat(a):"/";if(e.fullKey==="".concat(t).concat(r).concat(n))return!1;var i=c.test(e.fullKey),o=""===s||e.name.includes(s);return i&&o}))},Kc=a(640),qc=a.n(Kc),$c=a(2104),Yc=a(2097),Qc=a(134),Zc=Object(ce.a)({checkboxCell:{"&&&":{paddingLeft:28}},row:{"&:hover":{cursor:"pointer"},"& *":{userSelect:"none"}},fileName:{maxWidth:500},flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},tableCell:{flex:1,display:"flex"}}),Jc={1:192,2:215,3:80},Xc=function(e){var t=e.head,a=e.rows,n=e.loading,i=e.loadingRows,o=e.onSingleClickRow,l=e.onDoubleClickRow,s=e.onSelectAllClick,c=e.allItemsSelected,u=Zc();return r.a.createElement(Yc.a,{head:t,rowHeight:35,headerHeight:35,rowCount:n?i:a.length,cellRenderer:n?function(e){var t=e.columnIndex;return 0===t?r.a.createElement(Qc.TableCell,{className:Bt()(u.flexContainer,u.tableCell,u.checkboxCell)},r.a.createElement($c.a,{checked:!1})):r.a.createElement(Qc.LoadingCell,{component:"div",width:Jc[t],className:Bt()(u.flexContainer,u.tableCell)})}:function(e){var t=e.cellData,a=e.dataKey,n=e.rowData;switch(a){case"select":return r.a.createElement(Qc.TableCell,{component:"div",onClick:function(){return l(n)},className:Bt()(u.flexContainer,u.tableCell,u.checkboxCell)},r.a.createElement($c.a,{checked:n.selected,onClick:function(e){e.stopPropagation(),o(n)}}));case"name":return r.a.createElement(Qc.FileCell,{component:"div",type:n.type,onClick:function(){return l(n)},className:Bt()(u.flexContainer,u.tableCell)},r.a.createElement(se.a,{variant:"inherit",noWrap:!0,className:u.fileName},t));case"lastModified":return r.a.createElement(Qc.TableCell,{component:"div",onClick:function(){return l(n)},className:Bt()(u.flexContainer,u.tableCell)},qc()(t).tz(qc.a.tz.guess()).format("MMM D, YYYY hh:mm:ss A z"));default:return r.a.createElement(Qc.TableCell,{component:"div",onClick:function(){return l(n)},className:Bt()(u.flexContainer,u.tableCell)},t)}},headerRenderer:function(e){var t=e.label,a=e.dataKey,n=e.columnIndex;return r.a.createElement(Qc.TableCell,{component:"div",className:Bt()(u.flexContainer,u.tableCell,0===n&&u.checkboxCell)},"select"!==a?t:r.a.createElement($c.a,{checked:c,onChange:s}))},rowGetter:n?function(){return{}}:function(e){var t=e.index;return a[t]}})};Xc.defaultProps={head:[],rows:[],loading:!1,loadingRows:5,allItemsSelected:!1,onSingleClickRow:function(){},onDoubleClickRow:function(){},onSelectAllClick:function(){}};var eu=Xc,tu=Object(ce.a)((function(e){return{root:{marginTop:20,borderTop:"1px solid ".concat(e.palette.palette.whiteSmoke)},text:{marginTop:20,display:"flex",justifyContent:"center"}}})),au=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;if(t)return{minHeight:210};if(e<=0)return{minHeight:35};var a=window.innerHeight-320-40;return{height:35*e+35,maxHeight:a<105?200:a}},nu=function(e){var t=e.bucket,a=e.prefix,i=e.delimiter,o=tu(),l=Object(S.g)(),s=Object(te.a)().t,c=Object(g.b)(),u=Object(E.t)(),d=Object(g.c)((function(e){return e.storage.loading})),m=Object(g.c)((function(e){return Gc(e,t,a,i)})),p=m.length>0,b=d&&!p,f=Object(n.useState)(au(m.length,b)),y=Object(K.a)(f,2),h=y[0],v=y[1];Object(n.useEffect)((function(){var e=function(){return v(au(m.length,b))};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[m.length]);var O=!(m.length<1)&&m.every((function(e){return e.selected})),j=[{label:"",dataKey:"select",width:68},{label:s("storage.table.columns.name"),dataKey:"name",width:120,flexGrow:2},{label:s("storage.table.columns.lastModified"),dataKey:"lastModified",width:120,flexGrow:1},{label:s("storage.table.columns.size"),dataKey:"bytesSize",width:120,flexGrow:1}];return r.a.createElement("div",{className:o.root},r.a.createElement("div",{style:Object(N.a)({width:"100%"},h),id:"table-container"},r.a.createElement(eu,{head:j,rows:m,loading:b,loadingRows:5,onSingleClickRow:function(e){c(Object(U.m)(Object(N.a)(Object(N.a)({},e),{},{selected:!e.selected})))},onDoubleClickRow:function(e){var a="folder"===e.type?"folder":"object",n="folder"===e.type?e.key.replace(/\/$/,""):e.key,r=E.s.buildUrl(null,"/teams/".concat(u,"/storage/").concat(t,"/").concat(a,"/").concat(n));c(Object(U.s)()),l.push(r)},onSelectAllClick:function(){if(!(m.length<1))if(O){var e=m.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{selected:!1})}));c(Object(U.n)(e))}else{var t=m.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{selected:!0})}));c(Object(U.n)(t))}},allItemsSelected:!d&&O})),!d&&(!m||0===m.length)&&r.a.createElement(se.a,{variant:"caption",color:"textSecondary",className:o.text},s("storage.table.emptyMessage")))};nu.defaultProps={bucket:"",prefix:null,delimiter:"/"};var ru=nu,iu=Object(ka.a)({root:{flex:1}}),ou=function(){var e=iu(),t=Object(g.b)(),a=Object(g.c)((function(e){return e.storage})).searchTerm;return r.a.createElement("div",{className:e.root},r.a.createElement(et.a,{value:a,placeholder:"Search",icon:["far","search"],onChange:function(e){return t({value:e,type:L.k})}}))},lu=Object(ce.a)({box:{marginTop:22,padding:"20px 0"},actionsHeader:{display:"flex",flexDirection:"row",padding:"0 27px"}}),su=Object(ka.a)({root:{display:"inherit",flex:1,justifyContent:"flex-end",alignItems:"stretch"},group:{margin:"0 -5px","& > *":{margin:"0 5px"}},buttonContent:{height:20,display:"flex",flexDirection:"row",color:"white","& > div":{fontSize:15,marginRight:7,display:"inline-flex"}}}),cu=function(e){var t=e.bucket,a=e.prefix,n=e.disabled,i=e.delimiter,o=su(),l=Object(S.g)(),s=Object(te.a)().t,c=Object(g.b)(),u=Object(E.t)(),d=Object(g.c)((function(e){var n=Gc(e,t,a,i).filter((function(e){return e.selected})),r=e.storage.actionOptions.filter((function(e){var t=n.length;if(t>1||t<1)return!1;var a=n[0].type;return e.access[a]}));return{selectedObjects:n,actionOptions:r}})),m=d.actionOptions,p=d.selectedObjects,b=function(e){return function(a){a.preventDefault(),console.log(e.id),Lc[e.id]({t:s,toast:xa.c,bucket:t,history:l,accountId:u,selectedObjects:p})}},f=p.length<1;return r.a.createElement("div",{className:o.root},r.a.createElement("div",{className:o.group},r.a.createElement(oe.a,{disabled:n,buttonVariant:"primary",onClick:function(){window.analytics.track("Storage upload click",{bucket:t,teamId:E.s.getAccountIdFromUrl()}),c(Object(I.p)(I.n,{bucket:t,prefix:a||""}))}},r.a.createElement("div",{className:o.buttonContent},r.a.createElement(le.default,{icon:["fal","upload"]}),r.a.createElement("span",null,s("storage.upload")))),r.a.createElement(oe.a,{disabled:n,buttonVariant:"primary",onClick:function(){window.analytics.track("Storage create folder click",{bucket:t,teamId:E.s.getAccountIdFromUrl()}),c(Object(I.p)(I.e))}},r.a.createElement("div",{className:o.buttonContent},r.a.createElement(le.default,{icon:["fal","folder-plus"]}),r.a.createElement("span",null,s("storage.createFolder")))),r.a.createElement(Pc,{disabled:f||n,btnName:s("storage.actions")},m.map((function(e){return r.a.createElement(Cc,{key:e.id,name:e.name,onClick:b(e)})})),p.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ic,null),r.a.createElement(Cc,{warning:!0,name:"Delete",onClick:function(e){e.preventDefault(),c(Object(I.p)(I.f,{itemsToRemove:p}))}})))))};cu.defaultProps={bucket:"",prefix:null,delimiter:"/",disabled:!1};var uu=cu,du=function(){var e=lu(),t=Object(te.a)().t,a=Object(g.b)(),i=Object(S.h)(),o=Object(S.j)().params,l=i.pathname.split("/").pop(),s=$()(o,"0"),c=Object(g.c)((function(e){var t=Gc(e,o.bucketName,s,"/");return{folder:e.storage.objects.find((function(e){return e.fullKey==="".concat(o.bucketName,"/").concat(s,"/")})),isFolderObjectsLoading:!t.length&&e.storage.loading}})),u=c.folder,d=c.isFolderObjectsLoading;Object(n.useEffect)((function(){a(Object(U.q)({Prefix:"".concat(s,"/"),Delimiter:"/",Bucket:o.bucketName}))}),[s,o.bucketName]);var m=Object(fe.b)(Wc.b,{client:Y.b,fetchPolicy:"cache-and-network",variables:{bucket:o.bucketName,key:"".concat(s,"/")}}),p=m.data,b=m.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(jc,{loadingHash:b,ipfsHash:$()(p,"getStorageObject.hash","")||"",fileName:l,url:Object(Z.m)(o.bucketName,s),icon:"folder",status:"success",lastModification:u?t("storage.lastModified",{date:Va()(u.lastModification).calendar()}):""}),r.a.createElement(ae.a,{overrideClass:{wrapper:e.box}},r.a.createElement("div",{className:e.actionsHeader},r.a.createElement(ou,null),r.a.createElement(uu,{delimiter:"/",prefix:s,bucket:o.bucketName,disabled:d})),r.a.createElement(ru,{delimiter:"/",prefix:s,bucket:o.bucketName})))},mu=Object(ka.a)({actionsHeader:{display:"flex",flexDirection:"row",padding:"0 27px"}}),pu=function(){var e=mu(),t=Object(g.b)(),a=Object(S.j)().params,n=Object(g.c)((function(e){return{isBucketLoading:e.storage.buckets.isLoading,bucket:e.storage.buckets[a.bucketName]}})),i=n.bucket,o=n.isBucketLoading;r.a.useEffect((function(){t(Object(U.o)({Delimiter:"/",Bucket:a.bucketName}))}),[a.bucketName]);var l=Object(fe.b)(Wc.a,{client:Y.b,fetchPolicy:"cache-and-network",variables:{slug:a.bucketName}}),s=l.data,c=l.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(jc,{loadingHash:c,ipfsHash:$()(s,"getBucketBySlug.hash","")||"",status:"success",fileName:a.bucketName,loadingInfo:!i&&o,url:Object(Z.m)(a.bucketName),lastModification:i?"Created ".concat(Va()(i.CreationDate).format("MM/DD/YYYY hh:mm A")):""}),r.a.createElement("br",null),r.a.createElement(ae.a,{padding:"20px 0"},r.a.createElement("div",{className:e.actionsHeader},r.a.createElement(ou,null),r.a.createElement(uu,{delimiter:"/",bucket:a.bucketName,disabled:!i&&o})),r.a.createElement(ru,{delimiter:"/",bucket:a.bucketName})))},bu=function(){var e=Object(S.h)(),t=Object(S.j)().path;return r.a.useEffect((function(){window.analytics.page("Storage",{path:e.pathname,search:e.search})}),[]),r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:t,render:function(e){var t=e.match;return r.a.createElement(S.a,{to:E.s.buildUrl(null,"".concat(t.url,"/").concat(t.params.teamId,"-bucket"))})}}),r.a.createElement(S.b,{exact:!0,path:"".concat(t,"/:bucketName")},r.a.createElement(pu,null)),r.a.createElement(S.b,{path:"".concat(t,"/:bucketName/folder/*")},r.a.createElement(du,null)),r.a.createElement(S.b,{path:"".concat(t,"/:bucketName/object/*")},r.a.createElement(zc,null)))},fu=Object(ce.a)({select:{"&&& svg":{visibility:"hidden"}},submitButton:{marginTop:20}}),gu=function(e){var t=e.selectedPlan,a=e.creditCardFourLastDigits,n=e.creditCardType,i=e.newCreditCardAction,o=e.onSubmit,l=e.loading,s=Object(te.a)().t,c=fu(),u=[{name:uc(s,t),price:t.priceMonthly}],d=function(){var e=Object(G.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(sc,{name:t.name,description:t.description,price:t.priceMonthly}),r.a.createElement(_s,{creditCardFourLastDigits:a,creditCardType:n,newCreditCardAction:i,loading:l}),r.a.createElement(rc,{itemsList:u}),r.a.createElement(oe.a,{loading:l,disabled:!a,buttonVariant:"primary",onClick:d,className:c.submitButton},s("billing.changePlan.step2Payment.updateTeam")))};gu.defaultProps={creditCardFourLastDigits:null,creditCardType:null,newCreditCardAction:function(){},loading:!1};var yu,hu=gu,vu=a(105),Eu=Object(ye.a)(yu||(yu=Object(ge.a)(["\n  mutation updateTeamPlan ($input: UpdateTeamPlanInput){\n    updateTeamPlan(input: $input) {\n      ...TeamInfo\n    }\n  }\n  ","\n"])),vu.g),Ou=function(){var e=Object(S.g)(),t=Object(g.b)(),a=Object(S.j)(),i=Object(S.h)(),o=Object(te.a)().t,l=Object(Hs.a)(),s=Object(fe.b)(Gs.a,{client:Y.b}),c=s.data,u=s.loading,d=Object(fe.b)(Rs.a,{client:Y.b,variables:{teamId:l}}),m=d.refetch,p=d.data,b=["".concat(a.url).concat("/pick-plan"),"".concat(a.url).concat("/summary/:planId")].findIndex((function(e){return Object(S.f)(i.pathname,{path:e,exact:!0})})),f=function(){var t;switch(b){case 0:t="/teams/".concat(l,"/billing/general");break;case 1:t="".concat(a.url).concat("/pick-plan")}e.push(E.s.buildUrl(null,t))},y=[o("billing.changePlan.stepper.step1"),o("billing.changePlan.stepper.step2")],h=Object(S.f)(i.pathname,{path:"".concat(a.url).concat("/summary/:planId"),exact:!0}),v=Object(fe.a)(Eu,{client:Y.b,variables:{input:{teamId:l,planId:$()(h,"params.planId")}},onCompleted:function(){e.push(E.s.buildUrl(null,"/teams/".concat(l,"/billing/general"),["buildOptionsKey"]))}}),O=Object(K.a)(v,2),j=O[0],x=O[1].loading,k=void 0===x||x,w=$()(c,"getPlans",[]),C=$()(p,"getTeamBillingInformation.activePlan.selectedPlan",{}),N=$()(p,"getTeamBillingInformation.paymentMethod",{}),D=$()(h,"params.planId"),T=w.find((function(e){return e.id===D}));return Object(n.useEffect)((function(){h&&(!T&&!u)&&f()}),[h,u]),r.a.createElement("div",null,r.a.createElement(be,{buttonText:o("billing.changePlan.back"),onClick:f}),r.a.createElement(ae.a,{padding:"37px 57px 34px 57px"},r.a.createElement(re.a,{title:o("billing.changePlan.stepper.title"),description:o("billing.changePlan.stepper.description"),stepTitles:y,indexOfActiveStep:b},r.a.createElement(S.d,null,r.a.createElement(S.b,{path:"".concat(a.url).concat("/pick-plan"),exact:!0},r.a.createElement(Xs,{onClickPlan:function(t){var n=t.plan;window.ga("send","event",L.d.BILLING,"Pick plan",C.id),window.analytics.track("Pick plan",{teamId:l,pickedPlanId:n.id,currentPlanId:C.id}),e.push(E.s.buildUrl(null,"".concat(a.url,"/summary/").concat(n.id)))},plans:w,currentPlan:C,supportEmail:ec.a.supportEmail})),r.a.createElement(S.b,{path:"".concat(a.url).concat("/summary/:planId"),exact:!0},T?r.a.createElement(hu,{selectedPlan:T,creditCardFourLastDigits:$()(N,"card.lastCardNumbers",""),creditCardType:$()(N,"issuer"),newCreditCardAction:function(){return window.ga("send","event",L.d.BILLING,"Add payment method"),window.analytics.track("Add payment method",{teamId:l}),t(Object(I.p)(I.m,{onSuccess:m}))},onSubmit:function(){window.ga("send","event",L.d.BILLING,"Update Team Plan",D),window.analytics.track("Update Team Plan",{teamId:l,selectedPlanId:D}),j()},loading:k}):null),r.a.createElement(S.a,{to:E.s.buildUrl(null,"".concat(a.url).concat("/pick-plan"))})))))},Su=function(){var e=Object(te.a)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.Helmet,null,r.a.createElement("title",null,e("billing.changePlan.pageTitle"))),r.a.createElement(Ou,null))},ju=Object(ce.a)((function(e){return{title:{color:e.palette.palette.black,fontSize:22,fontWeight:500,marginBottom:2},subTitle:{color:e.palette.palette.grey2,frontSize:15,marginBottom:9},resetAnchorStyles:{textDecoration:"none"},blackColor:{color:e.palette.palette.black}}})),xu=Object(ce.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},title:{marginBottom:16},billingDate:{marginBottom:15}}})),ku=function(){var e=xu();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.title},r.a.createElement(ht.a,{width:270,height:28,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.billingDate},r.a.createElement(ht.a,{width:385,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})))},wu=function(e){var t=e.recipient,a=e.startDate,n=e.endDate,i=e.loading,o=Object(te.a)().t,l=function(e){return Va()(e).format("MMM DD[, ]YYYY")},s=l(a),c=l(n||Va()(a).add(1,"M")),u=ju();return r.a.createElement(ae.a,null,i?r.a.createElement(ku,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{className:u.title},o("billing.headerCard.billingFor",{recipient:t})),r.a.createElement(se.a,{className:u.subTitle},r.a.createElement(Ba.a,{i18nKey:"billing.headerCard.billingPeriod",values:{startDate:s,endDate:c},components:[null,r.a.createElement("span",{className:u.blackColor},"START_DATE"),null,r.a.createElement("span",{className:u.blackColor},"END_DATE"),null]}))),r.a.createElement("a",{href:"https://docs.fleek.co",target:"_blank",rel:"noopener noreferrer",className:u.resetAnchorStyles},r.a.createElement(Me.a,null,o("billing.headerCard.learnMore"))))};wu.defaultProps={recipient:"",startDate:"",endDate:""};var Cu=wu,Nu=a(468),Iu=a.n(Nu),Du=Object(ce.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},firstRowWrapper:{marginBottom:3},secondRowWrapper:{marginBottom:7},plan:{display:"inline-block",width:280},bandwidth:{display:"inline-block",width:350},price:{display:"inline-block"},planDate:{display:"inline-block",width:280},buildMinutes:{display:"inline-block"}}})),Tu=function(){var e=Du();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.firstRowWrapper},r.a.createElement("div",{className:e.plan},r.a.createElement(ht.a,{width:118,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.bandwidth},r.a.createElement(ht.a,{width:178,height:22,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.price},r.a.createElement(ht.a,{width:40,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))),r.a.createElement("div",{className:e.secondRowWrapper},r.a.createElement("div",{className:e.planDate},r.a.createElement(ht.a,{width:165,height:18,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.buildMinutes},r.a.createElement(ht.a,{width:123,height:18,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))))},Au=Object(ce.a)((function(e){return{header:{padding:"5px 0 16px 0"},headerTitle:{fontWeight:500,fontSize:17},resetAnchorStyles:{textDecoration:"none"},button:{margin:"19px 0px"},detailsContainer:{display:"flex",justifyContent:"flex-start",margin:"10px 0px 13px"},planTypeContainer:{flexBasis:290},pricingContainer:{flexGrow:1,textAlign:"right"},pricingText:{fontWeight:500},mainText:{color:e.palette.palette.black,fontSize:15},subText:{color:e.palette.palette.grey2,fontSize:13}}})),Bu=function(e){return e>=1e3?{unit:"gb",value:Math.round(e/1e3)}:{unit:"mb",value:e}},Pu=function(e){var t=e.onClickChangePlan,a=e.planType,n=e.startDate,i=e.usedBandwidth,o=e.bandwidthLimit,l=e.usedMinutes,s=e.minutesLimit,c=e.price,u=e.loading,d=Object(te.a)().t,m=Au(),p=Va()(n).format("MMM DD[,] YYYY"),b=Bu(o),f=Bu(i.value);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m.header},r.a.createElement(se.a,{variant:"body1",className:m.headerTitle},d("billing.planDetails.title")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},d("billing.planDetails.subtitle"))),r.a.createElement(oa.a,{mainContent:d("billing.planDetails.cardTitle")},u?r.a.createElement(Tu,null):r.a.createElement("div",{className:m.detailsContainer},r.a.createElement("div",{className:m.planTypeContainer},r.a.createElement(se.a,{className:m.mainText},a&&d("billing.planDetails.teamPlan",{type:a})),r.a.createElement(se.a,{className:m.subText},d("billing.planDetails.effectiveFrom",{startDate:p}))),r.a.createElement("div",null,r.a.createElement(se.a,{className:m.mainText},d("billing.planDetails.bandwidth",{used:f.value,unit:d("billing.planDetails.".concat(f.unit)),limitUnit:d("billing.planDetails.".concat(b.unit)),limit:b.value})),r.a.createElement(se.a,{className:m.subText},d("billing.planDetails.minutes",{used:l,limit:s}))),r.a.createElement("div",{className:m.pricingContainer},r.a.createElement(se.a,{className:Bt()(m.mainText,m.pricingText)},d("billing.planDetails.price",{price:Iu()(c,{precision:2})})))),r.a.createElement("a",{href:"https://fleek.co/pricing",target:"_blank",rel:"noopener noreferrer",className:m.resetAnchorStyles},r.a.createElement(Me.a,null,d("billing.planDetails.link"))),r.a.createElement(oe.a,{buttonVariant:"primary",onClick:t,className:m.button,disabled:u},d("billing.planDetails.buttonText"))))};Pu.defaultProps={onClickChangePlan:function(){},planType:null,startDate:"",usedBandwidth:{value:"0",unit:"mb",limitUnit:"mb"},usedMinutes:"0",minutesLimit:"0",bandwidthLimit:"0",price:"0.00"};var Mu,Ru=Pu,Lu=function(e,t){return function(a){try{var n=a.readQuery({query:Q.j,variables:{teamId:e}}),r=Object(N.a)(Object(N.a)({},n),{},{getTeamBillingInformation:Object(N.a)(Object(N.a)({},n.getTeamBillingInformation),{},{billingInformation:Object(N.a)(Object(N.a)({},n.billingInformation),t)})});a.writeQuery({query:Q.j,variables:{teamId:e},data:r})}catch(i){console.error("Update cache of billing information",i)}}},Uu=Object(ye.a)(Mu||(Mu=Object(ge.a)(["\n  mutation updateBillingInformation($input: UpdateTeamBillingInfoInput) {\n    updateBillingInformation(input: $input) {\n      billingInformation {\n        name\n        email\n      }\n    }\n  }\n"]))),Fu=Object(ce.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},wrapper:{marginTop:13,marginLeft:21},tag:{display:"inline-block",width:190},value:{display:"inline-block"},firstLineWrapper:{marginBottom:22},secondLineWrapper:{marginBottom:12}}})),_u=function(){var e=Fu();return r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.firstLineWrapper},r.a.createElement("div",{className:e.tag},r.a.createElement(ht.a,{width:44,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.value},r.a.createElement(ht.a,{width:98,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))),r.a.createElement("div",{className:e.secondLineWrapper},r.a.createElement("div",{className:e.tag},r.a.createElement(ht.a,{width:40,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.value},r.a.createElement(ht.a,{width:173,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))))},Wu=Object(ka.a)((function(){return{root:{padding:0},goToEditButton:{flexBasis:108}}})),Vu=function(e){var t=e.billingData,a=e.disabled,n=e.loading,i=Wu(),o=Object(te.a)().t,l=Object(S.j)().params,s=Object(fe.a)(Uu,{client:Y.b}),c=Object(K.a)(s,1)[0],u=function(){var e=Object(G.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c({variables:{input:{teamId:l.teamId,name:t.name,email:t.email}},optimisticResponse:{__typename:"Mutation",editBuildSettings:{id:l.teamId,__typename:"Team"}},update:Lu(l.teamId,t)});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error update bulling information:",e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),d=[{stateKey:"name",label:o("billingDetails.billingInformation.name"),value:$()(t,"name",""),placeholder:o("billingDetails.billingInformation.placeholder")},{stateKey:"email",label:o("billingDetails.billingInformation.email"),value:$()(t,"email",""),placeholder:o("billingDetails.billingInformation.placeholder")}];return r.a.createElement(oa.a,{mainContent:o("billingDetails.billingInformation.title"),classes:{content:i.root}},n?r.a.createElement(r.a.Fragment,null,r.a.createElement(_u,null),r.a.createElement(dr,{data:[],disabled:n,goToEditButtonText:o("common.edit"),goToEditButtonClass:i.goToEditButton})):r.a.createElement(dr,{data:d,disabled:a,goToEditButtonText:o("common.edit"),goToEditButtonClass:i.goToEditButton,onSubmitChanges:u}))};Vu.defaultProps={disabled:!1,billingData:{name:"",email:""}};var zu=Vu,Hu=a(230),Gu=a.n(Hu),Ku=Object(ce.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},info:{display:"inline-block",width:190},creditCardNumber:{display:"inline-block"},lineWrapper:{marginBottom:-9}}})),qu=function(){var e=Ku();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.lineWrapper},r.a.createElement("div",{className:e.info},r.a.createElement(ht.a,{width:120,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.creditCardNumber},r.a.createElement(ht.a,{width:150,height:22,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))))},$u=Object(ka.a)((function(e){return{root:{padding:"23px 20px"},row:{display:"flex"},label:{flexBasis:230},button:{marginTop:20},creditCardIcon:{display:"flex",color:e.palette.text.secondary,marginRight:8,fontSize:21}}})),Yu=function(e){var t=e.paymentData,a=e.refetchTeamBillingInfo,i=e.loading,o=$u(),l=Object(g.b)(),s=Object(g.d)().getState().loadingState.loading,c=Object(te.a)().t,u=Object(n.useRef)(!1),d=function(){l(Object(I.p)(I.m,{onSuccess:a}))},m=Object(S.g)(),p=Object(S.h)(),b=Gu.a.parse(p.search)[aa.a];Object(n.useEffect)((function(){if(!s&&!i&&b===aa.b&&!1===u.current){u.current=!0,d();var e=E.s.buildUrl(null,null,[aa.a]);m.push(e)}}),[i,s]);var f=$()(t,"issuer"),y=$()(t,"card.lastCardNumbers");return r.a.createElement(oa.a,{mainContent:c("billingDetails.paymentInformation.title"),classes:{content:o.root}},i?r.a.createElement(qu,null):r.a.createElement("div",{className:o.row},r.a.createElement(se.a,{variant:"body2",className:o.label},c("billingDetails.paymentInformation.paymentMethod")),y?r.a.createElement(Ls.a,{cardType:f,fourLastDigits:y}):r.a.createElement(se.a,{variant:"body2",className:o.label},c("billing.creditCardDisplay.noCreditCard"))),r.a.createElement(oe.a,{buttonVariant:"secondary",overrideClass:{button:o.button},onClick:d,disabled:i},c(t?"common.change":"common.addPM")))};Yu.defaultProps={refetchTeamBillingInfo:function(){},paymentData:null};var Qu=Yu,Zu=Object(ka.a)((function(){return{title:{fontWeight:500},paymentInformationWrapper:{margin:"15px 0"}}})),Ju=function(e){var t=e.loading,a=Zu(),n=Object(te.a)().t,i=Object(E.t)(),o=Object(fe.b)(Q.j,{variables:{teamId:i},client:Y.b}),l=o.refetch,s=o.data,c=o.loading,u=$()(s,"getTeamBillingInformation.billingInformation"),d=$()(s,"getTeamBillingInformation.paymentMethod");return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{className:a.title,variant:"body1"},n("billingDetails.title")),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},n("billingDetails.subtitle")),r.a.createElement("div",{className:a.paymentInformationWrapper},r.a.createElement(Qu,{paymentData:d,refetchTeamBillingInfo:l,loading:t||c})),r.a.createElement(zu,{disabled:!d,billingData:u,loading:t||c}))},Xu="general",ed="plan-details",td="billing-details",ad=[ed,td],nd=function(e,t){var a=[{title:e("billing.billingSettings.sectionTitles.general"),id:Xu,type:"main",list:[{title:e("billing.billingSettings.sectionTitles.planDetails"),id:ed,type:"subsection"},{title:e("billing.billingSettings.sectionTitles.billingDetails"),id:td,type:"subsection"}]}];return ua(t,a)},rd=Object(ce.a)((function(){return{root:{display:"flex"},content:{flexGrow:1,paddingBottom:30},header:{padding:"5px 0 16px 0",cursor:"default"},headerTitle:{fontWeight:500},spaceBetweenSections:{margin:0,border:"none",height:15},navigationLink:{display:"flex",textDecoration:"none",outline:"none",userSelect:"none",textAlign:"left"},mainLink:{cursor:"default"},subsectionLink:{cursor:"pointer"},billingDetailsContainer:{marginTop:30},nodeContainer:{width:"100%"}}})),id=function(e){var t=rd(e),a=Object(te.a)().t,i=Object(S.j)(),o=Object(S.g)(),l=e.billingInfo,s=e.loading,c=Object(n.useState)(i.params.section||Xu),u=Object(K.a)(c,2),d=u[0],m=u[1],p=nd(a,d),b=function(e){return Sa.scroller.scrollTo(e,{duration:1500,delay:100,smooth:!0,containerId:L.f,offset:-10})};Object(n.useEffect)((function(){ad.includes(i.params.section)&&b(i.params.section)}),[]);var f=$()(l,"getTeamBillingInformation.activePlan");return r.a.createElement("section",{className:t.root},r.a.createElement(E.c,{items:p,renderItem:function(e,a){var n,o=a.id,l=a.type,s="main"===l?"":"/".concat(o);return r.a.createElement(O.b,{to:E.s.buildUrl(null,"/teams/".concat(i.params.teamId,"/billing/general").concat(s)),className:Bt()(t.navigationLink,(n={},Object(B.a)(n,t.mainLink,"main"===l),Object(B.a)(n,t.subsectionLink,"subsection"===l),n)),onClick:function(){m(o),"subsection"===l&&b(o)}},r.a.createElement("div",{className:t.nodeContainer},e))}}),r.a.createElement("div",{className:t.content},r.a.createElement(Sa.Element,{name:ed}),r.a.createElement(Ru,{loading:s,startDate:$()(f,"activatedAt",""),planType:$()(f,"selectedPlan.name"),usedBandwidth:{value:function(e){var t=$()(e,"currentBandwidthInMonth","0");return(Number(t)/Math.pow(1e3,2)).toFixed(0)}(f),unit:"mb",limitUnit:"mb"},usedMinutes:$()(f,"currentBuildMinutesInMonth",""),bandwidthLimit:$()(f,"selectedPlan.limitBandwidthInMB",""),minutesLimit:$()(f,"selectedPlan.limitBuildTimeInMins",""),price:$()(f,"selectedPlan.priceMonthly",0)/100,onClickChangePlan:function(){return window.ga("send","event",L.d.BILLING,"Change plan"),window.analytics.track("Change plan",{teamId:i.params.teamId}),o.push(E.s.buildUrl(null,"/teams/".concat(i.params.teamId,"/billing/change-plan")))}}),r.a.createElement("div",{className:t.billingDetailsContainer},r.a.createElement(Sa.Element,{name:td}),r.a.createElement(Ju,{loading:s}))))};id.defaultProps={billingInfo:{}};var od=id,ld=Object(ce.a)((function(){return{navMenuContainer:{marginTop:15}}})),sd=function(){var e=ld(),t=Object(S.j)(),a=Object(S.h)(),n=Object(fe.b)(Q.j,{client:Y.b,fetchPolicy:"cache-and-network",variables:{teamId:t.params.teamId}}),i=n.data,o=n.loading,l=Object(fe.b)(Q.k,{client:Y.b,variables:{id:t.params.teamId}}),s=l.data,c=l.loading,u=o||c;return r.a.useEffect((function(){window.analytics.page("Billing",{path:a.pathname,search:a.search})}),[]),r.a.createElement("div",null,r.a.createElement(Cu,{recipient:$()(s,"getTeamById.name"),startDate:$()(i,"getTeamBillingInformation.activePlan.activatedAt",""),endDate:$()(i,"getTeamBillingInformation.activePlan.expiresAt",""),loading:u}),r.a.createElement("div",{className:e.navMenuContainer},r.a.createElement(od,{billingInfo:i,loading:u})))},cd=function(){var e=Object(S.j)(),t=Object(te.a)().t,a=r.a.createElement(E.a,null);return r.a.createElement(E.h,{topBarContent:a},r.a.createElement(ee.Helmet,null,r.a.createElement("title",null,t("teams.pageTitle"))),r.a.createElement(S.d,null,r.a.createElement(S.b,{path:"".concat(e.path,"/create")},r.a.createElement(hc,null)),r.a.createElement(S.b,{path:"".concat(e.path,"/:teamId/sites")},r.a.createElement(ys,null)),r.a.createElement(S.b,{path:"".concat(e.path,"/:teamId/billing/general/:section?")},r.a.createElement(sd,null)),r.a.createElement(S.b,{path:"".concat(e.path,"/:teamId/billing/change-plan")},r.a.createElement(Su,null)),r.a.createElement(S.b,{path:"".concat(e.path,"/:teamId/members/add")},r.a.createElement(zs,null)),r.a.createElement(S.b,{path:"".concat(e.path,"/:teamId/members")},r.a.createElement(Ms,null)),r.a.createElement(S.b,{path:"".concat(e.path,"/:teamId/storage")},r.a.createElement(bu,null))))},ud=a(1135),dd=Object(ce.a)({root:{marginTop:20,display:"flex",alignItems:"center",justifyContent:"center"}}),md=function(){var e=dd(),t=Object(S.i)(),a=Object(S.g)(),n=Object(te.a)().t,i=Object(Hs.a)(),o=Object(Kl.useQuery)(Q.f,{client:Y.b}).data;r.a.useEffect((function(){var e=$()(o,"getMemberships.memberships",[])||[];if(!e.find((function(e){return e.teamId===i}))&&e.length){var t=E.s.buildUrl({accountId:e[0].teamId});a.replace(t)}}),[o]);var l=parseInt($()(t,"errorCode",500),10);return r.a.createElement(Xt.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(ud.a,{code:l,title:n("errors.".concat(l,".title")),subtitle:n("errors.".concat(l,".description")),hexImage:"https://storage.googleapis.com/terminal-assets/images/404%20hex.png"},r.a.createElement(ta.a,{variant:"contained",color:"primary",component:O.b,to:"/teams/".concat(i,"/sites?accountId=").concat(i)},n("errors.".concat(l,".cta"))))))},pd=function(){var e=Object(G.a)(H.a.mark((function e(){var t,a,n,r,i,o,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.b.query({query:Q.f});case 3:return t=e.sent,a=t.data,n=$()(a,"getMemberships.memberships",[])||[],r=Object(P.a)(n).sort(Z.j),i=Object(K.a)(r,1),o=i[0],l=$()(o,"teamId",null)||null,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),bd=function(){var e=Object(G.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pd();case 2:(a=e.sent)?t.push("/teams/".concat(a,"/sites?accountId=").concat(a)):t.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fd=function(){var e=Object(S.g)(),t=Object(S.h)(),a=Object(te.a)().t;return Object(n.useEffect)((function(){var a=t.hash.substr(1),n=J.a.getQSFromHash(a);(function(){var t=Object(G.a)(H.a.mark((function t(){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!n.access_token){t.next=15;break}if(J.a.setIdToken(n.id_token),J.a.setAccessToken(n.access_token),!n.state){t.next=13;break}if(a="/".concat(decodeURIComponent(n.state)),!!a.includes("undefined")){t.next=10;break}e.push(a),t.next=12;break;case 10:return t.next=12,bd(e);case 12:return t.abrupt("return");case 13:return t.next=15,bd(e);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),r.a.createElement(Xt.a,null,r.a.createElement(ee.Helmet,null,r.a.createElement("title",null,a("auth.page_title"))),r.a.createElement(E.g,null))},gd=function(){return Object(n.useEffect)((function(){J.a.authenticate(null,"signup")}),[]),null},yd=Object(ce.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100vw",height:"100vh",backgroundColor:e.palette.palette.landingPageGrey},typography:{marginTop:30,fontSize:36.9,borderRadius:10,padding:"17px 60px",background:e.palette.palette.whiteThree},logo:{height:198}}})),hd=function(){var e=Object(te.a)().t,t=yd();return Object(n.useEffect)((function(){setTimeout((function(){window.localStorage.setItem("authorizationCompleted",!0),window.close()}),2e3)}),[]),r.a.createElement("div",{className:t.root},r.a.createElement("img",{className:t.logo,src:"/loading-logo.svg",alt:e("githubAuthorized.logoAlt")}),r.a.createElement(se.a,{className:t.typography},e("githubAuthorized.title")))},vd=function(){var e=Object(S.g)(),t=Object(S.h)(),a=Object(Kl.useMutation)(Mr.a,{client:Y.b,update:function(e,t){var a=t.data.addTeamMember;try{var n=e.readQuery({query:Q.f}),r=[].concat(Object(P.a)(n.getMemberships.memberships),[Object(N.a)({},a)]);e.writeQuery({query:Q.f,data:Object(N.a)(Object(N.a)({},n),{},{getMemberships:Object(N.a)(Object(N.a)({},n.getMemberships),{},{memberships:r})})})}catch(i){console.error("Error when trying to update GET_MEMBERSHIPS query: ",i.message)}}}),i=Object(K.a)(a,1)[0];return Object(n.useEffect)((function(){var a=pi.a.parse(t.search),n=a.token,r=a.invitation;function o(){return(o=Object(G.a)(H.a.mark((function t(){var a,o,l;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i({variables:{input:{invitationId:r,invitationToken:n}}});case 3:a=t.sent,(o=a.data).addTeamMember&&(l=$()(o.addTeamMember,"teamId"))&&e.replace("/teams/".concat(l,"/sites?accountId=").concat(l)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error when trying to add team member: ".concat(t.t0.message)),e.push("/");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}r&&n&&function(){o.apply(this,arguments)}()}),[]),r.a.createElement(E.g,null)},Ed=Object(ce.a)((function(e){return{content:{padding:"3px 0 16px 0"},item:{height:46,padding:"0 20px",alignItems:"center","& > p:nth-child(2)":{width:260}},key:{minWidth:202},buttonContainer:{padding:"0 20px"},iconContainer:{flex:1,"& > div":{fontSize:16,display:"flex",cursor:"pointer"},"& > div > svg":{width:"14px !important",color:e.palette.palette.linkBlue}},placeholderText:{color:e.palette.palette.grey2}}})),Od=function(e){var t=e.generateApiOnClick,a=e.handleCopy,n=e.apiKeys,i=e.loading,o=e.i18nKey,l=Ed(),s=Object(te.a)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"body1"},r.a.createElement(Dt.a,{component:"span",fontWeight:500},s("accountSettings.".concat(o,".title")))),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},s("accountSettings.".concat(o,".description"))),r.a.createElement("br",null),r.a.createElement(oa.a,{mainContent:s("accountSettings.".concat(o,".card.title")),classes:{content:l.content}},r.a.createElement(xr.a,{striped:!0},0===n.length?r.a.createElement(kr.a,{className:l.item},r.a.createElement(se.a,{variant:"body2",color:"textPrimary",className:l.key},"".concat(s("accountSettings.".concat(o,".card.apiKey")),":")),r.a.createElement(se.a,{noWrap:!0,variant:"body2",className:l.placeholderText},r.a.createElement(Dt.a,{component:"span",fontWeight:500},s("accountSettings.".concat(o,".card.placeholder"))))):n.map((function(e){var t=e.key;return r.a.createElement(kr.a,{key:t,className:l.item},r.a.createElement(se.a,{variant:"body2",color:"textPrimary",className:l.key},"".concat(s("accountSettings.".concat(o,".card.apiKey")),":")),r.a.createElement(se.a,{noWrap:!0,variant:"body2"},r.a.createElement(Dt.a,{component:"span",fontWeight:500},t)),r.a.createElement("div",{className:l.iconContainer},r.a.createElement(le.default,{icon:["fal","copy"],onClick:a({t:s,apiKey:t})})))}))),r.a.createElement("br",null),r.a.createElement("div",{className:l.buttonContainer},r.a.createElement(oe.a,{disabled:i,buttonVariant:"primary",onClick:t},s("accountSettings.".concat(o,".card.new"))))))},Sd=function(){var e=Object(g.b)(),t=E.s.getAccountIdFromUrl(),a=Object(fe.b)(Q.i,{client:Y.b,variables:{teamId:t}}),n=a.data,i=a.loading,o=$()(n,"getTeamApiKeys.apiKeys",[])||[];return r.a.createElement(Od,{generateApiOnClick:function(){return e(Object(I.p)(I.b,{}))},handleCopy:function(e){var t=e.t,a=e.apiKey;return function(e){e.preventDefault(),navigator.clipboard.writeText(a),xa.c.success(t("accountSettings.".concat("hostingApi",".card.copy")))}},apiKeys:o,loading:i,i18nKey:"hostingApi"})},jd=function(){var e=Object(g.b)(),t=Object(fe.b)(Q.b,{client:Y.b}),a=t.data,n=t.loading,i=$()(a,"getApiKeys.apiKeys",[])||[];return r.a.createElement(Od,{generateApiOnClick:function(){return e(Object(I.p)(I.a,{}))},handleCopy:function(e){var t=e.t,a=e.apiKey;return function(e){e.preventDefault(),navigator.clipboard.writeText(a),xa.c.success(t("accountSettings.".concat("storageApi",".card.copy")))}},apiKeys:i,loading:n,i18nKey:"storageApi"})},xd=a(269),kd=a(1126),wd=a(2117),Cd=Object(ce.a)({content:{padding:"3px 0 15px 0"},item:{height:46,padding:"0 20px",alignItems:"center"},key:{minWidth:202},skeletonRoot:{borderRadius:4},editIconAndTextContainer:{display:"flex",flexDirection:"row-reverse",alignItems:"center"},editIcon:{marginLeft:5,"& svg":{width:14,height:14}}}),Nd=function(){var e=Object(g.b)(),t=Cd(),a=Object(te.a)().t,n=Object(fe.b)(Q.a,{client:Y.c}),i=n.data,o=n.loading,l=$()(i,"getCurrentUser.user.individual.lastname","")||"",s=$()(i,"getCurrentUser.user.individual.firstname","")||"",c=Object.entries({name:"".concat(s," ").concat(l).trim(),email:$()(i,"getCurrentUser.user.email","")||""}),u=r.a.createElement(wd.a,{icon:r.a.createElement(xd.a,{icon:kd.a,size:"large"}),classes:{iconAndTextContainer:t.editIconAndTextContainer,iconContainer:t.editIcon},onClick:function(){return e(Object(I.p)(I.j,{currentFirstName:s,currentLastName:l}))},disabled:o},a("accountSettings.profile.edit"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"body1"},r.a.createElement(Dt.a,{component:"span",fontWeight:500},a("accountSettings.profile.title"))),r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},a("accountSettings.profile.description")),r.a.createElement("br",null),r.a.createElement(oa.a,{mainContent:a("accountSettings.profile.card.title"),secondaryContent:u,classes:{content:t.content}},r.a.createElement(xr.a,{striped:!0},c.map((function(e){var n=Object(K.a)(e,2),i=n[0],l=n[1];return r.a.createElement(kr.a,{key:i,className:t.item},r.a.createElement(se.a,{variant:"body2",color:"textPrimary",className:t.key},"".concat(a("accountSettings.profile.card.".concat(i)),":")),o?r.a.createElement(ht.a,{width:240,height:20,variant:"rect",animation:"wave",classes:{root:t.skeletonRoot}}):r.a.createElement(se.a,{noWrap:!0,variant:"body2"},r.a.createElement(Dt.a,{component:"span",fontWeight:500},l)))})))))},Id="hostingApi",Dd="storageApi",Td="profile",Ad="general",Bd="main",Pd="subsection",Md=function(e){var t=e.t,a=e.section;return ua(a,[{title:t("accountSettings.navs.general"),id:Ad,type:Bd,list:[{title:t("accountSettings.navs.profile"),id:Td,type:Pd},{title:t("accountSettings.navs.hostingApi"),id:Id,type:Pd},{title:t("accountSettings.navs.storageApi"),id:Dd,type:Pd}]}])},Rd=Object(ce.a)({root:{display:"flex",flexDirection:"row"},nav:{width:212,display:"inherit",flexDirection:"column"},sections:{flex:1,padding:"7px 0 20px 20px"},nodeContainer:{width:"100%"},navigationLink:{display:"flex",textDecoration:"none",outline:"none",userSelect:"none",textAlign:"left"}}),Ld=function(){var e=Rd(),t=Object(S.j)(),a=Object(te.a)().t,n=r.a.useRef(null),i=r.a.useRef(null),o=r.a.useRef(null),l=t.params.section,s=Md({t:a,section:l});return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.nav},r.a.createElement(E.c,{items:s,renderItem:function(t,a){var l=a.id,s=a.type===Bd?"":"/".concat(l);return r.a.createElement(O.b,{to:E.s.buildUrl(null,"/settings/general".concat(s)),className:e.navigationLink,onClick:function(){l!==Id?l!==Dd?l===Td&&o.current.scrollIntoView({behavior:"smooth"}):i.current.scrollIntoView({behavior:"smooth"}):n.current.scrollIntoView({behavior:"smooth"})}},r.a.createElement("div",{className:e.nodeContainer},t))}})),r.a.createElement("div",{className:e.sections},r.a.createElement("section",{ref:o},r.a.createElement(Nd,null)),r.a.createElement("br",null),r.a.createElement("section",{ref:n},r.a.createElement(Sd,null)),r.a.createElement("br",null),r.a.createElement("section",{ref:i},r.a.createElement(jd,null))))},Ud=Object(ce.a)({accountHeaderCard:{marginTop:22},accountEmail:{margin:"12px 0"},skeletonRoot:{borderRadius:4}}),Fd=function(){var e=Ud(),t=Object(te.a)().t,a=Object(fe.b)(Q.a,{client:Y.c}),n=a.data,i=a.error,o=a.loading;return r.a.useEffect((function(){i&&xa.c.error(t("accountSettings.error"))}),[i]),r.a.createElement(ae.a,{overrideClass:{wrapper:e.accountHeaderCard},padding:"22px 27px 27px 27px"},function(){if(o)return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{width:190,height:25,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}),r.a.createElement(ht.a,{width:240,height:20,variant:"rect",animation:"wave",classes:{root:Bt()(e.skeletonRoot,e.accountEmail)}}),r.a.createElement(ht.a,{width:210,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}));var a=$()(n,"getCurrentUser.user.createdAt"),i=$()(n,"getCurrentUser.user.email","")||"",l=$()(n,"getCurrentUser.user.individual.lastname","")||"",s=$()(n,"getCurrentUser.user.individual.firstname","")||"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"h6",color:"textPrimary"},r.a.createElement(Dt.a,{component:"span",fontWeight:500},"".concat(s," ").concat(l).trim())),r.a.createElement(se.a,{variant:"body2",color:"textSecondary",className:e.accountEmail},i),a&&r.a.createElement(se.a,{variant:"body2",color:"textSecondary"},t("accountSettings.join",{date:Va()(a).format("MMM DD, YYYY")})))}())},_d=function(){var e=Object(S.j)(),t=Object(te.a)().t;return r.a.createElement(E.h,null,r.a.createElement(ee.Helmet,null,r.a.createElement("title",null,t("accountSettings.pageTitle"))),r.a.createElement(Fd,null),r.a.createElement("br",null),r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:e.path,render:function(){return r.a.createElement(S.a,{to:E.s.buildUrl(null,"".concat(e.path,"/general/profile"))})}}),r.a.createElement(S.b,{exact:!0,path:"".concat(e.path,"/general"),render:function(){return r.a.createElement(S.a,{to:E.s.buildUrl(null,"".concat(e.path,"/general/profile"))})}}),r.a.createElement(S.b,{path:"".concat(e.path,"/general/:section")},r.a.createElement(Ld,null))))},Wd=Object(ka.a)((function(){return{container:{display:"flex",flexDirection:"column",alignItems:"center"},logo:{width:106,marginTop:37,marginBottom:32},box:{padding:"29px 51px 32px 51px",width:482,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},checkIcon:{fontSize:35,color:"#00C9A7"},title:{fontSize:21,marginBottom:18},description:{fontSize:15,marginBottom:22}}})),Vd=function(){var e=Wd(),t=Object(te.a)().t,a=Object(S.h)();return r.a.createElement("div",{className:e.container},r.a.createElement("img",{className:e.logo,src:"https://storage.googleapis.com/terminal-assets/images/fleek/fleek-logo.png",alt:"fleek-logo"}),r.a.createElement(ae.a,{overrideClass:{wrapper:e.box}},r.a.createElement("div",{className:e.checkIcon},r.a.createElement(le.default,{fontSize:"inherit",icon:["fas","check"]})),r.a.createElement(se.a,{className:e.title},t("handshakeSuccess.title")),r.a.createElement(se.a,{className:e.description},t("handshakeSuccess.message")),r.a.createElement(oe.a,{buttonVariant:"primary",onClick:function(){var e=pi.a.parse(a.search).redirectTo,t=decodeURIComponent(e);window.location.href=t,window.location.reload()},className:e.namebaseRedirectButton},t("handshakeSuccess.button"))))},zd=(a(2010),Object(v.a)());var Hd=function(){return window.location.href.includes("/github-authorized")?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null),r.a.createElement(h.a,{theme:zd},r.a.createElement(hd,null))):window.location.href.includes("/handshake-success")?r.a.createElement(O.a,null,r.a.createElement(y.a,null),r.a.createElement(h.a,{theme:zd},r.a.createElement(Vd,null))):r.a.createElement(g.a,{store:V},r.a.createElement(O.a,null,r.a.createElement(y.a,null),r.a.createElement(h.a,{theme:zd},r.a.createElement(E.e,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(E.f,null),r.a.createElement(E.i,null),r.a.createElement(S.d,null,r.a.createElement(S.b,{path:"/",exact:!0},r.a.createElement(X,null)),r.a.createElement(E.j,{path:"/start"},r.a.createElement(Vt,null)),r.a.createElement(E.j,{path:"/sites"},r.a.createElement(es,null)),r.a.createElement(E.j,{path:"/teams"},r.a.createElement(cd,null)),r.a.createElement(E.j,{path:"/invitation"},r.a.createElement(vd,null)),r.a.createElement(E.j,{path:"/settings"},r.a.createElement(_d,null)),r.a.createElement(S.b,{path:"/auth/cb"},r.a.createElement(fd,null)),r.a.createElement(S.b,{path:"/auth/sign-up"},r.a.createElement(gd,null)),r.a.createElement(S.b,{path:"/error/:errorCode"},r.a.createElement(md,null)),r.a.createElement(S.b,{path:"*"},r.a.createElement(S.a,{to:E.s.buildUrl(null,"/error/404")}))))))))},Gd={resources:{en:{translation:a(1127)}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.use(d.e).init(Gd),p.a.init(ec.a.logRocket.projectId,{network:{requestSanitizer:function(e){return ec.a.logRocket.scrubHeaders.forEach((function(t){e.headers[t]&&(e.headers[t]="")})),e}}}),f()(p.a),s.a({maxValueLength:5e3,dsn:ec.a.sentry.dsn,release:"61115639",integrations:[new u.a.BrowserTracing],environment:"production",tracesSampleRate:.5}),p.a.getSessionURL((function(e){c.b((function(t){t.setExtra("sessionURL",e)}))})),l.a.render(r.a.createElement(Hd,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},202:function(e,t,a){"use strict";var n,r=a(4),i=a(28),o=a(5),l=a.n(o),s=a(15),c=a(155),u=a(23),d=a(22),m=Object(d.a)(n||(n=Object(u.a)(["\n  query getGithubToken($teamId: ID!) {\n    getGithubToken(teamId: $teamId)\n  }\n"])));t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.a)(),a=Object(i.b)(m,Object(r.a)({client:s.b,variables:{teamId:t},skip:!t},e)),n=l()(a,"data.getGithubToken");return[a.loading,n]}},205:function(e,t,a){"use strict";var n,r=a(23),i=a(22),o=a(68),l=Object(i.a)(n||(n=Object(r.a)(["\n  query getSitesByTeam($teamId: ID!, $limit: Int, $nextToken: String) {\n    getSitesByTeam(teamId: $teamId, limit: $limit, nextToken: $nextToken) {\n      nextToken\n      sites {\n        ...MinSiteDetail\n      }\n    }\n  }\n  ","\n"])),o.b);t.a=l},206:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n="payment",r="modalDefaultOpen"},234:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(5),o=a.n(i),l=a(28),s=a(37),c=a(13),u=a(15),d=a(2112),m=a(16),p=a(33),b=a(31),f=a(369),g=a(34),y=a(2106),h=a(206),v=a(701),E=Object(v.a)((function(e){return{container:{height:30,backgroundColor:e.palette.palette.errorRed,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100%",zIndex:10},text:{fontSize:13,color:"white"},link:{fontWeight:600,textDecoration:"none",color:"white"},icon:{color:"white",fontSize:14,fontWeight:600,marginRight:3}}})),O=function(e){var t=e.isSuspended,a=E(),n=c.s.getAccountIdFromUrl();return r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.icon},r.a.createElement(b.default,{icon:["far","exclamation-triangle"],className:a.icon})),r.a.createElement(f.a,{className:a.text},r.a.createElement(y.a,{i18nKey:t?"accountSuspensionBanner.suspendedMessage":"accountSuspensionBanner.restrictedMessage",components:[null,r.a.createElement(g.b,{to:c.s.buildUrl(Object(p.a)({},h.a,h.b),"/teams/".concat(n,"/billing/general")),className:a.link},"Add your billing information.")]})))},S=Object(v.a)((function(){return{root:{flex:1,position:"relative",height:"100vh"},topBar:{height:55,boxSizing:"border-box",backgroundColor:"transparent"},topbarContent:{height:"100%",display:"flex",alignItems:"center",padding:"0 15px"},contentWrapper:{overflow:"auto",height:function(e){var t=e.isTopbar,a=e.isAccountSuspensionBanner,n=t?85+(a?30:0):0;return"calc(100vh - ".concat(n,"px)")}},content:{padding:"3px 15px 15px"}}})),j=function(e){var t=e.children,a=e.topBarContent,n=c.s.getAccountIdFromUrl(),i=Object(l.b)(s.k,{client:u.b,variables:{id:n},skip:!n}),p=o()(i,"data.getTeamById.status"),b=p===m.m.RESTRICTED||p===m.m.SUSPENDED,f=S({isTopbar:!!a,isAccountSuspensionBanner:b});return r.a.createElement("div",{className:f.root},a&&r.a.createElement("div",{className:f.topBar},r.a.createElement(d.a,{overrideClass:{wrapper:f.topbarContent}},a)),r.a.createElement("div",{className:f.contentWrapper,id:m.f},r.a.createElement(d.a,{overrideClass:{wrapper:f.content}},t)),b&&r.a.createElement(O,{isSuspended:p===m.m.SUSPENDED}))};j.defaultProps={children:null,topBarContent:null};var x=j;a.d(t,"a",(function(){return x}))},239:function(e,t,a){"use strict";var n,r=a(23),i=a(22),o=a(105),l=Object(i.a)(n||(n=Object(r.a)(["\nquery getPlans{\n  getPlans{\n    ...PlanInfo\n  }\n}\n","\n"])),o.e);a.d(t,"a",(function(){return l}))},248:function(e,t,a){"use strict";var n=a(5),r=a.n(n),i=a(13),o=a(458);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=r()(e,"Key",""),n=a.split("/"),l=""===n[n.length-1],s=n.filter((function(e){return""!==e})).pop()||"",c=l?"folder":"file",u=!l&&o.a.test(s)?"archive":c,d=new Date(r()(e,"LastModified")),m=r()(e,"Size",0),p=l?"--":Object(i.m)(m,2,!0);return{key:a,type:c,name:s,size:m,bucket:t,subtype:u,bytesSize:p,lastModified:d,selected:!1,eTag:r()(e,"ETag"),fullKey:"".concat(t,"/").concat(a)}}},300:function(e,t,a){"use strict";var n,r=a(23),i=a(22),o=a(105),l=Object(i.a)(n||(n=Object(r.a)(["\n  query getTeamBillingInformation($teamId: ID!) {\n    getTeamBillingInformation(teamId: $teamId) {\n      ...BillingInfo\n    }\n  }\n  ","\n"])),o.b);t.a=l},302:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(2070),o=a(2106),l=a(33),s=a(1104),c=a.n(s),u=a(1105),d=a.n(u),m=a(1106),p=a.n(m),b=a(1107),f=a.n(b),g=a(1108),y=a.n(g),h="UNKNOWN",v="AMEX",E="VISA",O="MASTERCARD",S="DISCOVER",j=h,x=a(701),k=Object(x.a)((function(e){return{container:{display:"inline-flex",alignItems:"center",justifyContent:"center"},text:{color:e.palette.palette.black,fontSize:15},creditCardIcon:{marginRight:8,maxHeight:23,maxWidth:25},boldText:{fontWeight:500}}}));t.a=function(e){var t=k(),a=e.cardType,n=e.fourLastDigits,s=function(e){var t;return t={},Object(l.a)(t,v,{name:e("billing.creditCardDisplay.creditCardTypes.amex"),logo:d.a}),Object(l.a)(t,E,{name:e("billing.creditCardDisplay.creditCardTypes.visa"),logo:c.a}),Object(l.a)(t,O,{name:e("billing.creditCardDisplay.creditCardTypes.mastercard"),logo:p.a}),Object(l.a)(t,S,{name:e("billing.creditCardDisplay.creditCardTypes.discover"),logo:f.a}),Object(l.a)(t,j,{name:e("billing.creditCardDisplay.creditCardTypes.defaultCard"),logo:y.a}),t}(Object(i.a)().t),u=s[a]||s[h];return r.a.createElement("div",{className:t.container},r.a.createElement("img",{className:t.creditCardIcon,src:u.logo,alt:u.name}),r.a.createElement("span",null,r.a.createElement(o.a,{i18nKey:"billing.creditCardDisplay.text",values:{type:u.name,digits:n},components:[null,r.a.createElement("span",{className:t.boldText},"LAST_4_DIGITS")]})))}},303:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(2070),o=a(2101),l=a(369),s=a(556),c=a(701),u=Object(c.a)((function(e){return{root:{display:"flex",alignItems:"flex-start",cursor:"pointer","&:not(:last-child)":{paddingBottom:8}},description:{fontSize:12},radioBtn:{padding:0,margin:"2px 8px 0 0",color:e.palette.palette.grey2,"&$radioBtnChecked":{color:e.palette.palette.linkBlue},"& svg":{fontSize:18}},radioBtnChecked:{}}})),d=function(e){var t=e.checked,a=e.value,n=e.onChange,i=e.title,c=e.description,d=e.id,m=u();return r.a.createElement("label",{className:m.root,htmlFor:d},r.a.createElement(o.a,{checked:t,onChange:function(e){return n(e.target.value)},value:a,name:"auto-build-PRs",id:d,classes:{root:m.radioBtn,checked:m.radioBtnChecked}}),r.a.createElement("div",null,r.a.createElement(s.a,{fontWeight:500},r.a.createElement(l.a,{variant:"body2"},i)),r.a.createElement(l.a,{className:m.description,color:"textSecondary"},c)))};t.a=function(e){var t=e.value,a=e.onChange,n=Object(i.a)().t;return r.a.createElement("div",null,r.a.createElement(d,{checked:t,value:!0,onChange:a,title:n("sites.start.buildOptions.useProxy.useProxyOption"),description:n("sites.start.buildOptions.useProxy.useProxySmallText"),id:"use-proxy-on"}),r.a.createElement(d,{checked:!t,value:!1,onChange:function(e){return a("true"===e)},title:n("sites.start.buildOptions.useProxy.useServiceWorkerOption"),description:n("sites.start.buildOptions.useProxy.useServiceWorkerSmallText"),id:"use-proxy-off"}))}},321:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o}));var n="STORE_CLIENT_SECRET",r="DELETE_CLIENT_SECRET",i=function(e){return{type:n,payload:e}},o=function(){return{type:r}}},37:function(e,t,a){"use strict";var n,r,i,o,l,s,c,u,d,m,p,b,f=a(23),g=a(22),y=(Object(g.a)(n||(n=Object(f.a)(["\n  {\n    allTeams {\n      id\n      name\n      description\n    }\n  }\n"]))),Object(g.a)(r||(r=Object(f.a)(["\n  {\n    getCurrentUser {\n      user {\n        id\n        email\n        username\n        createdAt\n        individual {\n          firstname\n          lastname\n          profilePicUrl\n          description\n          websiteUrl\n        }\n      }\n    }\n  }\n"])))),h=a(105),v=Object(g.a)(i||(i=Object(f.a)(["\n  query getMemberships(\n    $limit: Int = 10,\n    $nextToken: String\n  ) {\n    getMemberships(\n      limit: $limit,\n      nextToken: $nextToken\n    ) {\n      memberships {\n        ...MembershipInfo\n      }\n      nextToken\n    }\n  }\n  ","\n"])),h.d),E=a(300),O=(Object(g.a)(o||(o=Object(f.a)(["\n  query getTeamBillingInformation($teamId: ID!) {\n    getTeamBillingInformation(teamId: $teamId) {\n      ...SitesLimitBillingInfo\n    }\n  }\n  ","\n"])),h.f),Object(g.a)(l||(l=Object(f.a)(["\n  query getMembersByTeam($teamId: ID!) {\n    getMembersByTeam(teamId: $teamId) {\n      accessLevel\n      member {\n        id\n        email\n        firstname\n        lastname\n      }\n      pendingMember {\n        ...InvitationInfo\n      }\n    }\n  }\n  ","\n"])),h.c)),S=Object(g.a)(s||(s=Object(f.a)(["\n  query getPaymentMethodInformation($paymentMethodId: ID!) {\n    getPaymentMethodInformation(paymentMethodId: $paymentMethodId) {\n      type\n      issuer\n      card {\n        lastCardNumbers\n        expMonth\n        expYear\n      }\n    }\n  }\n"]))),j=Object(g.a)(c||(c=Object(f.a)(["\n  query getTeamById($id: ID!) {\n    getTeamById(id: $id) {\n      ...TeamInfo\n    }\n  }\n  ","\n"])),h.g),x=a(432),k=Object(g.a)(u||(u=Object(f.a)(["\n  query getEnsDomainInfo($domain: String!, $network: EnsNetwork) {\n    getEnsDomainInfo(domain: $domain, network: $network) {\n      ...EnsDomainInformation\n    }\n  }\n  ","\n"])),x.a),w=Object(g.a)(d||(d=Object(f.a)(["\n  query getEnsControllerAddress($siteId: String!) {\n    getEnsControllerAddress(siteId: $siteId)\n  }\n"]))),C=Object(g.a)(m||(m=Object(f.a)(["\n  query getApiKeys($limit: Int, $nextToken: String) {\n    getApiKeys(limit: $limit, nextToken: $nextToken) {\n      apiKeys {\n        ...ApiKeyInfo\n      }\n    }\n  }\n  ","\n"])),h.a),N=a(453),I=Object(g.a)(p||(p=Object(f.a)(["\n  query getTeamApiKeys($teamId: ID!, $limit: Int, $nextToken: String) {\n    getTeamApiKeys(teamId: $teamId, limit: $limit, nextToken: $nextToken) {\n      apiKeys {\n        ...ScopedApiKeyInfo\n      }\n    }\n  }\n  ","\n"])),N.a),D=Object(g.a)(b||(b=Object(f.a)(["\n  query getDealStatus($hash: String!) {\n    getDealStatus(hash: $hash) {\n      dealId\n      proposalCid\n    }\n  }\n"])));a.d(t,"a",(function(){return y})),a.d(t,"f",(function(){return v})),a.d(t,"j",(function(){return E.a})),a.d(t,"g",(function(){return O})),a.d(t,"h",(function(){return S})),a.d(t,"k",(function(){return j})),a.d(t,"e",(function(){return k})),a.d(t,"d",(function(){return w})),a.d(t,"b",(function(){return C})),a.d(t,"i",(function(){return I})),a.d(t,"c",(function(){return D}))},377:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="UPDATE_LOADING_STATE",r=function(e){return{type:n,payload:{loading:e}}}},432:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n,r=a(23),i=a(22),o=Object(i.a)(n||(n=Object(r.a)(["\n  fragment EnsDomainInformation on EnsDomainInfo {\n    domain\n    ownerAddress\n    registrantAddress\n    isResolverMigrated\n    isFleekControlled\n    isAlreadyInUse\n  }\n"])))},433:function(e,t,a){"use strict";var n,r=a(23),i=a(22),o=a(68);t.a=Object(i.a)(n||(n=Object(r.a)(["\n  mutation setSiteEnsDomain($input: AddSiteEnsDomainInput!) {\n    setSiteEnsDomain(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"])),o.c)},434:function(e,t,a){"use strict";var n,r=a(23),i=a(22),o=a(68);t.a=Object(i.a)(n||(n=Object(r.a)(["\n  mutation removeSiteEnsDomain($input: RemoveSiteEnsDomainInput!) {\n    removeSiteEnsDomain(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"])),o.c)},439:function(e,t,a){"use strict";var n=a(12),r=a(1097),i=a(202),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auth,a=e.userAgent,o=e.baseUrl,l=void 0===o?"https://api.github.com":o,s=e.previews,c=e.timeZone,u=Object(i.a)(),d=Object(n.a)(u,2),m=d[1];return Object(r.Octokit)({auth:t||m,userAgent:a,baseUrl:l,previews:s,timeZone:c})};a.d(t,"a",(function(){return o}))},44:function(e,t,a){"use strict";a.d(t,"l",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"i",(function(){return i})),a.d(t,"m",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return s})),a.d(t,"n",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"k",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"j",(function(){return p})),a.d(t,"h",(function(){return b})),a.d(t,"g",(function(){return f})),a.d(t,"d",(function(){return g})),a.d(t,"p",(function(){return y})),a.d(t,"o",(function(){return h}));var n="OPEN_MODAL",r="CLOSE_MODAL",i="DNS_LINK_MODAL",o="PAYMENT_METHOD_MODAL",l="CREATE_FOLDER_MODAL",s="DELETE_STORED_ITEMS_MODAL",c="UPLOAD_ITEMS_MODAL",u="API_DETAILS_MODAL",d="HNS_MODAL",m="APP_API_DETAILS_MODAL",p="EDIT_USER_INFO_MODAL",b="DNS_CNAME_MODAL",f="DNS_A_RECORD_MODAL",g="CONFIRM_DNS_UPGRADE_MODAL",y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:n,payload:{props:t,id:e}}},h=function(){return{type:r}}},441:function(e,t,a){"use strict";var n=a(8),r=a.n(n),i=a(25),o=a(4),l=a(12),s=a(0),c=a.n(s),u=a(2070),d=a(28),m=a(2077),p=a(17),b=a.n(p),f=a(15),g=a(71),y=a(100),h=a(67),v=a(701),E=Object(v.a)((function(e){return{root:{marginLeft:10},spinner:{color:e.palette.palette.grey2}}}));t.a=function(e){var t=Object(u.a)().t,a=E(e),n=e.autoPublishing,p=e.siteId,v=Object(g.j)(),O=Object(d.a)(y.e,{client:f.b}),S=Object(l.a)(O,2),j=S[0],x=S[1].loading,k=Object(s.useCallback)(Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,j({variables:{input:{siteId:p,autoPublishing:!n}},update:function(e,t){var a=t.data,n=e.readQuery({query:h.c,variables:{slug:v.params.siteSlug}});e.writeQuery({query:h.c,variables:{slug:v.params.siteSlug},data:Object(o.a)(Object(o.a)({},n),{},{getSiteBySlug:Object(o.a)(Object(o.a)({},n.getSiteBySlug),{},{deploySettings:Object(o.a)(Object(o.a)({},n.getSiteBySlug.deploySettings),{},{autoPublishing:a.editDeploySettings.deploySettings.autoPublishing})})})})}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])}))),[p,n,x]);return c.a.createElement(b.a,{buttonVariant:"secondary",overrideClass:{button:a.root},onClick:k},x&&c.a.createElement(m.a,{size:"20px",className:a.spinner})||t("autopublishing.cta.".concat(n?"stop":"start")))}},453:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n,r=a(23),i=a(22),o=Object(i.a)(n||(n=Object(r.a)(["\n  fragment ScopedApiKeyInfo on ScopedApiKey {\n    key\n  }\n"])))},458:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=/\.(zip|rar|gzip|tgz|tar\.gz)$/},47:function(e,t,a){"use strict";a.d(t,"i",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"m",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"h",(function(){return p})),a.d(t,"j",(function(){return b})),a.d(t,"l",(function(){return f}));var n="other",r="gatsby",i="hugo",o="next-js",l="create-react-app",s="jekyll",c="gridsome",u="svelte",d="wordpress",m="MkDocs",p="nuxt-js",b="sapper",f="wasm-pack"},523:function(e,t){},529:function(e,t){},59:function(e,t,a){"use strict";var n=a(4),r=a(165),i=a.n(r),o=a(1090),l=a.n(o),s=function(e){return e?"object"===typeof e?e:"string"===typeof e?i.a.parse(e):{}:{}},c=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=i.a.parse(window.location.href.split("?")[1]||""),o=s(e),c=Object(n.a)(Object(n.a)({},r),o),u=i.a.parseUrl(window.location.hash.substr(1)).url;return i.a.stringifyUrl({url:t||u,query:l()(c,a)})},u=a(155),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=String(t),n={"-1":e("billing.misc.unlimited"),"-2":e("billing.misc.custom")};return{value:n[a]||t,wasConverted:Object.keys(n).includes(a)}},m=function(e,t){return e("billing.misc.priceWithUnit",{price:(t/100).toFixed(2)})},p=a(16),b=function(e){var t=e.find((function(e){var t=e.type,a=e.status;return t===p.c.PRIMARY&&a===p.b.PROPAGATED})),a=e.find((function(e){var t=e.type,a=e.status;return t===p.c.ALIAS_DOMAIN&&a===p.b.PROPAGATED})),n=e.find((function(e){return e.type===p.c.DEFAULT_SUBDOMAIN}));return t||a||n||{}},f=a(5),g=a.n(f),y=a(1091),h=a.n(y),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g()(e,"name",""),a=g()(e,"domains",[]),n=b(a);return h()(n)||n.type===p.c.DEFAULT_SUBDOMAIN?t:n.domain},E=a(55),O=a.n(E),S=function(e,t){var a=O.a.utc(t),n=O()().format("DD")===a.local().format("DD"),r=O()().diff(a,"days")<=1;return n&&r?" ".concat(e("common.at")," ").concat(a.format("LT")):"".concat(e("common.on")," ").concat(a.format("MMM DD"))},j=function(e,t){var a=t.isPublished,n=t.createdAt,r=t.lastPublishAt;return a?"".concat(e("sites.lastPublished")," ").concat(S(e,r)):"".concat(e("common.created")," ").concat(S(e,n))},x=function(e){var t=g()(e,"data.getSiteBySlug"),a=g()(t,"publishedDeploy.repository"),n=g()(t,"latestDeploy.repository"),r=g()(a,"owner")||g()(n,"owner",""),i=g()(a,"name")||g()(n,"name","");return{owner:r,name:i,branch:g()(a,"branch")||g()(n,"branch",""),url:"https://github.com/".concat(r,"/").concat(i)}},k=function(e,t){return e.createdAt>t.createdAt?1:e.createdAt<t.createdAt?-1:0},w=["Bytes","KB","MB","GB","TB"],C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=a?1e3:1024;if(0===e)return"0 Bytes";var r=Math.floor(Math.log(e)/Math.log(n)),i=parseFloat(e/Math.pow(n,r)).toFixed(t);return"".concat(i," ").concat(w[r])},N=a(458),I=function(e){return N.a.test(e)?"archive":"/"===e[0]?"folder":"file"},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0x0000000000000000000000000000000000000000";return e?"".concat(e.substring(0,4),"...").concat(e.substring(e.length-4,e.length)):null},T=a(82),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(T.a.storageIPFSGateway,"/").concat(e,"/").concat(t)},B=function(e,t,a){var n=g()(t,"gitEvent",null);return a===p.l.LOCAL?e("sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.localDeploy"):n===p.e.PULL_REQUEST?e("sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.deployPreview"):e("sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.branchLabel")},P=function(e){return"https://".concat("ipfs",".fleek.co/ipfs/").concat(e)},M=a(12),R=a(39),L=function(e){return O()(e).format("LTS L")},U=function(e){if(!e)return"";var t=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/g,a=/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z)/,n=e.split("\n").reduce((function(e,n){return a.test(n)?e.timestampLogs=[].concat(Object(R.a)(e.timestampLogs),[n]):e.headerLogs=[].concat(Object(R.a)(e.headerLogs),[n.replace(t,(function(e){return L(e)}))]),e}),{headerLogs:[],timestampLogs:[]}),r=n.headerLogs,i=n.timestampLogs.reduce((function(e,a){var n=a.match(t),r=Object(M.a)(n,1)[0];return e[r]?e[r]=[].concat(Object(R.a)(e[r]),[a.replace(t,(function(e){return L(e)}))]):e[r]=[a.replace(t,(function(e){return L(e)}))],e}),{}),o=Object.keys(i).sort().reduce((function(e,t){return[].concat(Object(R.a)(e),Object(R.a)(i[t]))}),[]);return[].concat(Object(R.a)(r),Object(R.a)(o)).join("\n")},F=(a(104),function(){return".on.".concat("fleek.co")});a.d(t,"o",(function(){return _})),a.d(t,"a",(function(){return W})),a.d(t,"i",(function(){return b})),a.d(t,"l",(function(){return v})),a.d(t,"k",(function(){return j})),a.d(t,"h",(function(){return x})),a.d(t,"j",(function(){return k})),a.d(t,"b",(function(){return C})),a.d(t,"e",(function(){return I})),a.d(t,"n",(function(){return D})),a.d(t,"m",(function(){return A})),a.d(t,"d",(function(){return B})),a.d(t,"g",(function(){return P})),a.d(t,"c",(function(){return U})),a.d(t,"f",(function(){return F}));var _={buildUrl:c,getAccountIdFromUrl:u.a},W={getUnlimitedOrValue:d,getDollarsFromCents:m}},66:function(e,t,a){"use strict";var n=a(33),r=a(4),i=a(12),o=a(635),l=a.n(o),s=a(1082),c=a.n(s),u=a(1083),d=a.n(u),m=a(230),p=a.n(m),b=a(1084),f=a.n(b),g=a(82),y=function(){var e=new Uint8Array(36),t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return window.crypto.getRandomValues(e),e=e.map((function(e){return t.charCodeAt(e%t.length)})),String.fromCharCode.apply(null,e)},h=window.localStorage.getItem("a_t"),v={events:{onUserAuth:"onUserAuth"},cbs:[],idToken:window.localStorage.getItem("i_t"),accessToken:h,isAuthenticated:!!h,isAuthTokenRefreshingDisabled:!1,setIdToken:function(e){window.localStorage.setItem("i_t",e),v.idToken=e},setAccessToken:function(e){v.setTimeoutWithRedirect(e),window.localStorage.setItem("a_t",e),l.a.set("a_t","true",{expires:365,domain:".fleek.co"}),v.isAuthenticated=!0,v.accessToken=e,v.emit(v.events.onUserAuth,!0)},getQSFromHash:function(e){try{return e.split("&").reduce((function(e,t){var a=t.split("="),o=Object(i.a)(a,2),l=o[0],s=o[1];return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},l,s))}),{})}catch(t){return console.error("[Verify user error]: ".concat(t.message)),null}},clean:function(){v.idToken=null,v.accessToken=null,v.isAuthenticated=!1,window.localStorage.removeItem("i_t"),window.localStorage.removeItem("a_t"),l.a.remove("a_t",{domain:".fleek.co"})},signout:function(){v.clean(),window.location.replace("".concat(g.a.auth.baseURL,"/session/end"))},authenticate:function(e,t){if(!v.isAuthTokenRefreshingDisabled){var a=d()({state:e,prompt:t,nonce:y(),client_id:g.a.auth.clientId,redirect_uri:g.a.auth.oidcRedirectUri,response_mode:"fragment",response_type:"token id_token",scope:"openid email profile team_info"},c.a),n=p.a.stringify(a);window.location.replace("".concat(g.a.auth.baseURL,"/auth?").concat(n))}},emit:function(e,t){v.cbs[e]&&v.cbs[e].forEach((function(e){e.call(null,t)}))},onListen:function(e,t){return"undefined"===typeof v.cbs[e]&&(v.cbs[e]=[]),v.cbs[e].push(t),function(){v.cbs[e]=v.cbs[e].filter((function(e){return e!==t}))}},init:function(){var e=window.location.href.split("#")[2]||"",t=v.getQSFromHash(e);t&&t.access_token||!h||v.setTimeoutWithRedirect(h)},setTimeoutWithRedirect:function(e){var t={exp:0};try{t=f()(e)}catch(n){}var a=1e3*t.exp-(new Date).getTime();setTimeout((function(){v.authenticate("".concat(window.location.href.split("/#/")[1]))}),a)},disableAuthTokenRefreshing:function(){v.isAuthTokenRefreshingDisabled=!0},enableAuthTokenRefreshing:function(){v.isAuthTokenRefreshingDisabled=!1,v.setTimeoutWithRedirect(v.accessToken)}};v.init(),t.a=v},67:function(e,t,a){"use strict";var n,r,i,o,l=a(23),s=a(22),c=a(68),u=Object(s.a)(n||(n=Object(l.a)(["\n  query getSiteBySlug($slug: String!) {\n    getSiteBySlug(slug: $slug) {\n      ...SiteDetail\n    }\n  }\n  ","\n"])),c.c),d=Object(s.a)(r||(r=Object(l.a)(["\nquery verifyDomainAvailability($domain: String!) {\n  verifyDomainAvailability(domain: $domain) {\n    price\n    period\n    currency\n    available\n  }\n}\n"]))),m=Object(s.a)(i||(i=Object(l.a)(["\nquery getDeploysBySite(\n  $siteId: ID!,\n  $limit: Int,\n  $nextToken: String\n  ) {\n  getDeploysBySite(\n    siteId: $siteId,\n    limit: $limit\n    nextToken: $nextToken\n  ) {\n    nextToken\n    deploys {\n      ...DeployDetail\n    }\n  }\n}\n","\n"])),c.a),p=Object(s.a)(o||(o=Object(l.a)(["\nquery getHnsTldInfo($tld: String!) {\n  getHnsTldInfo(tld: $tld) {\n    hasOwner\n  }\n}\n"])));a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return p}))},68:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return m})),a.d(t,"a",(function(){return p}));var n,r,i,o,l=a(23),s=a(22),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hideTeam,a=void 0!==t&&t,n=a?"":"\n  team {\n    id\n    name\n  }\n";return"\n    id\n    name\n    slug\n    createdBy\n    createdAt\n    updatedAt\n    description\n    platform\n    dfinityCanisterId\n    ".concat(n,"\n    pullZoneUrl\n    buildSettings {\n      buildCommand\n      baseDirectoryPath\n      publishDirectoryPath\n      dockerImage\n      environmentVariables {\n        name\n        value\n      }\n    }\n    deploySettings {\n      autoPublishing\n      prDeployPreviews\n      dfinityUseProxy\n      source {\n        __typename\n        ... on Repository {\n          url\n          type\n          branch\n        }\n        ... on IpfsSource {\n          cid\n        }\n      }\n    }\n    domains {\n      type\n      domain\n      status\n      siteId\n      teamId\n      primary\n      domainId\n      createdAt\n      creatorId\n      dnsLinkStatus\n      stripeSessionId\n      boughtWithTerminal\n      proxyType\n      sslInfo {\n        type\n        createdAt\n        expiresAt\n        error\n      }\n    }\n    publishedDeploy {\n      id\n      startedAt\n      completedAt\n      status\n      ipfsHash\n      log\n      published\n      previewImage\n      repository {\n        url\n        name\n        owner\n        branch\n        commit\n      }\n    }\n    latestDeploy {\n      id\n      startedAt\n      completedAt\n      status\n      ipfsHash\n      log\n      published\n      previewImage\n      completedAt\n      repository {\n        url\n        name\n        owner\n        branch\n        commit\n      }\n    }\n    ensDomain {\n      domain\n      contentHash\n      ownerAddress\n      registrantAddress\n      network\n      isFleekControlled\n      verificationStatus\n      updateStatus\n      verificationError\n      isResolverMigrated\n    }\n  ")},u=Object(s.a)(n||(n=Object(l.a)(["\n  fragment MinSiteDetail on Site {\n    id\n    slug\n    name\n    platform\n    team {\n      id\n      name\n    }\n    domains {\n      type\n      status\n      domain\n    }\n    latestDeploy {\n      id\n      status\n      ipfsHash\n      completedAt\n      previewImage\n      repository {\n        url\n      }\n    }\n    publishedDeploy {\n      id\n      status\n      completedAt\n    }\n    deploySettings {\n      source { \n        __typename\n        ... on Repository {\n          type\n          url\n          branch\n        }\n        ... on IpfsSource {\n          cid\n        }\n      }\n    }\n  }\n"]))),d=Object(s.a)(r||(r=Object(l.a)(["\n  fragment SiteDetail on Site {\n    ","\n  }\n"])),c()),m=Object(s.a)(i||(i=Object(l.a)(["\nfragment SiteDetailSubscription on Site {\n  ","\n}\n"])),c({hideTeam:!0})),p=Object(s.a)(o||(o=Object(l.a)(["\n  fragment DeployDetail on Deploy {\n    id\n    startedAt\n    completedAt\n    status\n    ipfsHash\n    log\n    published\n    previewImage\n    repository {\n      url\n      name\n      owner\n      branch\n      commit\n      message\n    }\n    gitEvent\n    pullRequestUrl\n    taskId\n  }\n"])))},82:function(e,t,a){"use strict";var n={production:{logRocket:{projectId:"fleek/fleek",scrubHeaders:["Authorization"]},ethereum:{netId:1,network:"mainnet",ENSRegistryContractAddress:"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85",ENSStorageContractAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",infuraId:"043c76cd56f342329f588bbf2e261150"},supportEmail:"support@fleek.co",stripeKey:"pk_live_5BfNUNll7l9PFbO0vNmTTSIi",auth:{clientId:"terminal",baseURL:"https://auth.fleek.co",oidcRedirectUri:"https://app.fleek.co/auth-cb/"},oldApi:{baseURL:"https://terminal.co/graphql",wsBaseURL:"wss://terminal.co/graphql"},newApi:{baseURL:"https://b6756lokszgovfg2lkge3t4kai.appsync-api.us-west-2.amazonaws.com/graphql",wsBaseURL:"wss://b6756lokszgovfg2lkge3t4kai.appsync-realtime-api.us-west-2.amazonaws.com/graphql"},intercomKey:"k1pm16x3",storageIPFSGateway:"storageapi.fleek.co",s3Client:{baseURL:"https://storageapi.fleek.co/"},sentry:{org:"fleek-uo",dsn:"https://e7d85f83b6854092885b33074c5eab7d@o385630.ingest.sentry.io/5228504"}},staging:{logRocket:{projectId:"fleek/fleek",scrubHeaders:["Authorization"]},ethereum:{netId:3,network:"ropsten",ENSRegistryContractAddress:"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85",ENSStorageContractAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",infuraId:"043c76cd56f342329f588bbf2e261150"},supportEmail:"support@fleek.co",stripeKey:"pk_live_5BfNUNll7l9PFbO0vNmTTSIi",auth:{clientId:"terminal",baseURL:"https://stg-auth.fleek.co",oidcRedirectUri:"https://stg-app.fleek.co/auth-cb/"},oldApi:{baseURL:"https://stg.terminal.co/graphql",wsBaseURL:"wss://stg.terminal.co/graphql"},newApi:{baseURL:"https://h6qbvxquqjg5direndhm7ugaj4.appsync-api.us-west-2.amazonaws.com/graphql",wsBaseURL:"wss://h6qbvxquqjg5direndhm7ugaj4.appsync-realtime-api.us-west-2.amazonaws.com/graphql"},intercomKey:"zyexc80g",storageIPFSGateway:"storageapi-stg.fleek.co",s3Client:{baseURL:"https://storageapi-stg.fleek.co/"},sentry:{org:"fleek-uo",dsn:"https://e7d85f83b6854092885b33074c5eab7d@o385630.ingest.sentry.io/5228504"}},development:{logRocket:{projectId:"fleek/fleek",scrubHeaders:["Authorization"]},ethereum:{netId:3,network:"ropsten",ENSRegistryContractAddress:"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85",ENSStorageContractAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",infuraId:"043c76cd56f342329f588bbf2e261150"},supportEmail:"support@fleek.co",stripeKey:"pk_test_CJZoF6F9uT47IWH2gtdoxvOn",auth:{clientId:"terminal",baseURL:"https://dev-auth.fleek.co",oidcRedirectUri:"https://dev-app.fleek.co/auth-cb/"},oldApi:{baseURL:"https://dev.terminal.co/graphql",wsBaseURL:"wss://dev.terminal.co/graphql"},newApi:{baseURL:"https://7w65cjs2fnbwzdsltmxj427wfu.appsync-api.us-west-2.amazonaws.com/graphql",wsBaseURL:"wss://7w65cjs2fnbwzdsltmxj427wfu.appsync-realtime-api.us-west-2.amazonaws.com/graphql"},intercomKey:"zyexc80g",storageIPFSGateway:"storageapi-dev.fleek.co",s3Client:{baseURL:"https://storageapi-dev.fleek.co/"},sentry:{org:"fleek-uo",dsn:"https://e7d85f83b6854092885b33074c5eab7d@o385630.ingest.sentry.io/5228504"}}};t.a=n.production||n.development},87:function(e,t,a){"use strict";var n,r,i,o,l,s,c,u,d,m,p,b,f,g,y,h,v,E=a(23),O=a(22),S=Object(O.a)(n||(n=Object(E.a)(["\n  mutation removeSite($input: RemoveSiteInput!) {\n    removeSite(input: $input) {\n      id\n    }\n  }\n"]))),j=Object(O.a)(r||(r=Object(E.a)(["\n  mutation setupBillingIntent($teamId: ID!) {\n    setupBillingIntent(teamId: $teamId) {\n      intentId\n    }\n  }\n"]))),x=Object(O.a)(i||(i=Object(E.a)(["\n  mutation removeCustomDomain($input: RemoveCustomDomainInput!) {\n    removeCustomDomain(input: $input) {\n      id\n    }\n  }\n"]))),k=Object(O.a)(o||(o=Object(E.a)(["\n  mutation attachPaymentMethod($teamId: ID!, $paymentMethodId: String!) {\n    attachPaymentMethod(teamId: $teamId, paymentMethodId: $paymentMethodId)\n  }\n"]))),w=Object(O.a)(l||(l=Object(E.a)(["\n  mutation removeTeamMemberSlot($input: RemoveTeamMemberSlotInput!) {\n    removeTeamMemberSlot(input: $input)\n  }\n"]))),C=a(105),N=Object(O.a)(s||(s=Object(E.a)(["\n  mutation inviteUser($teamId: ID!, $emails: [String!]!) {\n    inviteUser(teamId: $teamId, emails: $emails) {\n      ...InvitationInfo\n    }\n  }\n  ","\n"])),C.c),I=Object(O.a)(c||(c=Object(E.a)(["\n  mutation addTeamMember($input: AddTeamMemberInput!) {\n    addTeamMember(input: $input) {\n      ...MembershipInfo\n    }\n  }\n  ","\n"])),C.d),D=Object(O.a)(u||(u=Object(E.a)(["\n  mutation editSiteName($input: EditSiteNameInput!) {\n    editSiteName(input: $input) {\n      id\n    }\n  }\n"]))),T=(a(433),a(434),a(68)),A=Object(O.a)(d||(d=Object(E.a)(["\n  mutation verifySiteEnsDomain($input: VerifySiteEnsDomainInput!) {\n    verifySiteEnsDomain(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"])),T.c),B=Object(O.a)(m||(m=Object(E.a)(["\n  mutation verifyDnsLink($input: VerifyDnsInput!) {\n    verifyDnsLink(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"])),T.c),P=Object(O.a)(p||(p=Object(E.a)(["\n  mutation setupBillingIntentWithoutTeam {\n    setupBillingIntentWithoutTeam {\n      intentId\n    }\n  }\n"]))),M=(Object(O.a)(b||(b=Object(E.a)(["\n  mutation DeleteStoredItems($input: DeleteStoredItemsInput!) {\n    DeleteStoredItems(input: $input) {\n      id\n    }\n  }\n"]))),Object(O.a)(f||(f=Object(E.a)(["\n  mutation generateTempApiKey {\n    generateTempApiKey {\n      key\n      secret\n      expiration\n      sessionToken\n    }\n  }\n"])))),R=Object(O.a)(g||(g=Object(E.a)(["\n  mutation generateApiKey {\n    generateApiKey {\n      ...ApiKeyInfo\n    }\n  }\n  ","\n"])),C.a),L=a(453),U=Object(O.a)(y||(y=Object(E.a)(["\n  mutation generateAppApiKey($input: GenerateAppApiKeyInput!) {\n    generateAppApiKey(input: $input) {\n      ...ScopedApiKeyInfo\n    }\n  }\n  ","\n"])),L.a),F=Object(O.a)(h||(h=Object(E.a)(["\n  mutation removeHns($input: RemoveHnsInput!) {\n    removeHns(input: $input) {\n      id\n    }\n  }\n"]))),_=Object(O.a)(v||(v=Object(E.a)(["\n  mutation editUserProfile($input: EditUserProfileInput!) {\n    editUserProfile(input: $input) {\n      user {\n        individual {\n          firstname\n          lastname\n        }\n      }\n    }\n  }\n"])));a.d(t,"k",(function(){return S})),a.d(t,"m",(function(){return j})),a.d(t,"i",(function(){return x})),a.d(t,"b",(function(){return k})),a.d(t,"l",(function(){return w})),a.d(t,"h",(function(){return N})),a.d(t,"a",(function(){return I})),a.d(t,"c",(function(){return D})),a.d(t,"p",(function(){return A})),a.d(t,"o",(function(){return B})),a.d(t,"n",(function(){return P})),a.d(t,"g",(function(){return M})),a.d(t,"e",(function(){return R})),a.d(t,"f",(function(){return U})),a.d(t,"j",(function(){return F})),a.d(t,"d",(function(){return _}))},92:function(e,t,a){"use strict";a.d(t,"i",(function(){return f})),a.d(t,"g",(function(){return g})),a.d(t,"h",(function(){return y})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return E})),a.d(t,"d",(function(){return O})),a.d(t,"e",(function(){return S})),a.d(t,"f",(function(){return j})),a.d(t,"j",(function(){return x})),a.d(t,"s",(function(){return k})),a.d(t,"r",(function(){return N})),a.d(t,"m",(function(){return I})),a.d(t,"n",(function(){return D})),a.d(t,"p",(function(){return T})),a.d(t,"q",(function(){return A})),a.d(t,"o",(function(){return B})),a.d(t,"k",(function(){return P})),a.d(t,"t",(function(){return M})),a.d(t,"l",(function(){return R}));var n=a(8),r=a.n(n),i=a(4),o=a(25),l=a(5),s=a.n(l),c=a(116),u=a(241),d=a(13),m=a(15),p=a(191),b=a(248),f="STORE_OBJETCS",g="SET_ERROR_STATE",y="SET_LOADING_STATE",h="BUCKET_ERROR",v="BUCKET_SUCESS",E="BUCKET_LOADING",O="EDIT_OBJECT",S="EDIT_OBJECTS",j="REMOVE_OBJECTS",x="UNSELECT_ALL_OBJECTS",k=function(){return{type:x}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:y,payload:e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:g,payload:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:j,payload:e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:O,payload:e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:S,payload:e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(w(!0)),t.next=3,Object(m.a)();case 3:t.sent.headObject(e,(function(t,n){if(t)return c.a(t,{tags:{scope:"s3",method:"headObject"}}),404===t.statusCode?void(window.location.hash=d.s.buildUrl(null,"/error/404")):(console.error("Error when trying to get the file: ".concat(t)),u.c.error("Error when trying to get your file ".concat(e.Key),{autoClose:6e3}),void a(C(t)));var r=Object(b.a)(Object(i.a)({Key:e.Key,Size:n.ContentLength},n),e.Bucket);a({type:f,payload:[r]})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(w(!0)),t.next=3,Object(m.a)();case 3:n=t.sent,i=s()(e,"Bucket",""),n.listObjectsV2(e,(function(t,r){if(t)return c.a(t,{tags:{scope:"s3",method:"listObjectsV2"}}),404===t.statusCode?void(window.location.hash=d.s.buildUrl(null,"/error/404")):(console.error("Error when trying to get bucket objects: ".concat(t)),u.c.error("Error when trying to get your objects from the bucket ".concat(i),{autoClose:6e3}),void a(C(t)));var o=r.Contents.map((function(e){return Object(b.a)(e,i)}));a({type:f,payload:o}),o.filter((function(e){return"folder"===e.type})).forEach((function(t){n.listObjectsV2({Bucket:e.Bucket,Delimiter:"/",Prefix:t.key},(function(e,t){if(e)return c.a(e,{tags:{scope:"s3",method:"listObjectsV2"}}),console.error(e);var n=t.Contents.map((function(e){return Object(b.a)(e,i)}));a({type:f,payload:n})}))}))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:E}),t.next=3,Object(m.a)();case 3:n=t.sent,A(e)(a),n.listBuckets((function(t,n){if(t)return c.a(t,{tags:{scope:"s3",method:"listBuckets"}}),console.error("Error when trying to get bucket objects: ".concat(t)),u.c.error("Error when trying to get your bucket: ".concat(e.Bucket),{autoClose:6e3}),void a({error:t.message,type:h});var r=n.Buckets.find((function(t){return t.Name===e.Bucket}));r?a({bucket:r,type:v}):window.location.hash=d.s.buildUrl(null,"/error/404")}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e,t){return function(a){var n={Key:e,LastModified:(new Date).toUTCString(),Size:0,eTag:""};a({type:f,payload:[Object(b.a)(n,t)]})}},M=function(e){return function(t){var a=e.Key.split("/").map((function(t,a,n){var r=t===e.Body.name,i=n.slice(0,a+1).join("/"),o=(new Date).toUTCString();return r?{Key:i,LastModified:o,Size:e.Body.size,eTag:"-1"}:{Key:"".concat(i,"/"),LastModified:o,Size:0,eTag:""}}));a.forEach((function(t){m.b.writeQuery({query:p.b,variables:{bucket:e.Bucket,key:t.Key},data:{getStorageObject:{hash:null,__typename:"Object"}}})})),t({type:f,payload:a.map((function(t){return Object(b.a)(t,e.Bucket)}))})}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,a){Object(m.a)().then((function(n){n.deleteObjects(e,(function(e,n){return e?(c.a(e,{tags:{scope:"s3",method:"deleteObjects"}}),a(e)):t(n)}))})).catch((function(e){return a(e)}))}))}}},[[1159,1,2]]]);
//# sourceMappingURL=main.32436570.chunk.js.map